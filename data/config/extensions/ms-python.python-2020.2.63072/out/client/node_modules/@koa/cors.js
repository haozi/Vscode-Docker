module.exports=function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=893)}({497:function(e,r,t){"use strict";
/*!
 * vary
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */e.exports=function(e,r){if(!e||!e.getHeader||!e.setHeader)throw new TypeError("res argument is required");var t=e.getHeader("Vary")||"",n=Array.isArray(t)?t.join(", "):String(t);(t=o(n,r))&&e.setHeader("Vary",t)},e.exports.append=o;var n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function o(e,r){if("string"!=typeof e)throw new TypeError("header argument is required");if(!r)throw new TypeError("field argument is required");for(var t=Array.isArray(r)?r:a(String(r)),o=0;o<t.length;o++)if(!n.test(t[o]))throw new TypeError("field argument contains an invalid header name");if("*"===e)return e;var s=e,i=a(e.toLowerCase());if(-1!==t.indexOf("*")||-1!==i.indexOf("*"))return"*";for(var l=0;l<t.length;l++){var u=t[l].toLowerCase();-1===i.indexOf(u)&&(i.push(u),s=s?s+", "+t[l]:t[l])}return s}function a(e){for(var r=0,t=[],n=0,o=0,a=e.length;o<a;o++)switch(e.charCodeAt(o)){case 32:n===r&&(n=r=o+1);break;case 44:t.push(e.substring(n,r)),n=r=o+1;break;default:r=o+1}return t.push(e.substring(n,r)),t}},893:function(e,r,t){"use strict";const n=t(497);e.exports=function(e){return e=Object.assign({},{allowMethods:"GET,HEAD,PUT,POST,DELETE,PATCH"},e),Array.isArray(e.exposeHeaders)&&(e.exposeHeaders=e.exposeHeaders.join(",")),Array.isArray(e.allowMethods)&&(e.allowMethods=e.allowMethods.join(",")),Array.isArray(e.allowHeaders)&&(e.allowHeaders=e.allowHeaders.join(",")),e.maxAge&&(e.maxAge=String(e.maxAge)),e.credentials=!!e.credentials,e.keepHeadersOnError=void 0===e.keepHeadersOnError||!!e.keepHeadersOnError,async function(r,t){const o=r.get("Origin");if(r.vary("Origin"),!o)return await t();let a;if("function"==typeof e.origin){if(a=e.origin(r),a instanceof Promise&&(a=await a),!a)return await t()}else a=e.origin||o;const s={};function i(e,t){r.set(e,t),s[e]=t}if("OPTIONS"!==r.method){if(i("Access-Control-Allow-Origin",a),!0===e.credentials&&i("Access-Control-Allow-Credentials","true"),e.exposeHeaders&&i("Access-Control-Expose-Headers",e.exposeHeaders),!e.keepHeadersOnError)return await t();try{return await t()}catch(e){const r=e.headers||{},t=n.append(r.vary||r.Vary||"","Origin");throw delete r.Vary,e.headers=Object.assign({},r,s,{vary:t}),e}}else{if(!r.get("Access-Control-Request-Method"))return await t();r.set("Access-Control-Allow-Origin",a),!0===e.credentials&&r.set("Access-Control-Allow-Credentials","true"),e.maxAge&&r.set("Access-Control-Max-Age",e.maxAge),e.allowMethods&&r.set("Access-Control-Allow-Methods",e.allowMethods);let n=e.allowHeaders;n||(n=r.get("Access-Control-Request-Headers")),n&&r.set("Access-Control-Allow-Headers",n),r.status=204}}}}});
//# sourceMappingURL=cors.js.map