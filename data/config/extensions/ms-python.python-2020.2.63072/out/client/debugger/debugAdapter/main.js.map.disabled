{"version":3,"sources":["../../webpack/bootstrap","../../external \"path\"","../.././node_modules/graceful-fs/graceful-fs.js","../.././node_modules/inversify/lib/constants/metadata_keys.js","../.././node_modules/universalify/index.js","../.././node_modules/inversify/lib/constants/error_msgs.js","../.././node_modules/fs-extra/lib/mkdirs/index.js","../.././node_modules/inversify/lib/inversify.js","../.././node_modules/inversify/lib/planning/metadata.js","../.././node_modules/inversify/lib/constants/literal_types.js","../.././node_modules/fs-extra/lib/path-exists/index.js","../.././node_modules/inversify/lib/annotation/decorator_utils.js","../../external \"events\"","../.././node_modules/inversify/lib/utils/guid.js","../.././node_modules/safer-buffer/safer.js","../../external \"fs\"","../../external \"stream\"","../.././src/client/common/types.ts","../.././src/client/common/utils/async.ts","../.././node_modules/inversify/lib/utils/serialization.js","../../external \"buffer\"","../.././node_modules/fs-extra/lib/remove/index.js","../../external \"net\"","../.././src/client/common/constants.ts","../../external \"child_process\"","../.././node_modules/fs-extra/lib/json/jsonfile.js","../.././node_modules/vscode-debugadapter/lib/debugSession.js","../.././node_modules/vscode-debugadapter/lib/messages.js","../.././node_modules/vscode-debugadapter/lib/logger.js","../.././src/client/common/utils/misc.ts","../.././node_modules/inversify/lib/syntax/binding_on_syntax.js","../.././node_modules/inversify/lib/syntax/binding_when_syntax.js","../.././src/client/debugger/debugAdapter/DebugClients/DebugClient.ts","../.././src/client/common/process/types.ts","../.././node_modules/rxjs/util/root.js","../.././node_modules/fs-extra/lib/fs/index.js","../../external \"assert\"","../.././node_modules/fs-extra/lib/copy/ncp.js","../../external \"os\"","../.././node_modules/fs-extra/lib/mkdirs/win32.js","../.././node_modules/fs-extra/lib/copy-sync/index.js","../.././node_modules/fs-extra/lib/util/buffer.js","../.././node_modules/vscode-debugadapter/lib/main.js","../.././node_modules/inversify/lib/planning/metadata_reader.js","../.././node_modules/inversify/lib/utils/exceptions.js","../.././node_modules/inversify/lib/annotation/inject.js","../.././node_modules/inversify/lib/planning/target.js","../.././node_modules/inversify/lib/syntax/binding_when_on_syntax.js","../.././node_modules/inversify/lib/syntax/constraint_helpers.js","../.././src/client/debugger/debugAdapter/DebugClients/localDebugClientV2.ts","../.././src/client/debugger/debugAdapter/DebugServers/BaseDebugServer.ts","../.././src/client/common/process/constants.ts","../.././src/client/ioc/types.ts","../.././node_modules/rxjs/util/isFunction.js","../.././node_modules/rxjs/util/errorObject.js","../.././node_modules/rxjs/Observer.js","../.././node_modules/rxjs/symbol/rxSubscriber.js","../.././src/client/debugger/debugAdapter/types.ts","../.././src/client/debugger/debugAdapter/main.ts","../.././node_modules/reflect-metadata/Reflect.js","../.././node_modules/fs-extra/lib/index.js","../.././node_modules/fs-extra/lib/util/assign.js","../.././node_modules/graceful-fs/polyfills.js","../../external \"constants\"","../.././node_modules/graceful-fs/legacy-streams.js","../.././node_modules/graceful-fs/clone.js","../../external \"util\"","../.././node_modules/fs-extra/lib/copy/index.js","../.././node_modules/fs-extra/lib/copy/copy.js","../.././node_modules/fs-extra/lib/util/utimes.js","../.././node_modules/fs-extra/lib/mkdirs/mkdirs.js","../.././node_modules/fs-extra/lib/mkdirs/mkdirs-sync.js","../.././node_modules/fs-extra/lib/copy-sync/copy-sync.js","../.././node_modules/fs-extra/lib/copy-sync/copy-file-sync.js","../.././node_modules/fs-extra/lib/remove/rimraf.js","../.././node_modules/fs-extra/lib/json/index.js","../.././node_modules/jsonfile/index.js","../.././node_modules/fs-extra/lib/json/output-json.js","../.././node_modules/fs-extra/lib/json/output-json-sync.js","../.././node_modules/fs-extra/lib/move/index.js","../.././node_modules/fs-extra/lib/move-sync/index.js","../.././node_modules/fs-extra/lib/empty/index.js","../.././node_modules/fs-extra/lib/ensure/index.js","../.././node_modules/fs-extra/lib/ensure/file.js","../.././node_modules/fs-extra/lib/ensure/link.js","../.././node_modules/fs-extra/lib/ensure/symlink.js","../.././node_modules/fs-extra/lib/ensure/symlink-paths.js","../.././node_modules/fs-extra/lib/ensure/symlink-type.js","../.././node_modules/fs-extra/lib/output/index.js","../.././node_modules/vscode-debugadapter/lib/protocol.js","../../external \"url\"","../.././node_modules/vscode-debugadapter/lib/loggingDebugSession.js","../.././node_modules/mkdirp/index.js","../.././node_modules/vscode-debugadapter/lib/handles.js","../.././src/client/constants.ts","../.././src/client/common/extensions.ts","../.././src/client/common/helpers.ts","../.././src/client/common/errors/moduleNotInstalledError.ts","../.././src/client/debugger/debugAdapter/DebugClients/DebugFactory.ts","../.././src/client/debugger/debugAdapter/DebugClients/launcherProvider.ts","../.././node_modules/inversify/lib/container/container.js","../.././node_modules/inversify/lib/bindings/binding.js","../.././node_modules/inversify/lib/planning/planner.js","../.././node_modules/inversify/lib/bindings/binding_count.js","../.././node_modules/inversify/lib/planning/context.js","../.././node_modules/inversify/lib/planning/plan.js","../.././node_modules/inversify/lib/planning/reflection_utils.js","../.././node_modules/inversify/lib/planning/queryable_string.js","../.././node_modules/inversify/lib/planning/request.js","../.././node_modules/inversify/lib/resolution/resolver.js","../.././node_modules/inversify/lib/resolution/instantiation.js","../.././node_modules/inversify/lib/syntax/binding_to_syntax.js","../.././node_modules/inversify/lib/syntax/binding_in_when_on_syntax.js","../.././node_modules/inversify/lib/syntax/binding_in_syntax.js","../.././node_modules/inversify/lib/container/container_snapshot.js","../.././node_modules/inversify/lib/container/lookup.js","../.././node_modules/inversify/lib/container/container_module.js","../.././node_modules/inversify/lib/annotation/injectable.js","../.././node_modules/inversify/lib/annotation/tagged.js","../.././node_modules/inversify/lib/annotation/named.js","../.././node_modules/inversify/lib/annotation/optional.js","../.././node_modules/inversify/lib/annotation/unmanaged.js","../.././node_modules/inversify/lib/annotation/multi_inject.js","../.././node_modules/inversify/lib/annotation/target_name.js","../.././node_modules/inversify/lib/annotation/post_construct.js","../.././node_modules/inversify/lib/utils/binding_utils.js","../.././src/client/debugger/debugAdapter/DebugClients/LocalDebugClient.ts","../.././src/client/common/open.ts","../.././src/client/debugger/debugAdapter/DebugServers/LocalDebugServerV2.ts","../.././src/client/debugger/debugAdapter/DebugClients/nonDebugClientV2.ts","../.././src/client/debugger/debugAdapter/DebugClients/RemoteDebugClient.ts","../.././src/client/debugger/debugAdapter/DebugServers/RemoteDebugServerv2.ts","../.././src/client/debugger/debugAdapter/serviceRegistry.ts","../.././src/client/common/net/socket/socketServer.ts","../.././src/client/common/process/currentProcess.ts","../.././src/client/common/process/decoder.ts","../.././node_modules/iconv-lite/lib/index.js","../.././node_modules/iconv-lite/lib/bom-handling.js","../.././node_modules/iconv-lite/encodings/index.js","../.././node_modules/iconv-lite/encodings/internal.js","../../external \"string_decoder\"","../.././node_modules/iconv-lite/encodings/utf16.js","../.././node_modules/iconv-lite/encodings/utf7.js","../.././node_modules/iconv-lite/encodings/sbcs-codec.js","../.././node_modules/iconv-lite/encodings/sbcs-data.js","../.././node_modules/iconv-lite/encodings/sbcs-data-generated.js","../.././node_modules/iconv-lite/encodings/dbcs-codec.js","../.././node_modules/iconv-lite/encodings/dbcs-data.js","../.././node_modules/iconv-lite/lib/streams.js","../.././node_modules/iconv-lite/lib/extend-node.js","../.././src/client/ioc/container.ts","../.././src/client/ioc/serviceManager.ts","../.././src/client/debugger/debugAdapter/Common/debugStreamProvider.ts","../.././src/client/debugger/debugAdapter/Common/processServiceFactory.ts","../.././src/client/common/process/proc.ts","../.././node_modules/rxjs/Observable.js","../.././node_modules/rxjs/util/toSubscriber.js","../.././node_modules/rxjs/Subscriber.js","../.././node_modules/rxjs/Subscription.js","../.././node_modules/rxjs/util/isArray.js","../.././node_modules/rxjs/util/isObject.js","../.././node_modules/rxjs/util/tryCatch.js","../.././node_modules/rxjs/util/UnsubscriptionError.js","../.././node_modules/rxjs/symbol/observable.js","../.././node_modules/rxjs/util/pipe.js","../.././node_modules/rxjs/util/noop.js","../.././src/client/debugger/debugAdapter/Common/protocolLogger.ts","../.././src/client/debugger/debugAdapter/Common/protocolParser.ts","../.././src/client/debugger/debugAdapter/Common/protocolWriter.ts","../.././node_modules/tree-kill/index.js"],"names":["enumerable","get","getter","value","key","bind","module","Object","prototype","hasOwnProperty","call","object","property","exports","require","fs","polyfills","legacy","clone","queue","util","fs$close","fs$closeSync","debug","patch","gracefulify","FileReadStream","ReadStream","FileWriteStream","WriteStream","createReadStream","path","options","createWriteStream","fs$readFile","readFile","cb","go$readFile","err","code","apply","this","arguments","retry","enqueue","fs$writeFile","writeFile","data","go$writeFile","fs$appendFile","appendFile","go$appendFile","fs$readdir","readdir","go$readdir","args","push","files","sort","process","version","substr","legStreams","fs$ReadStream","create","open","that","flags","mode","fd","autoClose","destroy","emit","read","fs$WriteStream","fs$open","go$open","elem","name","shift","debuglog","test","env","NODE_DEBUG","m","format","split","join","console","error","on","equal","length","TEST_GRACEFUL_FS_GLOBAL_PATCH","__patched","close","closeSync","rval","toString","defineProperty","NAMED_TAG","NAME_TAG","UNMANAGED_TAG","OPTIONAL_TAG","INJECT_TAG","MULTI_INJECT_TAG","TAGGED","TAGGED_PROP","PARAM_TYPES","DESIGN_PARAM_TYPES","POST_CONSTRUCT","fromCallback","fn","Promise","resolve","reject","res","fromPromise","then","r","DUPLICATED_INJECTABLE_DECORATOR","DUPLICATED_METADATA","NULL_ARGUMENT","KEY_NOT_FOUND","AMBIGUOUS_MATCH","CANNOT_UNBIND","NOT_REGISTERED","MISSING_INJECTABLE_ANNOTATION","MISSING_INJECT_ANNOTATION","UNDEFINED_INJECT_ANNOTATION","CIRCULAR_DEPENDENCY","NOT_IMPLEMENTED","INVALID_BINDING_TYPE","NO_MORE_SNAPSHOTS_AVAILABLE","INVALID_MIDDLEWARE_RETURN","INVALID_FUNCTION_BINDING","INVALID_TO_SELF_VALUE","INVALID_DECORATOR_OPERATION","ARGUMENTS_LENGTH_MISMATCH","values","_i","CONTAINER_OPTIONS_MUST_BE_AN_OBJECT","CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE","CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE","CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK","MULTIPLE_POST_CONSTRUCT_METHODS","POST_CONSTRUCT_ERROR","CIRCULAR_DEPENDENCY_IN_FACTORY","STACK_OVERFLOW","mkdirs","u","mkdirsSync","mkdirp","mkdirpSync","ensureDir","ensureDirSync","keys","METADATA_KEY","container_1","Container","literal_types_1","BindingScopeEnum","BindingTypeEnum","TargetTypeEnum","container_module_1","AsyncContainerModule","ContainerModule","injectable_1","injectable","tagged_1","tagged","named_1","named","inject_1","inject","LazyServiceIdentifer","optional_1","optional","unmanaged_1","unmanaged","multi_inject_1","multiInject","target_name_1","targetName","post_construct_1","postConstruct","metadata_reader_1","MetadataReader","guid_1","guid","decorator_utils_1","decorate","constraint_helpers_1","traverseAncerstors","taggedConstraint","namedConstraint","typeConstraint","serialization_1","getServiceIdentifierAsString","binding_utils_1","multiBindToService","Metadata","Request","Singleton","Transient","ConstantValue","Constructor","DynamicValue","Factory","Function","Instance","Invalid","Provider","ClassProperty","ConstructorArgument","Variable","pathExists","access","catch","pathExistsSync","existsSync","ERROR_MSGS","_tagParameterOrProperty","metadataKey","annotationTarget","propertyName","metadata","parameterIndex","paramsOrPropertiesMetadata","isParameterDecorator","undefined","Error","Reflect","hasOwnMetadata","getMetadata","paramOrPropertyMetadata","Array","isArray","paramOrPropertyMetadata_1","defineMetadata","_decorate","decorators","target","_param","paramIndex","decorator","tagParameter","tagProperty","constructor","s4","Math","floor","random","substring","buffer","Buffer","safer","Safer","from","Uint8Array","encodingOrOffset","TypeError","alloc","size","fill","encoding","RangeError","buf","kStringMaxLength","binding","e","constants","MAX_LENGTH","kMaxLength","MAX_STRING_LENGTH","IOutputChannel","Symbol","IDocumentSymbolProvider","IsWindows","IDisposableRegistry","IMemento","GLOBAL_MEMENTO","WORKSPACE_MEMENTO","IPersistentStateFactory","LogLevel","InstallerResponse","ProductType","Product","ModuleNamePurpose","IInstaller","IPathUtils","IRandom","ICurrentProcess","IConfigurationService","ISocketServer","IFileDownloader","IHttpClient","IExtensionContext","IExtensions","IBrowserService","IPythonExtensionBanner","BANNER_NAME_LS_SURVEY","BANNER_NAME_PROPOSE_LS","BANNER_NAME_DS_SURVEY","BANNER_NAME_INTERACTIVE_SHIFTENTER","IFeatureDeprecationManager","IEditorUtils","ICryptoUtils","IAsyncDisposableRegistry","IExperimentsManager","async","timeout","setTimeout","promise","timer","result","clearTimeout","DeferredImpl","scope","_resolved","_rejected","_promise","rej","_resolve","_reject","_value","_reason","createDeferred","promises","deferred","all","serviceIdentifier","getFunctionName","v","name_1","match","listRegisteredBindingsForServiceIdentifier","container","getBindings","registeredBindingsList","registeredBindings","forEach","implementationType","constraint","metaData","circularDependencyToException","request","childRequests","childRequest","alreadyDependencyChain","parentRequest","services","_createStringArr","req","reverse","dependencyChainToString","listMetadataForTarget","serviceIdentifierString","isTagged","isNamed","m_1","namedTag","getNamedTag","otherTags","getCustomTags","tag","rimraf","remove","removeSync","sync","isUnitTestExecution","VSC_PYTHON_UNIT_TEST","PYTHON_LANGUAGE","JUPYTER_LANGUAGE","PYTHON_WARNINGS","PYTHON","scheme","language","PYTHON_ALLFILES","PVSC_EXTENSION_ID","CODE_RUNNER_EXTENSION_ID","AppinsightsKey","Commands","Set_Interpreter","Set_ShebangInterpreter","Exec_In_Terminal","Exec_In_Terminal_Icon","Exec_Selection_In_Terminal","Exec_Selection_In_Django_Shell","Tests_View_UI","Tests_Picker_UI","Tests_Picker_UI_Debug","Tests_Configure","Tests_Discover","Tests_Discovering","Tests_Run_Failed","Sort_Imports","Tests_Run","Tests_Run_Parametrized","Tests_Debug","Tests_Ask_To_Stop_Test","Tests_Ask_To_Stop_Discovery","Tests_Stop","Test_Reveal_Test_Item","ViewOutput","Tests_ViewOutput","Tests_Select_And_Run_Method","Tests_Select_And_Debug_Method","Tests_Select_And_Run_File","Tests_Run_Current_File","Refactor_Extract_Variable","Refactor_Extract_Method","Build_Workspace_Symbols","Start_REPL","Create_Terminal","Set_Linter","Enable_Linter","Run_Linter","Enable_SourceMap_Support","navigateToTestFunction","navigateToTestSuite","navigateToTestFile","openTestNodeInEditor","runTestNode","debugTestNode","SwitchOffInsidersChannel","SwitchToInsidersDaily","SwitchToInsidersWeekly","PickLocalProcess","Octicons","Test_Pass","Test_Fail","Test_Error","Test_Skip","Button_Text_Tests_View_Output","Text","CodeLensRunUnitTest","CodeLensDebugUnitTest","Delays","MaxUnitTestCodeLensDelay","STANDARD_OUTPUT_CHANNEL","isCI","TRAVIS","TF_BUILD","VSC_PYTHON_CI_TEST","terminalNamePrefixNotToAutoActivate","jsonFile","readJson","readJsonSync","readFileSync","writeJson","writeJsonSync","writeFileSync","protocol_1","messages_1","Net","url_1","Source","id","origin","sourceReference","adapterData","Scope","reference","expensive","variablesReference","StackFrame","i","nm","src","ln","col","source","line","column","Thread","ref","indexedVariables","namedVariables","Breakpoint","verified","Module","CompletionItem","label","start","StoppedEvent","Event","reason","threadId","exceptionText","super","body","text","ContinuedEvent","allThreadsContinued","InitializedEvent","TerminatedEvent","restart","OutputEvent","output","category","ThreadEvent","BreakpointEvent","breakpoint","ModuleEvent","LoadedSourceEvent","CapabilitiesEvent","capabilities","ErrorDestination","DebugSession","ProtocolServer","obsolete_debuggerLinesAndColumnsStartAt1","obsolete_isServer","linesAndColumnsStartAt1","_debuggerLinesStartAt1","_debuggerColumnsStartAt1","_debuggerPathsAreURIs","_clientLinesStartAt1","_clientColumnsStartAt1","_clientPathsAreURIs","_isServer","shutdown","enable","debugSession","port","argv","slice","val","index","array","portMatch","exec","parseInt","createServer","socket","session","setRunAsServer","listen","stdin","stdout","exit","response","codeOrMessage","variables","dest","User","msg","showUser","Telemetry","sendTelemetry","success","message","formatPII","sendResponse","sendRequest","Response","command","linesStartAt1","columnsStartAt1","pathFormat","sendErrorResponse","initializeResponse","initializeRequest","launchRequest","attachRequest","disconnectRequest","terminateRequest","restartRequest","setBreakPointsRequest","setFunctionBreakPointsRequest","setExceptionBreakPointsRequest","configurationDoneRequest","continueRequest","nextRequest","stepInRequest","stepOutRequest","stepBackRequest","reverseContinueRequest","restartFrameRequest","gotoRequest","pauseRequest","stackTraceRequest","scopesRequest","variablesRequest","setVariableRequest","setExpressionRequest","sourceRequest","threadsRequest","terminateThreadsRequest","evaluateRequest","stepInTargetsRequest","gotoTargetsRequest","completionsRequest","exceptionInfoRequest","loadedSourcesRequest","dataBreakpointInfoRequest","setDataBreakpointsRequest","readMemoryRequest","disassembleRequest","customRequest","_exception","_stack","stack","supportsConditionalBreakpoints","supportsHitConditionalBreakpoints","supportsFunctionBreakpoints","supportsConfigurationDoneRequest","supportsEvaluateForHovers","supportsStepBack","supportsSetVariable","supportsRestartFrame","supportsStepInTargetsRequest","supportsGotoTargetsRequest","supportsCompletionsRequest","supportsRestartRequest","supportsExceptionOptions","supportsValueFormattingOptions","supportsExceptionInfoRequest","supportTerminateDebuggee","supportsDelayedStackTraceLoading","supportsLoadedSourcesRequest","supportsLogPoints","supportsTerminateThreadsRequest","supportsSetExpression","supportsTerminateRequest","supportsDataBreakpoints","supportsReadMemoryRequest","supportsDisassembleRequest","clientPath","uri2path","path2uri","debuggerPath","platform","toLowerCase","replace","encodeURI","uri","URL","pathname","sourceUri","s","decodeURIComponent","excludePII","_formatPIIRegexp","paramName","Message","type","seq","request_seq","event","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","done","debugSession_1","Logger","_pendingLogQ","level","Log","_write","log","Verbose","Warn","_currentLogger","disposeP","dispose","consoleMinLogLevel","_logFilePath","prependTimestamp","logFilePath","_logFilePathFromInit","setup","logQ","item","logCallback","logToConsole","InternalLogger","logger","isServer","beforeExitCallback","_logCallback","_logToConsole","_minLogLevel","disposeCallback","signal","_prependTimestamp","isAbsolute","handleError","sendLog","folder","dirname","_logFileStream","logDateTime","setupShutdownListeners","d","Date","timeAndDateStamp","getUTCFullYear","getUTCMonth","getUTCDate","getFormattedTimeString","addListener","removeListener","removeShutdownListeners","end","Stop","logFn","warn","trimLastNewline","write","endsInNewline","LogOutputEvent","str","_padZeroes","String","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","minDesiredLength","numberToPad","repeat","disposable","func","resource","binding_when_syntax_1","BindingOnSyntax","_binding","onActivation","handler","BindingWhenSyntax","binding_on_syntax_1","when","whenTargetNamed","whenTargetIsDefault","whenTargetTagged","whenInjectedInto","parent","whenParentNamed","whenParentTagged","whenAnyAncestorIs","ancestor","whenNoAncestorIs","whenAnyAncestorNamed","whenNoAncestorNamed","whenAnyAncestorTagged","whenNoAncestorTagged","whenAnyAncestorMatches","whenNoAncestorMatches","DebugType","DebugClient","EventEmitter","Local","_dbgServer","IBufferDecoder","IProcessLogger","IProcessServiceFactory","IPythonExecutionFactory","IPythonExecutionService","StdErrError","IPythonToolExecutionService","__window","window","__self","self","WorkerGlobalScope","__global","global","_root","root","api","filter","method","exists","filename","callback","offset","position","bytesRead","a","b","c","bytesWritten","utimes","basePath","cwd","currentPath","targetPath","transform","overwrite","clobber","errorOnExist","dereference","preserveTimestamps","started","finished","running","errored","startCopy","RegExp","doneOne","stat","lstat","stats","onError","dir","mtime","atime","isDirectory","isFile","isCharacterDevice","isBlockDevice","file","isWritable","writable","copyFile","rmFile","onFile","isSymbolicLink","link","readlink","resolvedPath","makeLink","targetDest","checkLink","onLink","mkdir","chmod","copyDir","mkDir","getStats","readStream","writeStream","pipe","once","utimesMillis","unlink","items","linkPath","symlink","skipped","getRootPath","p","normalize","sep","INVALID_PATH_CHARS","invalidWin32Path","rp","copySync","allocUnsafe","loggingDebugSession_1","LoggingDebugSession","handles_1","Handles","getConstructorMetadata","constructorFunc","compilerGeneratedMetadata","userGeneratedMetadata","getPropertiesMetadata","isStackOverflowExeption","error_msgs_1","metadata_1","_cb","unwrap","targetKey","queryable_string_1","Target","namedOrTagged","QueryableString","metadataItem","hasTag","_a","matchesArray","matchesTag","some","isOptional","matchesNamedTag","_this","BindingWhenOnSyntax","_bindingWhenSyntax","_bindingOnSyntax","bindings","LocalDebugClientV2","LocalDebugClient","canLaunchTerminal","launcherScriptProvider","_cwd","debugPort","getLauncherArgs","host","customDebugger","programArgs","program","BaseDebugServer","isRunning","debugClientConnected","clientSocket","DEFAULT_ENCODING","IServiceManager","IServiceContainer","isFunction","x","errorObject","empty","closed","complete","rxSubscriber","for","$$rxSubscriber","IProtocolParser","IProtocolLogger","IDebugStreamProvider","IProtocolMessageWriter","killProcessTree","PythonDebugger","serviceContainer","fileExistsSync","fsextra","client","supportsRunInTerminalRequest","debugServer","supportsModulesRequest","exceptionBreakpointFilters","default","launcher","CreateAttachDebugClient","CreateDebugServer","Start","ex","getUserFriendlyAttachErrorMessage","launchPTVSD","waitForPTVSDToConnect","getUserFriendlyLaunchErrorMessage","CreateLaunchDebugClient","serverInfo","LaunchApplicationToDebug","duration","getConnectionTimeout","connectionTimeout","max","launchArgs","errorMsg","isNotInstalledError","pythonPath","errno","DebugManager","isServerMode","disposables","hasShutdown","terminatedEventSent","disconnectResponseSent","verbose","sendMessage","outputStream","details","EOL","launchOrAttach","ptvsdProcessId","sleep","connectVSCodeToPTVSD","_response","attachOrLaunchRequest","ignoreErrors","debugSoketProtocolParser","connect","proc","systemProcessId","inputStream","unpipe","debugSessionInputStream","debugSessionOutputStream","throughOutputStream","onRequestInitialize","initializeRequestDeferred","onRequestLaunch","loggingEnabled","logToFile","launchRequestDeferred","onRequestAttach","attachRequestDeferred","onRequestDisconnect","onEventTerminated","onResponseDisconnect","throughInputStream","PassThrough","protocolMessageWriter","inputProtocolParser","outputProtocolParser","protocolLogger","noop","debugStreamProvider","input","getInputAndOutputStreams","useDebugSocketStream","pause","interceptProtocolMessages","startDebugSession","stderr","init","EXTENSION_ROOT_DIR","pid","initializeIoc","debugManager","startDebugger","_ex","factory","exporter","makeExporter","previous","configurable","hasOwn","supportsSymbol","toPrimitiveSymbol","toPrimitive","iteratorSymbol","iterator","supportsCreate","supportsProto","__proto__","downLevel","HashMap","MakeDictionary","has","map","functionPrototype","getPrototypeOf","usePolyfill","_Map","Map","entries","cacheSentinel","arraySentinel","MapIterator","selector","_index","_keys","_values","_selector","throw","return","_cacheKey","_cacheIndex","_find","set","delete","clear","getKey","getValue","getEntry","insert","indexOf","_","CreateMapPolyfill","_Set","Set","_map","add","WeakMap","rootKey","CreateUniqueKey","_key","table","GetOrCreateWeakMapTable","CreateUUID","FillRandomBytes","crypto","getRandomValues","msCrypto","byte","CreateWeakMapPolyfill","GetOrCreateMetadataMap","O","Create","targetMetadata","IsUndefined","metadataMap","OrdinaryHasOwnMetadata","MetadataKey","OrdinaryGetOwnMetadata","OrdinaryDefineOwnMetadata","MetadataValue","OrdinaryOwnMetadataKeys","obj","GetMethod","IsCallable","IsObject","GetIterator","k","IteratorStep","nextValue","IteratorClose","Type","IsNull","ToPrimitive","PreferredType","hint","exoticToPrim","toString_1","valueOf","toString_2","OrdinaryToPrimitive","ToPropertyKey","argument","ToString","IsArray","IsConstructor","V","f","OrdinaryGetPrototypeOf","proto","prototypeProto","__","propertyKey","attributes","decorated","DecorateConstructor","descriptor","DecorateProperty","metadataValue","IsPropertyKey","OrdinaryHasMetadata","OrdinaryGetMetadata","OrdinaryMetadataKeys","ownKeys","parentKeys","ownKeys_1","parentKeys_1","assign","origCwd","GRACEFUL_FS_PLATFORM","er","chdir","lchmod","O_WRONLY","O_SYMLINK","fchmod","err2","lchmodSync","ret","openSync","threw","fchmodSync","patchLchmod","lutimes","at","mt","futimes","er2","lutimesSync","futimesSync","_b","_c","nextTick","patchLutimes","chown","chownFix","fchown","lchown","chmodFix","chownSync","chownFixSync","fchownSync","lchownSync","chmodSync","chmodFixSync","statFix","fstat","statSync","statFixSync","fstatSync","lstatSync","uid","gid","rename","fs$rename","to","now","backoff","CB","stater","st","orig","chownErOk","getuid","fs$read","callback_","eagCounter","readSync","fs$readSync","Stream","readable","paused","bufferSize","setEncoding","Infinity","pos","_read","busy","_queue","_open","flush","copy","getOwnPropertyNames","getOwnPropertyDescriptor","ncp","arch","parts","pop","dirExists","os","hasMillisRes","tmpfile","tmpdir","hasMillisResSync","timeRemoveMillis","timestamp","getTime","futimesErr","closeErr","o777","opts","made","errInval","xfs","umask","mkdirSync","err0","err1","copyFileSync","recursive","destFolder","destFolderExists","performCopy","readdirSync","content","srcPath","readlinkSync","symlinkSync","_buff","srcFile","destFile","unlinkSync","fdr","fdw","writeSync","assert","isWindows","defaults","maxBusyTries","busyTries","rimraf_","fixWinEPERM","rmdir","er3","fixWinEPERMSync","rmdirSync","originalEr","errState","n","rmkids","rimrafSync","retries","rmkidsSync","outputJson","outputJsonSync","outputJSON","outputJSONSync","writeJSON","writeJSONSync","readJSON","readJSONSync","_fs","stringify","spaces","JSON","replacer","stripBom","isBuffer","jsonfile","shouldThrow","throws","parse","reviver","itDoes","moveAcrossDevice","moveDirAcrossDevice","ins","outs","onClose","moveFileAcrossDevice","startNcp","move","baseDir","destBasename","basename","isSrcSubdir","itIs","moveSyncAcrossDevice","tryCopySync","moveDirSyncAcrossDevice","moveFileSyncAcrossDevice","moveSync","accessSync","renameSync","linkSync","tryRenameSync","emptyDir","deleteItem","emptyDirSync","emptydirSync","emptydir","createFile","createFileSync","ensureFile","ensureFileSync","createLink","createLinkSync","ensureLink","ensureLinkSync","createSymlink","createSymlinkSync","ensureSymlink","ensureSymlinkSync","makeFile","srcpath","dstpath","destinationExists","_mkdirs","_symlinkPaths","symlinkPaths","symlinkPathsSync","_symlinkType","symlinkType","symlinkTypeSync","relative","toDst","toCwd","dstdir","relativeToDst","outputFile","outputFileSync","ee","_pendingRequests","inStream","outStream","_sequence","_writableStream","_rawData","_handleData","_emitEvent","resume","_send","clb","typ","json","byteLength","concat","_contentLength","dispatchRequest","idx","TWO_CRLF","lines","pair","obsolete_logFilePath","sendEvent","_0777","mkdirP","startHandle","START_HANDLE","_handleMap","_nextHandle","handle","dflt","folderName","__dirname","HiddenFileFormatString","HiddenFilePrefix","splitLines","splitOptions","removeEmptyEntries","trim","toCommandArgument","startsWith","endsWith","fileToCommandArgument","trimQuotes","number","errorObj","ModuleNotInstalledError","isModuleNoInstalledError","isAsyncFunction","originalMethod","isTestExecution","moduleName","launchRequestOptions","launchScriptProvider","debugClientClass","noDebug","NoDebugLauncherScriptProvider","NonDebugClientV2","DebuggerLauncherScriptProvider","attachRequestOptions","RemoteDebugClient","pathToScript","script","RemoteDebuggerExternalLauncherScriptProvider","waitArgs","waitUntilDebuggerAttaches","__generator","y","t","g","sent","trys","ops","verb","op","binding_1","planner_1","resolver_1","binding_to_syntax_1","container_snapshot_1","lookup_1","containerOptions","defaultScope","autoBindInjectable","skipBaseClassChecks","_bindingDictionary","Lookup","_snapshots","_middleware","_metadataReader","merge","container1","container2","bindingDictionary","getBindingDictionary","bindingDictionary1","bindingDictionary2","copyDictionary","destination","traverse","load","modules","getHelpers","_getContainerModuleHelpersFactory","modules_1","currentModule","containerModuleHelpers","registry","bindFunction","unbindFunction","isboundFunction","rebindFunction","loadAsync","modules_2","unload","conditionFactory","expected","moduleId","condition","removeByCondition","Binding","BindingToSyntax","rebind","unbind","unbindAll","isBound","bound","hasKey","isBoundNamed","isBoundTagged","request_1","createMockRequest","snapshot","ContainerSnapshot","of","restore","middleware","createChild","child","applyMiddleware","middlewares","initial","_planAndResolve","reduce","prev","curr","applyCustomMetadataReader","metadataReader","_get","getTagged","getNamed","getAll","getAllTagged","getAllNamed","constructorFunction","tempContainer","toSelf","setModuleId","bindingToSyntax","getRebindFunction","_rebind","mId","_bind","_isBound","_unbind","avoidConstraints","isMultiInject","targetType","defaultArgs","contextInterceptor","context","plan","activated","cache","provider","dynamicValue","binding_count_1","exceptions_1","context_1","plan_1","reflection_utils_1","target_1","cntnr","_getActiveBindings","activeBindings","BindingCount","NoBindingsAvailable","OnlyOneBindingAvailable","MultipleBindingsAvailable","_validateActiveBindingCount","Context","injectMetadata","tagMetadata","_createTarget","_createSubRequests","thePlan","Plan","addPlan","addChildRequest","subChildRequest","dependencies","getDependencies","baseClassDependencyCount","getBaseClassDependencyCount","dependency","rootRequest","setCurrentRequest","currentRequest","parentContext","getTargets","constructorName","isBaseClass","serviceIdentifiers","constructorArgsMetadata","constructorTargets","iterations","targets","getConstructorArgsAsTarget","getConstructorArgsAsTargets","propertyTargets","getClassPropsAsTargets","classPropsMetadata","keys_1","formatTargetMetadata","baseConstructor","baseTargets","isManaged","injectIdentifier","targetMetadataMap","unmanagedCount","dependencyCount","searchString","reverseString","reverseSearchString","contains","equals","compareString","requestScope","instantiation_1","invokeFactory","factoryType","_resolveRequest","targetIsAnArray","targetParentIsNotAnArray","_f","isSingleton","isRequestSingleton","resolveInstance","constr","resolveRequest","Func","injections","constructorInjections","instance","propertyInjectionsRequests","propertyInjections","injection","_injectProperties","hasMetadata","_postConstruct","binding_in_when_on_syntax_1","binding_when_on_syntax_1","BindingInWhenOnSyntax","toConstantValue","toDynamicValue","toConstructor","toFactory","toFunction","bindingWhenOnSyntax","toAutoFactory","toProvider","toService","service","binding_in_syntax_1","_bindingInSyntax","BindingInSyntax","inRequestScope","inSingletonScope","inTransientScope","getMap","entry","updatedEntries","ERRORS_MSGS","types","DebugServerStatus","IsRunning","Running","NotRunning","Unknown","LocalDebugServerV2","pyProc","kill","dbgServer","processCwd","buildLaunchArguments","envVars","isSudo","debugOptions","opt","launchExternalTerminal","spawn","handleProcessOutput","DebugClientConnected","failedToLaunch","status","debugServerStatus","displayError","buildDebugArguments","buildStandardArguments","_debugPort","sudo","commandArgs","termArgs","kind","title","runInTerminalRequest","wait","app","cmd","appArgs","cpOpts","cp","childProcess","unref","socketServer","RunLocal","_proc","_failedToLaunch","RemoteDebugServerV2","Remote","connected","Socket","registerTypes","serviceManager","addSingleton","CurrentProcess","addSingletonInstance","DebugStreamProvider","ProtocolLogger","ProtocolParser","SocketServer","ProtocolMessageWriter","BufferDecoder","DebuggerProcessServiceFactory","cont","ServiceManager","ServiceContainer","def","net","connectionListener","address","completed","listener","execPath","buffers","iconv","encodingExists","decode","bomHandling","encodings","defaultCharUnicode","defaultCharSingleByte","encode","encoder","getEncoder","trail","skipDecodeWarning","decoder","getDecoder","enc","getCodec","toEncoding","fromEncoding","_codecDataCache","_canonicalizeEncoding","codecOptions","codec","codecDef","encodingName","bomAware","addBOM","PrependBOM","stripBOM","StripBOM","nodeVer","versions","node","nodeVerArr","Number","PrependBOMWrapper","StripBOMWrapper","pass","InternalCodec","InternalEncoderBase64","InternalEncoderCesu8","InternalDecoderCesu8","utf8","cesu8","unicode11utf8","ucs2","utf16le","binary","base64","hex","_internal","InternalEncoder","InternalDecoder","StringDecoder","prevStr","acc","contBytes","accBytes","completeQuads","bufIdx","charCode","charCodeAt","curByte","fromCharCode","Utf16BECodec","Utf16BEEncoder","Utf16BEDecoder","overflowByte","Utf16Codec","Utf16Encoder","Utf16Decoder","initialBytes","initialBytesLen","detectEncoding","defaultEncoding","asciiCharsLE","asciiCharsBE","_len","min","utf16be","tmp","buf2","j","utf16","Utf7Codec","utf7","unicode11utf7","Utf7Encoder","Utf7Decoder","nonDirectChars","inBase64","base64Accum","chunk","base64Regex","base64Chars","plusChar","minusChar","andChar","Utf7IMAPCodec","Utf7IMAPEncoder","base64AccumIdx","Utf7IMAPDecoder","lastI","b64str","canBeDecoded","utf7imap","uChar","base64IMAPChars","SBCSCodec","chars","asciiString","decodeBuf","encodeBuf","SBCSEncoder","SBCSDecoder","_sbcs","newBuf","idx1","idx2","_dbcs","DBCSCodec","UNASSIGNED_NODE","mappingTable","decodeTables","decodeTableSeq","_addDecodeChunk","encodeTable","encodeTableSeq","skipEncodeChars","encodeSkipVals","_fillEncodeTable","encodeAdd","_setEncodeChar","defCharSB","gb18030","thirdByteNodeIdx","thirdByteNode","fourthByteNodeIdx","fourthByteNode","secondByteNodeIdx","secondByteNode","DBCSEncoder","leadSurrogate","seqObj","DBCSDecoder","nodeIdx","prevBuf","findIdx","l","mid","_getDecodeTrieNode","addr","bytes","curAddr","writeTable","part","codeTrail","len","_getEncodeBucket","uCode","high","dbcsCode","bucket","low","_setEncodeSequence","oldVal","prefix","mbCode","nextChar","resCode","subtable","uChars","gbChars","prevBufOffset","seqStart","curSeq","ptr","uCodeLead","Transform","IconvLiteEncoderStream","conv","decodeStrings","IconvLiteDecoderStream","encodeStream","decodeStream","supportsStreams","_collect","collect","_transform","_flush","chunks","original","supportsNodeEncodingsExtension","extendNodeEncodings","nodeNativeEncodings","isNativeEncoding","SlowBuffer","SlowBufferToString","SlowBufferWrite","string","isFinite","swap","remaining","BufferIsEncoding","isEncoding","BufferByteLength","BufferToString","BufferWrite","_offset","_length","_encoding","Readable","ReadableSetEncoding","_readableState","undoExtendNodeEncodings","factoryIdentifier","factoryMethod","getDebugPort","server","debugSocket","currentProcess","disposableRegistry","processService","ProcessService","processesToKill","execSync","removeAllListeners","spawnOptions","getDefaultOptions","procExited","killed","Observable","subscriber","token","onCancellationRequested","sendOutput","out","throwOnStdErr","stdoutBuffers","stderrBuffers","mergeStdOutErr","shellOptions","defaultOptions","execOptions","extraVariables","PYTHONUNBUFFERED","PYTHONIOENCODING","root_1","toSubscriber_1","observable_1","pipe_1","subscribe","_isScalar","_subscribe","lift","operator","observable","observerOrNext","sink","toSubscriber","syncErrorThrowable","_trySubscribe","syncErrorThrown","syncErrorValue","PromiseCtor","Rx","config","subscription","unsubscribe","operations","pipeFromArray","toPromise","Subscriber_1","rxSubscriber_1","Observer_1","nextOrObserver","Subscriber","__extends","isFunction_1","Subscription_1","_super","destinationOrNext","isStopped","isTrustedSubscriber","trustedSubscriber","SafeSubscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parent","_parents","Subscription","_parentSubscriber","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","_unsubscribe","isArray_1","isObject_1","tryCatch_1","errorObject_1","UnsubscriptionError_1","_subscriptions","errors","hasErrors","tryCatch","UnsubscriptionError","flattenUnsubscriptionErrors","sub","isObject","teardown","EMPTY","_addParent","subscriptions","subscriptionIndex","splice","errs","tryCatchTarget","tryCatcher","getSymbolObservable","$$observable","noop_1","fns","messagesToLog","fromDataCallbackHandler","logMessages","toDataCallbackHandler","messages","rawData","contentLength","disposed","dataCallbackHandler","handleData","stream","reponse","dispatch","killAll","tree","pidpid","killPid","buildProcessTree","parentPid","pidsToProcess","spawnChildProcessesList","ps","allData","isNaN"],"mappings":"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","file":"debugger/debugAdapter/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 60);\n","module.exports = require(\"path\");","var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar queue = []\n\nvar util = require('util')\n\nfunction noop () {}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\nif (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n  process.on('exit', function() {\n    debug(queue)\n    require('assert').equal(queue.length, 0)\n  })\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\n// Always patch fs.close/closeSync, because we want to\n// retry() whenever a close happens *anywhere* in the program.\n// This is essential when multiple graceful-fs instances are\n// in play at the same time.\nmodule.exports.close = (function (fs$close) { return function (fd, cb) {\n  return fs$close.call(fs, fd, function (err) {\n    if (!err)\n      retry()\n\n    if (typeof cb === 'function')\n      cb.apply(this, arguments)\n  })\n}})(fs.close)\n\nmodule.exports.closeSync = (function (fs$closeSync) { return function (fd) {\n  // Note that graceful-fs also retries when fs.closeSync() fails.\n  // Looks like a bug to me, although it's probably a harmless one.\n  var rval = fs$closeSync.apply(fs, arguments)\n  retry()\n  return rval\n}})(fs.closeSync)\n\n// Only patch fs once, otherwise we'll run into a memory leak if\n// graceful-fs is loaded multiple times, such as in test environments that\n// reset the loaded modules between tests.\n// We look for the string `graceful-fs` from the comment above. This\n// way we are not adding any extra properties and it will detect if older\n// versions of graceful-fs are installed.\nif (!/\\bgraceful-fs\\b/.test(fs.closeSync.toString())) {\n  fs.closeSync = module.exports.closeSync;\n  fs.close = module.exports.close;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n  fs.FileReadStream = ReadStream;  // Legacy name.\n  fs.FileWriteStream = WriteStream;  // Legacy name.\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  function readdir (path, options, cb) {\n    var args = [path]\n    if (typeof options !== 'function') {\n      args.push(options)\n    } else {\n      cb = options\n    }\n    args.push(go$readdir$cb)\n\n    return go$readdir(args)\n\n    function go$readdir$cb (err, files) {\n      if (files && files.sort)\n        files.sort()\n\n      if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n        enqueue([go$readdir, [args]])\n\n      else {\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n        retry()\n      }\n    }\n  }\n\n  function go$readdir (args) {\n    return fs$readdir.apply(fs, args)\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  fs.ReadStream = ReadStream\n  fs.WriteStream = WriteStream\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  queue.push(elem)\n}\n\nfunction retry () {\n  var elem = queue.shift()\n  if (elem) {\n    debug('RETRY', elem[0].name, elem[1])\n    elem[0].apply(null, elem[1])\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NAMED_TAG = \"named\";\nexports.NAME_TAG = \"name\";\nexports.UNMANAGED_TAG = \"unmanaged\";\nexports.OPTIONAL_TAG = \"optional\";\nexports.INJECT_TAG = \"inject\";\nexports.MULTI_INJECT_TAG = \"multi_inject\";\nexports.TAGGED = \"inversify:tagged\";\nexports.TAGGED_PROP = \"inversify:tagged_props\";\nexports.PARAM_TYPES = \"inversify:paramtypes\";\nexports.DESIGN_PARAM_TYPES = \"design:paramtypes\";\nexports.POST_CONSTRUCT = \"post_construct\";\n","'use strict'\n\nexports.fromCallback = function (fn) {\n  return Object.defineProperty(function () {\n    if (typeof arguments[arguments.length - 1] === 'function') fn.apply(this, arguments)\n    else {\n      return new Promise((resolve, reject) => {\n        arguments[arguments.length] = (err, res) => {\n          if (err) return reject(err)\n          resolve(res)\n        }\n        arguments.length++\n        fn.apply(this, arguments)\n      })\n    }\n  }, 'name', { value: fn.name })\n}\n\nexports.fromPromise = function (fn) {\n  return Object.defineProperty(function () {\n    const cb = arguments[arguments.length - 1]\n    if (typeof cb !== 'function') return fn.apply(this, arguments)\n    else fn.apply(this, arguments).then(r => cb(null, r), cb)\n  }, 'name', { value: fn.name })\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DUPLICATED_INJECTABLE_DECORATOR = \"Cannot apply @injectable decorator multiple times.\";\nexports.DUPLICATED_METADATA = \"Metadata key was used more than once in a parameter:\";\nexports.NULL_ARGUMENT = \"NULL argument\";\nexports.KEY_NOT_FOUND = \"Key Not Found\";\nexports.AMBIGUOUS_MATCH = \"Ambiguous match found for serviceIdentifier:\";\nexports.CANNOT_UNBIND = \"Could not unbind serviceIdentifier:\";\nexports.NOT_REGISTERED = \"No matching bindings found for serviceIdentifier:\";\nexports.MISSING_INJECTABLE_ANNOTATION = \"Missing required @injectable annotation in:\";\nexports.MISSING_INJECT_ANNOTATION = \"Missing required @inject or @multiInject annotation in:\";\nexports.UNDEFINED_INJECT_ANNOTATION = function (name) {\n    return \"@inject called with undefined this could mean that the class \" + name + \" has \" +\n        \"a circular dependency problem. You can use a LazyServiceIdentifer to  \" +\n        \"overcome this limitation.\";\n};\nexports.CIRCULAR_DEPENDENCY = \"Circular dependency found:\";\nexports.NOT_IMPLEMENTED = \"Sorry, this feature is not fully implemented yet.\";\nexports.INVALID_BINDING_TYPE = \"Invalid binding type:\";\nexports.NO_MORE_SNAPSHOTS_AVAILABLE = \"No snapshot available to restore.\";\nexports.INVALID_MIDDLEWARE_RETURN = \"Invalid return type in middleware. Middleware must return!\";\nexports.INVALID_FUNCTION_BINDING = \"Value provided to function binding must be a function!\";\nexports.INVALID_TO_SELF_VALUE = \"The toSelf function can only be applied when a constructor is \" +\n    \"used as service identifier\";\nexports.INVALID_DECORATOR_OPERATION = \"The @inject @multiInject @tagged and @named decorators \" +\n    \"must be applied to the parameters of a class constructor or a class property.\";\nexports.ARGUMENTS_LENGTH_MISMATCH = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"The number of constructor arguments in the derived class \" +\n        (values[0] + \" must be >= than the number of constructor arguments of its base class.\");\n};\nexports.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = \"Invalid Container constructor argument. Container options \" +\n    \"must be an object.\";\nexports.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = \"Invalid Container option. Default scope must \" +\n    \"be a string ('singleton' or 'transient').\";\nexports.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = \"Invalid Container option. Auto bind injectable must \" +\n    \"be a boolean\";\nexports.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = \"Invalid Container option. Skip base check must \" +\n    \"be a boolean\";\nexports.MULTIPLE_POST_CONSTRUCT_METHODS = \"Cannot apply @postConstruct decorator multiple times in the same class\";\nexports.POST_CONSTRUCT_ERROR = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"@postConstruct error in class \" + values[0] + \": \" + values[1];\n};\nexports.CIRCULAR_DEPENDENCY_IN_FACTORY = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"It looks like there is a circular dependency \" +\n        (\"in one of the '\" + values[0] + \"' bindings. Please investigate bindings with\") +\n        (\"service identifier '\" + values[1] + \"'.\");\n};\nexports.STACK_OVERFLOW = \"Maximum call stack size exceeded\";\n","'use strict'\nconst u = require('universalify').fromCallback\nconst mkdirs = u(require('./mkdirs'))\nconst mkdirsSync = require('./mkdirs-sync')\n\nmodule.exports = {\n  mkdirs: mkdirs,\n  mkdirsSync: mkdirsSync,\n  // alias\n  mkdirp: mkdirs,\n  mkdirpSync: mkdirsSync,\n  ensureDir: mkdirs,\n  ensureDirSync: mkdirsSync\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar keys = require(\"./constants/metadata_keys\");\nexports.METADATA_KEY = keys;\nvar container_1 = require(\"./container/container\");\nexports.Container = container_1.Container;\nvar literal_types_1 = require(\"./constants/literal_types\");\nexports.BindingScopeEnum = literal_types_1.BindingScopeEnum;\nexports.BindingTypeEnum = literal_types_1.BindingTypeEnum;\nexports.TargetTypeEnum = literal_types_1.TargetTypeEnum;\nvar container_module_1 = require(\"./container/container_module\");\nexports.AsyncContainerModule = container_module_1.AsyncContainerModule;\nexports.ContainerModule = container_module_1.ContainerModule;\nvar injectable_1 = require(\"./annotation/injectable\");\nexports.injectable = injectable_1.injectable;\nvar tagged_1 = require(\"./annotation/tagged\");\nexports.tagged = tagged_1.tagged;\nvar named_1 = require(\"./annotation/named\");\nexports.named = named_1.named;\nvar inject_1 = require(\"./annotation/inject\");\nexports.inject = inject_1.inject;\nexports.LazyServiceIdentifer = inject_1.LazyServiceIdentifer;\nvar optional_1 = require(\"./annotation/optional\");\nexports.optional = optional_1.optional;\nvar unmanaged_1 = require(\"./annotation/unmanaged\");\nexports.unmanaged = unmanaged_1.unmanaged;\nvar multi_inject_1 = require(\"./annotation/multi_inject\");\nexports.multiInject = multi_inject_1.multiInject;\nvar target_name_1 = require(\"./annotation/target_name\");\nexports.targetName = target_name_1.targetName;\nvar post_construct_1 = require(\"./annotation/post_construct\");\nexports.postConstruct = post_construct_1.postConstruct;\nvar metadata_reader_1 = require(\"./planning/metadata_reader\");\nexports.MetadataReader = metadata_reader_1.MetadataReader;\nvar guid_1 = require(\"./utils/guid\");\nexports.guid = guid_1.guid;\nvar decorator_utils_1 = require(\"./annotation/decorator_utils\");\nexports.decorate = decorator_utils_1.decorate;\nvar constraint_helpers_1 = require(\"./syntax/constraint_helpers\");\nexports.traverseAncerstors = constraint_helpers_1.traverseAncerstors;\nexports.taggedConstraint = constraint_helpers_1.taggedConstraint;\nexports.namedConstraint = constraint_helpers_1.namedConstraint;\nexports.typeConstraint = constraint_helpers_1.typeConstraint;\nvar serialization_1 = require(\"./utils/serialization\");\nexports.getServiceIdentifierAsString = serialization_1.getServiceIdentifierAsString;\nvar binding_utils_1 = require(\"./utils/binding_utils\");\nexports.multiBindToService = binding_utils_1.multiBindToService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar Metadata = (function () {\n    function Metadata(key, value) {\n        this.key = key;\n        this.value = value;\n    }\n    Metadata.prototype.toString = function () {\n        if (this.key === METADATA_KEY.NAMED_TAG) {\n            return \"named: \" + this.value.toString() + \" \";\n        }\n        else {\n            return \"tagged: { key:\" + this.key.toString() + \", value: \" + this.value + \" }\";\n        }\n    };\n    return Metadata;\n}());\nexports.Metadata = Metadata;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BindingScopeEnum = {\n    Request: \"Request\",\n    Singleton: \"Singleton\",\n    Transient: \"Transient\"\n};\nexports.BindingScopeEnum = BindingScopeEnum;\nvar BindingTypeEnum = {\n    ConstantValue: \"ConstantValue\",\n    Constructor: \"Constructor\",\n    DynamicValue: \"DynamicValue\",\n    Factory: \"Factory\",\n    Function: \"Function\",\n    Instance: \"Instance\",\n    Invalid: \"Invalid\",\n    Provider: \"Provider\"\n};\nexports.BindingTypeEnum = BindingTypeEnum;\nvar TargetTypeEnum = {\n    ClassProperty: \"ClassProperty\",\n    ConstructorArgument: \"ConstructorArgument\",\n    Variable: \"Variable\"\n};\nexports.TargetTypeEnum = TargetTypeEnum;\n","'use strict'\nconst u = require('universalify').fromPromise\nconst fs = require('../fs')\n\nfunction pathExists (path) {\n  return fs.access(path).then(() => true).catch(() => false)\n}\n\nmodule.exports = {\n  pathExists: u(pathExists),\n  pathExistsSync: fs.existsSync\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction tagParameter(annotationTarget, propertyName, parameterIndex, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED;\n    _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex);\n}\nexports.tagParameter = tagParameter;\nfunction tagProperty(annotationTarget, propertyName, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED_PROP;\n    _tagParameterOrProperty(metadataKey, annotationTarget.constructor, propertyName, metadata);\n}\nexports.tagProperty = tagProperty;\nfunction _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex) {\n    var paramsOrPropertiesMetadata = {};\n    var isParameterDecorator = (typeof parameterIndex === \"number\");\n    var key = (parameterIndex !== undefined && isParameterDecorator) ? parameterIndex.toString() : propertyName;\n    if (isParameterDecorator && propertyName !== undefined) {\n        throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);\n    }\n    if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {\n        paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);\n    }\n    var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];\n    if (!Array.isArray(paramOrPropertyMetadata)) {\n        paramOrPropertyMetadata = [];\n    }\n    else {\n        for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {\n            var m = paramOrPropertyMetadata_1[_i];\n            if (m.key === metadata.key) {\n                throw new Error(ERROR_MSGS.DUPLICATED_METADATA + \" \" + m.key);\n            }\n        }\n    }\n    paramOrPropertyMetadata.push(metadata);\n    paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;\n    Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);\n}\nfunction _decorate(decorators, target) {\n    Reflect.decorate(decorators, target);\n}\nfunction _param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); };\n}\nfunction decorate(decorator, target, parameterIndex) {\n    if (typeof parameterIndex === \"number\") {\n        _decorate([_param(parameterIndex, decorator)], target);\n    }\n    else if (typeof parameterIndex === \"string\") {\n        Reflect.decorate([decorator], target, parameterIndex);\n    }\n    else {\n        _decorate([decorator], target);\n    }\n}\nexports.decorate = decorate;\n","module.exports = require(\"events\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction guid() {\n    function s4() {\n        return Math.floor((Math.random() + 1) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n    return s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" +\n        s4() + \"-\" + s4() + s4() + s4();\n}\nexports.guid = guid;\n","/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n","module.exports = require(\"fs\");","module.exports = require(\"stream\");","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n'use strict';\n\nimport { Socket } from 'net';\nimport { Request as RequestResult } from 'request';\nimport {\n    CancellationToken,\n    ConfigurationTarget,\n    DiagnosticSeverity,\n    Disposable,\n    DocumentSymbolProvider,\n    Event,\n    Extension,\n    ExtensionContext,\n    OutputChannel,\n    Uri,\n    WorkspaceEdit\n} from 'vscode';\nimport { LanguageServerType } from '../activation/types';\nimport { CommandsWithoutArgs } from './application/commands';\nimport { ExtensionChannels } from './insidersBuild/types';\nimport { InterpreterUri } from './installer/types';\nimport { EnvironmentVariables } from './variables/types';\nexport const IOutputChannel = Symbol('IOutputChannel');\nexport interface IOutputChannel extends OutputChannel {}\nexport const IDocumentSymbolProvider = Symbol('IDocumentSymbolProvider');\nexport interface IDocumentSymbolProvider extends DocumentSymbolProvider {}\nexport const IsWindows = Symbol('IS_WINDOWS');\nexport const IDisposableRegistry = Symbol('IDiposableRegistry');\nexport type IDisposableRegistry = { push(disposable: Disposable): void };\nexport const IMemento = Symbol('IGlobalMemento');\nexport const GLOBAL_MEMENTO = Symbol('IGlobalMemento');\nexport const WORKSPACE_MEMENTO = Symbol('IWorkspaceMemento');\n\nexport type Resource = Uri | undefined;\nexport interface IPersistentState<T> {\n    readonly value: T;\n    updateValue(value: T): Promise<void>;\n}\nexport type Version = {\n    raw: string;\n    major: number;\n    minor: number;\n    patch: number;\n    build: string[];\n    prerelease: string[];\n};\n\nexport type ReadWrite<T> = {\n    -readonly [P in keyof T]: T[P];\n};\n\nexport const IPersistentStateFactory = Symbol('IPersistentStateFactory');\n\nexport interface IPersistentStateFactory {\n    createGlobalPersistentState<T>(key: string, defaultValue?: T, expiryDurationMs?: number): IPersistentState<T>;\n    createWorkspacePersistentState<T>(key: string, defaultValue?: T, expiryDurationMs?: number): IPersistentState<T>;\n}\n\nexport type ExecutionInfo = {\n    execPath?: string;\n    moduleName?: string;\n    args: string[];\n    product?: Product;\n};\n\nexport enum LogLevel {\n    Information = 'Information',\n    Error = 'Error',\n    Warning = 'Warning'\n}\n\nexport enum InstallerResponse {\n    Installed,\n    Disabled,\n    Ignore\n}\n\nexport enum ProductType {\n    Linter = 'Linter',\n    Formatter = 'Formatter',\n    TestFramework = 'TestFramework',\n    RefactoringLibrary = 'RefactoringLibrary',\n    WorkspaceSymbols = 'WorkspaceSymbols',\n    DataScience = 'DataScience'\n}\n\nexport enum Product {\n    pytest = 1,\n    nosetest = 2,\n    pylint = 3,\n    flake8 = 4,\n    pycodestyle = 5,\n    pylama = 6,\n    prospector = 7,\n    pydocstyle = 8,\n    yapf = 9,\n    autopep8 = 10,\n    mypy = 11,\n    unittest = 12,\n    ctags = 13,\n    rope = 14,\n    isort = 15,\n    black = 16,\n    bandit = 17,\n    jupyter = 18,\n    ipykernel = 19,\n    notebook = 20,\n    kernelspec = 21,\n    nbconvert = 22\n}\n\nexport enum ModuleNamePurpose {\n    install = 1,\n    run = 2\n}\n\nexport const IInstaller = Symbol('IInstaller');\n\nexport interface IInstaller {\n    promptToInstall(product: Product, resource?: InterpreterUri, cancel?: CancellationToken): Promise<InstallerResponse>;\n    install(product: Product, resource?: InterpreterUri, cancel?: CancellationToken): Promise<InstallerResponse>;\n    isInstalled(product: Product, resource?: InterpreterUri): Promise<boolean | undefined>;\n    translateProductToModuleName(product: Product, purpose: ModuleNamePurpose): string;\n}\n\n// tslint:disable-next-line:no-suspicious-comment\n// TODO(GH-8542): Drop IPathUtils in favor of IFileSystemPathUtils.\nexport const IPathUtils = Symbol('IPathUtils');\nexport interface IPathUtils {\n    readonly delimiter: string;\n    readonly home: string;\n    /**\n     * The platform-specific file separator. '\\\\' or '/'.\n     * @type {string}\n     * @memberof IPathUtils\n     */\n    readonly separator: string;\n    getPathVariableName(): 'Path' | 'PATH';\n    basename(pathValue: string, ext?: string): string;\n    getDisplayName(pathValue: string, cwd?: string): string;\n}\n\nexport const IRandom = Symbol('IRandom');\nexport interface IRandom {\n    getRandomInt(min?: number, max?: number): number;\n}\n\nexport const ICurrentProcess = Symbol('ICurrentProcess');\nexport interface ICurrentProcess {\n    readonly env: EnvironmentVariables;\n    readonly argv: string[];\n    readonly stdout: NodeJS.WriteStream;\n    readonly stdin: NodeJS.ReadStream;\n    readonly execPath: string;\n    on(event: string | symbol, listener: Function): this;\n}\n\nexport interface IPythonSettings {\n    readonly pythonPath: string;\n    readonly venvPath: string;\n    readonly venvFolders: string[];\n    readonly condaPath: string;\n    readonly pipenvPath: string;\n    readonly poetryPath: string;\n    readonly insidersChannel: ExtensionChannels;\n    readonly downloadLanguageServer: boolean;\n    readonly jediEnabled: boolean;\n    readonly jediPath: string;\n    readonly jediMemoryLimit: number;\n    readonly devOptions: string[];\n    readonly linting: ILintingSettings;\n    readonly formatting: IFormattingSettings;\n    readonly testing: ITestingSettings;\n    readonly autoComplete: IAutoCompleteSettings;\n    readonly terminal: ITerminalSettings;\n    readonly sortImports: ISortImportSettings;\n    readonly workspaceSymbols: IWorkspaceSymbolSettings;\n    readonly envFile: string;\n    readonly disableInstallationChecks: boolean;\n    readonly globalModuleInstallation: boolean;\n    readonly analysis: IAnalysisSettings;\n    readonly autoUpdateLanguageServer: boolean;\n    readonly datascience: IDataScienceSettings;\n    readonly onDidChange: Event<void>;\n    readonly experiments: IExperiments;\n    readonly languageServer: LanguageServerType;\n}\nexport interface ISortImportSettings {\n    readonly path: string;\n    readonly args: string[];\n}\n\nexport interface ITestingSettings {\n    readonly promptToConfigure: boolean;\n    readonly debugPort: number;\n    readonly nosetestsEnabled: boolean;\n    nosetestPath: string;\n    nosetestArgs: string[];\n    readonly pytestEnabled: boolean;\n    pytestPath: string;\n    pytestArgs: string[];\n    readonly unittestEnabled: boolean;\n    unittestArgs: string[];\n    cwd?: string;\n    readonly autoTestDiscoverOnSaveEnabled: boolean;\n}\nexport interface IPylintCategorySeverity {\n    readonly convention: DiagnosticSeverity;\n    readonly refactor: DiagnosticSeverity;\n    readonly warning: DiagnosticSeverity;\n    readonly error: DiagnosticSeverity;\n    readonly fatal: DiagnosticSeverity;\n}\nexport interface IPycodestyleCategorySeverity {\n    readonly W: DiagnosticSeverity;\n    readonly E: DiagnosticSeverity;\n}\n// tslint:disable-next-line:interface-name\nexport interface Flake8CategorySeverity {\n    readonly F: DiagnosticSeverity;\n    readonly E: DiagnosticSeverity;\n    readonly W: DiagnosticSeverity;\n}\nexport interface IMypyCategorySeverity {\n    readonly error: DiagnosticSeverity;\n    readonly note: DiagnosticSeverity;\n}\nexport interface ILintingSettings {\n    readonly enabled: boolean;\n    readonly ignorePatterns: string[];\n    readonly prospectorEnabled: boolean;\n    readonly prospectorArgs: string[];\n    readonly pylintEnabled: boolean;\n    readonly pylintArgs: string[];\n    readonly pycodestyleEnabled: boolean;\n    readonly pycodestyleArgs: string[];\n    readonly pylamaEnabled: boolean;\n    readonly pylamaArgs: string[];\n    readonly flake8Enabled: boolean;\n    readonly flake8Args: string[];\n    readonly pydocstyleEnabled: boolean;\n    readonly pydocstyleArgs: string[];\n    readonly lintOnSave: boolean;\n    readonly maxNumberOfProblems: number;\n    readonly pylintCategorySeverity: IPylintCategorySeverity;\n    readonly pycodestyleCategorySeverity: IPycodestyleCategorySeverity;\n    readonly flake8CategorySeverity: Flake8CategorySeverity;\n    readonly mypyCategorySeverity: IMypyCategorySeverity;\n    prospectorPath: string;\n    pylintPath: string;\n    pycodestylePath: string;\n    pylamaPath: string;\n    flake8Path: string;\n    pydocstylePath: string;\n    mypyEnabled: boolean;\n    mypyArgs: string[];\n    mypyPath: string;\n    banditEnabled: boolean;\n    banditArgs: string[];\n    banditPath: string;\n    readonly pylintUseMinimalCheckers: boolean;\n}\nexport interface IFormattingSettings {\n    readonly provider: string;\n    autopep8Path: string;\n    readonly autopep8Args: string[];\n    blackPath: string;\n    readonly blackArgs: string[];\n    yapfPath: string;\n    readonly yapfArgs: string[];\n}\nexport interface IAutoCompleteSettings {\n    readonly addBrackets: boolean;\n    readonly extraPaths: string[];\n    readonly showAdvancedMembers: boolean;\n    readonly typeshedPaths: string[];\n}\nexport interface IWorkspaceSymbolSettings {\n    readonly enabled: boolean;\n    tagFilePath: string;\n    readonly rebuildOnStart: boolean;\n    readonly rebuildOnFileSave: boolean;\n    readonly ctagsPath: string;\n    readonly exclusionPatterns: string[];\n}\nexport interface ITerminalSettings {\n    readonly executeInFileDir: boolean;\n    readonly launchArgs: string[];\n    readonly activateEnvironment: boolean;\n    readonly activateEnvInCurrentTerminal: boolean;\n}\n\nexport interface IExperiments {\n    /**\n     * Return `true` if experiments are enabled, else `false`.\n     */\n    readonly enabled: boolean;\n    /**\n     * Experiments user requested to opt into manually\n     */\n    readonly optInto: string[];\n    /**\n     * Experiments user requested to opt out from manually\n     */\n    readonly optOutFrom: string[];\n}\n\nexport type LanguageServerDownloadChannels = 'stable' | 'beta' | 'daily';\nexport interface IAnalysisSettings {\n    readonly downloadChannel?: LanguageServerDownloadChannels;\n    readonly openFilesOnly: boolean;\n    readonly typeshedPaths: string[];\n    readonly cacheFolderPath: string | null;\n    readonly errors: string[];\n    readonly warnings: string[];\n    readonly information: string[];\n    readonly disabled: string[];\n    readonly traceLogging: boolean;\n    readonly logLevel: LogLevel;\n}\n\ninterface IGatherRule {\n    objectName?: string;\n    functionName: string;\n    doesNotModify: string[] | number[];\n}\n\nexport interface IVariableQuery {\n    language: string;\n    query: string;\n    parseExpr: string;\n}\n\nexport interface IDataScienceSettings {\n    allowImportFromNotebook: boolean;\n    enabled: boolean;\n    jupyterInterruptTimeout: number;\n    jupyterLaunchTimeout: number;\n    jupyterLaunchRetries: number;\n    jupyterServerURI: string;\n    notebookFileRoot: string;\n    changeDirOnImportExport: boolean;\n    useDefaultConfigForJupyter: boolean;\n    searchForJupyter: boolean;\n    allowInput: boolean;\n    showCellInputCode: boolean;\n    collapseCellInputCodeByDefault: boolean;\n    maxOutputSize: number;\n    enableGather?: boolean;\n    gatherToScript?: boolean;\n    gatherRules?: IGatherRule[];\n    sendSelectionToInteractiveWindow: boolean;\n    markdownRegularExpression: string;\n    codeRegularExpression: string;\n    allowLiveShare?: boolean;\n    errorBackgroundColor: string;\n    ignoreVscodeTheme?: boolean;\n    variableExplorerExclude?: string;\n    liveShareConnectionTimeout?: number;\n    decorateCells?: boolean;\n    enableCellCodeLens?: boolean;\n    askForLargeDataFrames?: boolean;\n    enableAutoMoveToNextCell?: boolean;\n    allowUnauthorizedRemoteConnection?: boolean;\n    askForKernelRestart?: boolean;\n    enablePlotViewer?: boolean;\n    codeLenses?: string;\n    debugCodeLenses?: string;\n    ptvsdDistPath?: string;\n    stopOnFirstLineWhileDebugging?: boolean;\n    textOutputLimit?: number;\n    magicCommandsAsComments?: boolean;\n    stopOnError?: boolean;\n    remoteDebuggerPort?: number;\n    colorizeInputBox?: boolean;\n    addGotoCodeLenses?: boolean;\n    useNotebookEditor?: boolean;\n    runMagicCommands?: string;\n    runStartupCommands: string;\n    debugJustMyCode: boolean;\n    defaultCellMarker?: string;\n    verboseLogging?: boolean;\n    themeMatplotlibPlots?: boolean;\n    useWebViewServer?: boolean;\n    variableQueries: IVariableQuery[];\n    disableJupyterAutoStart?: boolean;\n}\n\nexport const IConfigurationService = Symbol('IConfigurationService');\nexport interface IConfigurationService {\n    getSettings(resource?: Uri): IPythonSettings;\n    isTestExecution(): boolean;\n    updateSetting(setting: string, value?: {}, resource?: Uri, configTarget?: ConfigurationTarget): Promise<void>;\n    updateSectionSetting(section: string, setting: string, value?: {}, resource?: Uri, configTarget?: ConfigurationTarget): Promise<void>;\n}\n\nexport const ISocketServer = Symbol('ISocketServer');\nexport interface ISocketServer extends Disposable {\n    readonly client: Promise<Socket>;\n    Start(options?: { port?: number; host?: string }): Promise<number>;\n}\n\nexport type DownloadOptions = {\n    /**\n     * Prefix for progress messages displayed.\n     *\n     * @type {('Downloading ... ' | string)}\n     */\n    progressMessagePrefix: 'Downloading ... ' | string;\n    /**\n     * Output panel into which progress information is written.\n     *\n     * @type {IOutputChannel}\n     */\n    outputChannel?: IOutputChannel;\n    /**\n     * Extension of file that'll be created when downloading the file.\n     *\n     * @type {('tmp' | string)}\n     */\n    extension: 'tmp' | string;\n};\n\nexport const IFileDownloader = Symbol('IFileDownloader');\n/**\n * File downloader, that'll display progress in the status bar.\n *\n * @export\n * @interface IFileDownloader\n */\nexport interface IFileDownloader {\n    /**\n     * Download file and display progress in statusbar.\n     * Optionnally display progress in the provided output channel.\n     *\n     * @param {string} uri\n     * @param {DownloadOptions} options\n     * @returns {Promise<string>}\n     * @memberof IFileDownloader\n     */\n    downloadFile(uri: string, options: DownloadOptions): Promise<string>;\n}\n\nexport const IHttpClient = Symbol('IHttpClient');\nexport interface IHttpClient {\n    downloadFile(uri: string): Promise<RequestResult>;\n    /**\n     * Downloads file from uri as string and parses them into JSON objects\n     * @param uri The uri to download the JSON from\n     * @param strict Set `false` to allow trailing comma and comments in the JSON, defaults to `true`\n     */\n    getJSON<T>(uri: string, strict?: boolean): Promise<T>;\n}\n\nexport const IExtensionContext = Symbol('ExtensionContext');\nexport interface IExtensionContext extends ExtensionContext {}\n\nexport const IExtensions = Symbol('IExtensions');\nexport interface IExtensions {\n    /**\n     * All extensions currently known to the system.\n     */\n    // tslint:disable-next-line:no-any\n    readonly all: readonly Extension<any>[];\n\n    /**\n     * An event which fires when `extensions.all` changes. This can happen when extensions are\n     * installed, uninstalled, enabled or disabled.\n     */\n    readonly onDidChange: Event<void>;\n\n    /**\n     * Get an extension by its full identifier in the form of: `publisher.name`.\n     *\n     * @param extensionId An extension identifier.\n     * @return An extension or `undefined`.\n     */\n    // tslint:disable-next-line:no-any\n    getExtension(extensionId: string): Extension<any> | undefined;\n\n    /**\n     * Get an extension its full identifier in the form of: `publisher.name`.\n     *\n     * @param extensionId An extension identifier.\n     * @return An extension or `undefined`.\n     */\n    getExtension<T>(extensionId: string): Extension<T> | undefined;\n}\n\nexport const IBrowserService = Symbol('IBrowserService');\nexport interface IBrowserService {\n    launch(url: string): void;\n}\n\nexport const IPythonExtensionBanner = Symbol('IPythonExtensionBanner');\nexport interface IPythonExtensionBanner {\n    readonly enabled: boolean;\n    showBanner(): Promise<void>;\n}\nexport const BANNER_NAME_LS_SURVEY: string = 'LSSurveyBanner';\nexport const BANNER_NAME_PROPOSE_LS: string = 'ProposeLS';\nexport const BANNER_NAME_DS_SURVEY: string = 'DSSurveyBanner';\nexport const BANNER_NAME_INTERACTIVE_SHIFTENTER: string = 'InteractiveShiftEnterBanner';\n\nexport type DeprecatedSettingAndValue = {\n    setting: string;\n    values?: {}[];\n};\n\nexport type DeprecatedFeatureInfo = {\n    doNotDisplayPromptStateKey: string;\n    message: string;\n    moreInfoUrl: string;\n    commands?: CommandsWithoutArgs[];\n    setting?: DeprecatedSettingAndValue;\n};\n\nexport const IFeatureDeprecationManager = Symbol('IFeatureDeprecationManager');\n\nexport interface IFeatureDeprecationManager extends Disposable {\n    initialize(): void;\n    registerDeprecation(deprecatedInfo: DeprecatedFeatureInfo): void;\n}\n\nexport const IEditorUtils = Symbol('IEditorUtils');\nexport interface IEditorUtils {\n    getWorkspaceEditsFromPatch(originalContents: string, patch: string, uri: Uri): WorkspaceEdit;\n}\n\nexport interface IDisposable {\n    dispose(): void | undefined;\n}\nexport interface IAsyncDisposable {\n    dispose(): Promise<void>;\n}\n\n/**\n * Stores hash formats\n */\nexport interface IHashFormat {\n    number: number; // If hash format is a number\n    string: string; // If hash format is a string\n}\n\n/**\n * Interface used to implement cryptography tools\n */\nexport const ICryptoUtils = Symbol('ICryptoUtils');\nexport interface ICryptoUtils {\n    /**\n     * Creates hash using the data and encoding specified\n     * @returns hash as number, or string\n     * @param data The string to hash\n     * @param hashFormat Return format of the hash, number or string\n     */\n    createHash<E extends keyof IHashFormat>(data: string, hashFormat: E, algorithm?: 'SHA512' | 'SHA256' | 'FNV'): IHashFormat[E];\n}\n\nexport const IAsyncDisposableRegistry = Symbol('IAsyncDisposableRegistry');\nexport interface IAsyncDisposableRegistry extends IAsyncDisposable {\n    push(disposable: IDisposable | IAsyncDisposable): void;\n}\n\n/* ABExperiments field carries the identity, and the range of the experiment,\n where the experiment is valid for users falling between the number 'min' and 'max'\n More details: https://en.wikipedia.org/wiki/A/B_testing\n*/\nexport type ABExperiments = {\n    name: string; // Name of the experiment\n    salt: string; // Salt string for the experiment\n    min: number; // Lower limit for the experiment\n    max: number; // Upper limit for the experiment\n}[];\n\n/**\n * Interface used to implement AB testing\n */\nexport const IExperimentsManager = Symbol('IExperimentsManager');\nexport interface IExperimentsManager {\n    /**\n     * Checks if experiments are enabled, sets required environment to be used for the experiments, logs experiment groups\n     */\n    activate(): Promise<void>;\n\n    /**\n     * Checks if user is in experiment or not\n     * @param experimentName Name of the experiment\n     * @returns `true` if user is in experiment, `false` if user is not in experiment\n     */\n    inExperiment(experimentName: string): boolean;\n\n    /**\n     * Sends experiment telemetry if user is in experiment\n     * @param experimentName Name of the experiment\n     */\n    sendTelemetryIfInExperiment(experimentName: string): void;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\nexport async function sleep(timeout: number): Promise<void> {\n    return new Promise<void>(resolve => {\n        setTimeout(resolve, timeout);\n    });\n}\n\nexport async function waitForPromise<T>(promise: Promise<T>, timeout: number): Promise<T | null> {\n    // Set a timer that will resolve with null\n    return new Promise<T | null>((resolve, reject) => {\n        const timer = setTimeout(() => resolve(null), timeout);\n        promise\n            .then(result => {\n                // When the promise resolves, make sure to clear the timer or\n                // the timer may stick around causing tests to wait\n                clearTimeout(timer);\n                resolve(result);\n            })\n            .catch(e => {\n                clearTimeout(timer);\n                reject(e);\n            });\n    });\n}\n\n//======================\n// Deferred\n\n// tslint:disable-next-line:interface-name\nexport interface Deferred<T> {\n    readonly promise: Promise<T>;\n    readonly resolved: boolean;\n    readonly rejected: boolean;\n    readonly completed: boolean;\n    resolve(value?: T | PromiseLike<T>): void;\n    // tslint:disable-next-line:no-any\n    reject(reason?: any): void;\n}\n\nclass DeferredImpl<T> implements Deferred<T> {\n    private _resolve!: (value?: T | PromiseLike<T>) => void;\n    // tslint:disable-next-line:no-any\n    private _reject!: (reason?: any) => void;\n    private _resolved: boolean = false;\n    private _rejected: boolean = false;\n    private _promise: Promise<T>;\n    // tslint:disable-next-line:no-any\n    constructor(private scope: any = null) {\n        // tslint:disable-next-line:promise-must-complete\n        this._promise = new Promise<T>((res, rej) => {\n            this._resolve = res;\n            this._reject = rej;\n        });\n    }\n    public resolve(_value?: T | PromiseLike<T>) {\n        // tslint:disable-next-line:no-any\n        this._resolve.apply(this.scope ? this.scope : this, arguments as any);\n        this._resolved = true;\n    }\n    // tslint:disable-next-line:no-any\n    public reject(_reason?: any) {\n        // tslint:disable-next-line:no-any\n        this._reject.apply(this.scope ? this.scope : this, arguments as any);\n        this._rejected = true;\n    }\n    get promise(): Promise<T> {\n        return this._promise;\n    }\n    get resolved(): boolean {\n        return this._resolved;\n    }\n    get rejected(): boolean {\n        return this._rejected;\n    }\n    get completed(): boolean {\n        return this._rejected || this._resolved;\n    }\n}\n// tslint:disable-next-line:no-any\nexport function createDeferred<T>(scope: any = null): Deferred<T> {\n    return new DeferredImpl<T>(scope);\n}\n\nexport function createDeferredFrom<T>(...promises: Promise<T>[]): Deferred<T> {\n    const deferred = createDeferred<T>();\n    Promise.all<T>(promises)\n        // tslint:disable-next-line:no-any\n        .then(deferred.resolve.bind(deferred) as any)\n        // tslint:disable-next-line:no-any\n        .catch(deferred.reject.bind(deferred) as any);\n\n    return deferred;\n}\nexport function createDeferredFromPromise<T>(promise: Promise<T>): Deferred<T> {\n    const deferred = createDeferred<T>();\n    promise.then(deferred.resolve.bind(deferred)).catch(deferred.reject.bind(deferred));\n    return deferred;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction getServiceIdentifierAsString(serviceIdentifier) {\n    if (typeof serviceIdentifier === \"function\") {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier.name;\n    }\n    else if (typeof serviceIdentifier === \"symbol\") {\n        return serviceIdentifier.toString();\n    }\n    else {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier;\n    }\n}\nexports.getServiceIdentifierAsString = getServiceIdentifierAsString;\nfunction listRegisteredBindingsForServiceIdentifier(container, serviceIdentifier, getBindings) {\n    var registeredBindingsList = \"\";\n    var registeredBindings = getBindings(container, serviceIdentifier);\n    if (registeredBindings.length !== 0) {\n        registeredBindingsList = \"\\nRegistered bindings:\";\n        registeredBindings.forEach(function (binding) {\n            var name = \"Object\";\n            if (binding.implementationType !== null) {\n                name = getFunctionName(binding.implementationType);\n            }\n            registeredBindingsList = registeredBindingsList + \"\\n \" + name;\n            if (binding.constraint.metaData) {\n                registeredBindingsList = registeredBindingsList + \" - \" + binding.constraint.metaData;\n            }\n        });\n    }\n    return registeredBindingsList;\n}\nexports.listRegisteredBindingsForServiceIdentifier = listRegisteredBindingsForServiceIdentifier;\nfunction alreadyDependencyChain(request, serviceIdentifier) {\n    if (request.parentRequest === null) {\n        return false;\n    }\n    else if (request.parentRequest.serviceIdentifier === serviceIdentifier) {\n        return true;\n    }\n    else {\n        return alreadyDependencyChain(request.parentRequest, serviceIdentifier);\n    }\n}\nfunction dependencyChainToString(request) {\n    function _createStringArr(req, result) {\n        if (result === void 0) { result = []; }\n        var serviceIdentifier = getServiceIdentifierAsString(req.serviceIdentifier);\n        result.push(serviceIdentifier);\n        if (req.parentRequest !== null) {\n            return _createStringArr(req.parentRequest, result);\n        }\n        return result;\n    }\n    var stringArr = _createStringArr(request);\n    return stringArr.reverse().join(\" --> \");\n}\nfunction circularDependencyToException(request) {\n    request.childRequests.forEach(function (childRequest) {\n        if (alreadyDependencyChain(childRequest, childRequest.serviceIdentifier)) {\n            var services = dependencyChainToString(childRequest);\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY + \" \" + services);\n        }\n        else {\n            circularDependencyToException(childRequest);\n        }\n    });\n}\nexports.circularDependencyToException = circularDependencyToException;\nfunction listMetadataForTarget(serviceIdentifierString, target) {\n    if (target.isTagged() || target.isNamed()) {\n        var m_1 = \"\";\n        var namedTag = target.getNamedTag();\n        var otherTags = target.getCustomTags();\n        if (namedTag !== null) {\n            m_1 += namedTag.toString() + \"\\n\";\n        }\n        if (otherTags !== null) {\n            otherTags.forEach(function (tag) {\n                m_1 += tag.toString() + \"\\n\";\n            });\n        }\n        return \" \" + serviceIdentifierString + \"\\n \" + serviceIdentifierString + \" - \" + m_1;\n    }\n    else {\n        return \" \" + serviceIdentifierString;\n    }\n}\nexports.listMetadataForTarget = listMetadataForTarget;\nfunction getFunctionName(v) {\n    if (v.name) {\n        return v.name;\n    }\n    else {\n        var name_1 = v.toString();\n        var match = name_1.match(/^function\\s*([^\\s(]+)/);\n        return match ? match[1] : \"Anonymous function: \" + name_1;\n    }\n}\nexports.getFunctionName = getFunctionName;\n","module.exports = require(\"buffer\");","'use strict'\n\nconst u = require('universalify').fromCallback\nconst rimraf = require('./rimraf')\n\nmodule.exports = {\n  remove: u(rimraf),\n  removeSync: rimraf.sync\n}\n","module.exports = require(\"net\");","import { DocumentFilter } from 'vscode';\r\n\r\nexport const PYTHON_LANGUAGE = 'python';\r\n\r\nexport const JUPYTER_LANGUAGE = 'jupyter';\r\n\r\nexport const PYTHON_WARNINGS = 'PYTHONWARNINGS';\r\n\r\nexport const PYTHON: DocumentFilter[] = [\r\n    { scheme: 'file', language: PYTHON_LANGUAGE },\r\n    { scheme: 'untitled', language: PYTHON_LANGUAGE }\r\n];\r\nexport const PYTHON_ALLFILES = [{ language: PYTHON_LANGUAGE }];\r\n\r\nexport const PVSC_EXTENSION_ID = 'ms-python.python';\r\nexport const CODE_RUNNER_EXTENSION_ID = 'formulahendry.code-runner';\r\nexport const AppinsightsKey = 'AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217';\r\n\r\nexport namespace Commands {\r\n    export const Set_Interpreter = 'python.setInterpreter';\r\n    export const Set_ShebangInterpreter = 'python.setShebangInterpreter';\r\n    export const Exec_In_Terminal = 'python.execInTerminal';\r\n    export const Exec_In_Terminal_Icon = 'python.execInTerminal-icon';\r\n    export const Exec_Selection_In_Terminal = 'python.execSelectionInTerminal';\r\n    export const Exec_Selection_In_Django_Shell = 'python.execSelectionInDjangoShell';\r\n    export const Tests_View_UI = 'python.viewTestUI';\r\n    export const Tests_Picker_UI = 'python.selectTestToRun';\r\n    export const Tests_Picker_UI_Debug = 'python.selectTestToDebug';\r\n    export const Tests_Configure = 'python.configureTests';\r\n    export const Tests_Discover = 'python.discoverTests';\r\n    export const Tests_Discovering = 'python.discoveringTests';\r\n    export const Tests_Run_Failed = 'python.runFailedTests';\r\n    export const Sort_Imports = 'python.sortImports';\r\n    export const Tests_Run = 'python.runtests';\r\n    export const Tests_Run_Parametrized = 'python.runParametrizedTests';\r\n    export const Tests_Debug = 'python.debugtests';\r\n    export const Tests_Ask_To_Stop_Test = 'python.askToStopTests';\r\n    export const Tests_Ask_To_Stop_Discovery = 'python.askToStopTestDiscovery';\r\n    export const Tests_Stop = 'python.stopTests';\r\n    export const Test_Reveal_Test_Item = 'python.revealTestItem';\r\n    export const ViewOutput = 'python.viewOutput';\r\n    export const Tests_ViewOutput = 'python.viewTestOutput';\r\n    export const Tests_Select_And_Run_Method = 'python.selectAndRunTestMethod';\r\n    export const Tests_Select_And_Debug_Method = 'python.selectAndDebugTestMethod';\r\n    export const Tests_Select_And_Run_File = 'python.selectAndRunTestFile';\r\n    export const Tests_Run_Current_File = 'python.runCurrentTestFile';\r\n    export const Refactor_Extract_Variable = 'python.refactorExtractVariable';\r\n    export const Refactor_Extract_Method = 'python.refactorExtractMethod';\r\n    export const Build_Workspace_Symbols = 'python.buildWorkspaceSymbols';\r\n    export const Start_REPL = 'python.startREPL';\r\n    export const Create_Terminal = 'python.createTerminal';\r\n    export const Set_Linter = 'python.setLinter';\r\n    export const Enable_Linter = 'python.enableLinting';\r\n    export const Run_Linter = 'python.runLinting';\r\n    export const Enable_SourceMap_Support = 'python.enableSourceMapSupport';\r\n    export const navigateToTestFunction = 'navigateToTestFunction';\r\n    export const navigateToTestSuite = 'navigateToTestSuite';\r\n    export const navigateToTestFile = 'navigateToTestFile';\r\n    export const openTestNodeInEditor = 'python.openTestNodeInEditor';\r\n    export const runTestNode = 'python.runTestNode';\r\n    export const debugTestNode = 'python.debugTestNode';\r\n    export const SwitchOffInsidersChannel = 'python.switchOffInsidersChannel';\r\n    export const SwitchToInsidersDaily = 'python.switchToDailyChannel';\r\n    export const SwitchToInsidersWeekly = 'python.switchToWeeklyChannel';\r\n    export const PickLocalProcess = 'python.pickLocalProcess';\r\n}\r\nexport namespace Octicons {\r\n    export const Test_Pass = '$(check)';\r\n    export const Test_Fail = '$(alert)';\r\n    export const Test_Error = '$(x)';\r\n    export const Test_Skip = '$(circle-slash)';\r\n}\r\n\r\nexport const Button_Text_Tests_View_Output = 'View Output';\r\n\r\nexport namespace Text {\r\n    export const CodeLensRunUnitTest = 'Run Test';\r\n    export const CodeLensDebugUnitTest = 'Debug Test';\r\n}\r\nexport namespace Delays {\r\n    // Max time to wait before aborting the generation of code lenses for unit tests\r\n    export const MaxUnitTestCodeLensDelay = 5000;\r\n}\r\n\r\nexport const STANDARD_OUTPUT_CHANNEL = 'STANDARD_OUTPUT_CHANNEL';\r\n\r\nexport const isCI = process.env.TRAVIS === 'true' || process.env.TF_BUILD !== undefined;\r\n\r\nexport function isTestExecution(): boolean {\r\n    return process.env.VSC_PYTHON_CI_TEST === '1' || isUnitTestExecution();\r\n}\r\n\r\n/**\r\n * Whether we're running unit tests (*.unit.test.ts).\r\n * These tests have a speacial meaning, they run fast.\r\n * @export\r\n * @returns {boolean}\r\n */\r\nexport function isUnitTestExecution(): boolean {\r\n    return process.env.VSC_PYTHON_UNIT_TEST === '1';\r\n}\r\n\r\nexport * from '../constants';\r\n\r\n// Terminals with this name prefix will not be automatically activated.\r\nexport const terminalNamePrefixNotToAutoActivate = 'VSC_NO_ACTIVATE';\r\n","module.exports = require(\"child_process\");","'use strict'\n\nconst u = require('universalify').fromCallback\nconst jsonFile = require('jsonfile')\n\nmodule.exports = {\n  // jsonfile exports\n  readJson: u(jsonFile.readFile),\n  readJsonSync: jsonFile.readFileSync,\n  writeJson: u(jsonFile.writeFile),\n  writeJsonSync: jsonFile.writeFileSync\n}\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst protocol_1 = require(\"./protocol\");\nconst messages_1 = require(\"./messages\");\nconst Net = require(\"net\");\nconst url_1 = require(\"url\");\nclass Source {\n    constructor(name, path, id = 0, origin, data) {\n        this.name = name;\n        this.path = path;\n        this.sourceReference = id;\n        if (origin) {\n            this.origin = origin;\n        }\n        if (data) {\n            this.adapterData = data;\n        }\n    }\n}\nexports.Source = Source;\nclass Scope {\n    constructor(name, reference, expensive = false) {\n        this.name = name;\n        this.variablesReference = reference;\n        this.expensive = expensive;\n    }\n}\nexports.Scope = Scope;\nclass StackFrame {\n    constructor(i, nm, src, ln = 0, col = 0) {\n        this.id = i;\n        this.source = src;\n        this.line = ln;\n        this.column = col;\n        this.name = nm;\n    }\n}\nexports.StackFrame = StackFrame;\nclass Thread {\n    constructor(id, name) {\n        this.id = id;\n        if (name) {\n            this.name = name;\n        }\n        else {\n            this.name = 'Thread #' + id;\n        }\n    }\n}\nexports.Thread = Thread;\nclass Variable {\n    constructor(name, value, ref = 0, indexedVariables, namedVariables) {\n        this.name = name;\n        this.value = value;\n        this.variablesReference = ref;\n        if (typeof namedVariables === 'number') {\n            this.namedVariables = namedVariables;\n        }\n        if (typeof indexedVariables === 'number') {\n            this.indexedVariables = indexedVariables;\n        }\n    }\n}\nexports.Variable = Variable;\nclass Breakpoint {\n    constructor(verified, line, column, source) {\n        this.verified = verified;\n        const e = this;\n        if (typeof line === 'number') {\n            e.line = line;\n        }\n        if (typeof column === 'number') {\n            e.column = column;\n        }\n        if (source) {\n            e.source = source;\n        }\n    }\n}\nexports.Breakpoint = Breakpoint;\nclass Module {\n    constructor(id, name) {\n        this.id = id;\n        this.name = name;\n    }\n}\nexports.Module = Module;\nclass CompletionItem {\n    constructor(label, start, length = 0) {\n        this.label = label;\n        this.start = start;\n        this.length = length;\n    }\n}\nexports.CompletionItem = CompletionItem;\nclass StoppedEvent extends messages_1.Event {\n    constructor(reason, threadId, exceptionText) {\n        super('stopped');\n        this.body = {\n            reason: reason\n        };\n        if (typeof threadId === 'number') {\n            this.body.threadId = threadId;\n        }\n        if (typeof exceptionText === 'string') {\n            this.body.text = exceptionText;\n        }\n    }\n}\nexports.StoppedEvent = StoppedEvent;\nclass ContinuedEvent extends messages_1.Event {\n    constructor(threadId, allThreadsContinued) {\n        super('continued');\n        this.body = {\n            threadId: threadId\n        };\n        if (typeof allThreadsContinued === 'boolean') {\n            this.body.allThreadsContinued = allThreadsContinued;\n        }\n    }\n}\nexports.ContinuedEvent = ContinuedEvent;\nclass InitializedEvent extends messages_1.Event {\n    constructor() {\n        super('initialized');\n    }\n}\nexports.InitializedEvent = InitializedEvent;\nclass TerminatedEvent extends messages_1.Event {\n    constructor(restart) {\n        super('terminated');\n        if (typeof restart === 'boolean' || restart) {\n            const e = this;\n            e.body = {\n                restart: restart\n            };\n        }\n    }\n}\nexports.TerminatedEvent = TerminatedEvent;\nclass OutputEvent extends messages_1.Event {\n    constructor(output, category = 'console', data) {\n        super('output');\n        this.body = {\n            category: category,\n            output: output\n        };\n        if (data !== undefined) {\n            this.body.data = data;\n        }\n    }\n}\nexports.OutputEvent = OutputEvent;\nclass ThreadEvent extends messages_1.Event {\n    constructor(reason, threadId) {\n        super('thread');\n        this.body = {\n            reason: reason,\n            threadId: threadId\n        };\n    }\n}\nexports.ThreadEvent = ThreadEvent;\nclass BreakpointEvent extends messages_1.Event {\n    constructor(reason, breakpoint) {\n        super('breakpoint');\n        this.body = {\n            reason: reason,\n            breakpoint: breakpoint\n        };\n    }\n}\nexports.BreakpointEvent = BreakpointEvent;\nclass ModuleEvent extends messages_1.Event {\n    constructor(reason, module) {\n        super('module');\n        this.body = {\n            reason: reason,\n            module: module\n        };\n    }\n}\nexports.ModuleEvent = ModuleEvent;\nclass LoadedSourceEvent extends messages_1.Event {\n    constructor(reason, source) {\n        super('loadedSource');\n        this.body = {\n            reason: reason,\n            source: source\n        };\n    }\n}\nexports.LoadedSourceEvent = LoadedSourceEvent;\nclass CapabilitiesEvent extends messages_1.Event {\n    constructor(capabilities) {\n        super('capabilities');\n        this.body = {\n            capabilities: capabilities\n        };\n    }\n}\nexports.CapabilitiesEvent = CapabilitiesEvent;\nvar ErrorDestination;\n(function (ErrorDestination) {\n    ErrorDestination[ErrorDestination[\"User\"] = 1] = \"User\";\n    ErrorDestination[ErrorDestination[\"Telemetry\"] = 2] = \"Telemetry\";\n})(ErrorDestination = exports.ErrorDestination || (exports.ErrorDestination = {}));\n;\nclass DebugSession extends protocol_1.ProtocolServer {\n    constructor(obsolete_debuggerLinesAndColumnsStartAt1, obsolete_isServer) {\n        super();\n        const linesAndColumnsStartAt1 = typeof obsolete_debuggerLinesAndColumnsStartAt1 === 'boolean' ? obsolete_debuggerLinesAndColumnsStartAt1 : false;\n        this._debuggerLinesStartAt1 = linesAndColumnsStartAt1;\n        this._debuggerColumnsStartAt1 = linesAndColumnsStartAt1;\n        this._debuggerPathsAreURIs = false;\n        this._clientLinesStartAt1 = true;\n        this._clientColumnsStartAt1 = true;\n        this._clientPathsAreURIs = false;\n        this._isServer = typeof obsolete_isServer === 'boolean' ? obsolete_isServer : false;\n        this.on('close', () => {\n            this.shutdown();\n        });\n        this.on('error', (error) => {\n            this.shutdown();\n        });\n    }\n    setDebuggerPathFormat(format) {\n        this._debuggerPathsAreURIs = format !== 'path';\n    }\n    setDebuggerLinesStartAt1(enable) {\n        this._debuggerLinesStartAt1 = enable;\n    }\n    setDebuggerColumnsStartAt1(enable) {\n        this._debuggerColumnsStartAt1 = enable;\n    }\n    setRunAsServer(enable) {\n        this._isServer = enable;\n    }\n    /**\n     * A virtual constructor...\n     */\n    static run(debugSession) {\n        // parse arguments\n        let port = 0;\n        const args = process.argv.slice(2);\n        args.forEach(function (val, index, array) {\n            const portMatch = /^--server=(\\d{4,5})$/.exec(val);\n            if (portMatch) {\n                port = parseInt(portMatch[1], 10);\n            }\n        });\n        if (port > 0) {\n            // start as a server\n            console.error(`waiting for debug protocol on port ${port}`);\n            Net.createServer((socket) => {\n                console.error('>> accepted connection from client');\n                socket.on('end', () => {\n                    console.error('>> client connection closed\\n');\n                });\n                const session = new debugSession(false, true);\n                session.setRunAsServer(true);\n                session.start(socket, socket);\n            }).listen(port);\n        }\n        else {\n            // start a session\n            //console.error('waiting for debug protocol on stdin/stdout');\n            const session = new debugSession(false);\n            process.on('SIGTERM', () => {\n                session.shutdown();\n            });\n            session.start(process.stdin, process.stdout);\n        }\n    }\n    shutdown() {\n        if (this._isServer) {\n            // shutdown ignored in server mode\n        }\n        else {\n            // wait a bit before shutting down\n            setTimeout(() => {\n                process.exit(0);\n            }, 100);\n        }\n    }\n    sendErrorResponse(response, codeOrMessage, format, variables, dest = ErrorDestination.User) {\n        let msg;\n        if (typeof codeOrMessage === 'number') {\n            msg = {\n                id: codeOrMessage,\n                format: format\n            };\n            if (variables) {\n                msg.variables = variables;\n            }\n            if (dest & ErrorDestination.User) {\n                msg.showUser = true;\n            }\n            if (dest & ErrorDestination.Telemetry) {\n                msg.sendTelemetry = true;\n            }\n        }\n        else {\n            msg = codeOrMessage;\n        }\n        response.success = false;\n        response.message = DebugSession.formatPII(msg.format, true, msg.variables);\n        if (!response.body) {\n            response.body = {};\n        }\n        response.body.error = msg;\n        this.sendResponse(response);\n    }\n    runInTerminalRequest(args, timeout, cb) {\n        this.sendRequest('runInTerminal', args, timeout, cb);\n    }\n    dispatchRequest(request) {\n        const response = new messages_1.Response(request);\n        try {\n            if (request.command === 'initialize') {\n                var args = request.arguments;\n                if (typeof args.linesStartAt1 === 'boolean') {\n                    this._clientLinesStartAt1 = args.linesStartAt1;\n                }\n                if (typeof args.columnsStartAt1 === 'boolean') {\n                    this._clientColumnsStartAt1 = args.columnsStartAt1;\n                }\n                if (args.pathFormat !== 'path') {\n                    this.sendErrorResponse(response, 2018, 'debug adapter only supports native paths', null, ErrorDestination.Telemetry);\n                }\n                else {\n                    const initializeResponse = response;\n                    initializeResponse.body = {};\n                    this.initializeRequest(initializeResponse, args);\n                }\n            }\n            else if (request.command === 'launch') {\n                this.launchRequest(response, request.arguments);\n            }\n            else if (request.command === 'attach') {\n                this.attachRequest(response, request.arguments);\n            }\n            else if (request.command === 'disconnect') {\n                this.disconnectRequest(response, request.arguments);\n            }\n            else if (request.command === 'terminate') {\n                this.terminateRequest(response, request.arguments);\n            }\n            else if (request.command === 'restart') {\n                this.restartRequest(response, request.arguments);\n            }\n            else if (request.command === 'setBreakpoints') {\n                this.setBreakPointsRequest(response, request.arguments);\n            }\n            else if (request.command === 'setFunctionBreakpoints') {\n                this.setFunctionBreakPointsRequest(response, request.arguments);\n            }\n            else if (request.command === 'setExceptionBreakpoints') {\n                this.setExceptionBreakPointsRequest(response, request.arguments);\n            }\n            else if (request.command === 'configurationDone') {\n                this.configurationDoneRequest(response, request.arguments);\n            }\n            else if (request.command === 'continue') {\n                this.continueRequest(response, request.arguments);\n            }\n            else if (request.command === 'next') {\n                this.nextRequest(response, request.arguments);\n            }\n            else if (request.command === 'stepIn') {\n                this.stepInRequest(response, request.arguments);\n            }\n            else if (request.command === 'stepOut') {\n                this.stepOutRequest(response, request.arguments);\n            }\n            else if (request.command === 'stepBack') {\n                this.stepBackRequest(response, request.arguments);\n            }\n            else if (request.command === 'reverseContinue') {\n                this.reverseContinueRequest(response, request.arguments);\n            }\n            else if (request.command === 'restartFrame') {\n                this.restartFrameRequest(response, request.arguments);\n            }\n            else if (request.command === 'goto') {\n                this.gotoRequest(response, request.arguments);\n            }\n            else if (request.command === 'pause') {\n                this.pauseRequest(response, request.arguments);\n            }\n            else if (request.command === 'stackTrace') {\n                this.stackTraceRequest(response, request.arguments);\n            }\n            else if (request.command === 'scopes') {\n                this.scopesRequest(response, request.arguments);\n            }\n            else if (request.command === 'variables') {\n                this.variablesRequest(response, request.arguments);\n            }\n            else if (request.command === 'setVariable') {\n                this.setVariableRequest(response, request.arguments);\n            }\n            else if (request.command === 'setExpression') {\n                this.setExpressionRequest(response, request.arguments);\n            }\n            else if (request.command === 'source') {\n                this.sourceRequest(response, request.arguments);\n            }\n            else if (request.command === 'threads') {\n                this.threadsRequest(response);\n            }\n            else if (request.command === 'terminateThreads') {\n                this.terminateThreadsRequest(response, request.arguments);\n            }\n            else if (request.command === 'evaluate') {\n                this.evaluateRequest(response, request.arguments);\n            }\n            else if (request.command === 'stepInTargets') {\n                this.stepInTargetsRequest(response, request.arguments);\n            }\n            else if (request.command === 'gotoTargets') {\n                this.gotoTargetsRequest(response, request.arguments);\n            }\n            else if (request.command === 'completions') {\n                this.completionsRequest(response, request.arguments);\n            }\n            else if (request.command === 'exceptionInfo') {\n                this.exceptionInfoRequest(response, request.arguments);\n            }\n            else if (request.command === 'loadedSources') {\n                this.loadedSourcesRequest(response, request.arguments);\n            }\n            else if (request.command === 'dataBreakpointInfo') {\n                this.dataBreakpointInfoRequest(response, request.arguments);\n            }\n            else if (request.command === 'setDataBreakpoints') {\n                this.setDataBreakpointsRequest(response, request.arguments);\n            }\n            else if (request.command === 'readMemory') {\n                this.readMemoryRequest(response, request.arguments);\n            }\n            else if (request.command === 'disassemble') {\n                this.disassembleRequest(response, request.arguments);\n            }\n            else {\n                this.customRequest(request.command, response, request.arguments);\n            }\n        }\n        catch (e) {\n            this.sendErrorResponse(response, 1104, '{_stack}', { _exception: e.message, _stack: e.stack }, ErrorDestination.Telemetry);\n        }\n    }\n    initializeRequest(response, args) {\n        // This default debug adapter does not support conditional breakpoints.\n        response.body.supportsConditionalBreakpoints = false;\n        // This default debug adapter does not support hit conditional breakpoints.\n        response.body.supportsHitConditionalBreakpoints = false;\n        // This default debug adapter does not support function breakpoints.\n        response.body.supportsFunctionBreakpoints = false;\n        // This default debug adapter implements the 'configurationDone' request.\n        response.body.supportsConfigurationDoneRequest = true;\n        // This default debug adapter does not support hovers based on the 'evaluate' request.\n        response.body.supportsEvaluateForHovers = false;\n        // This default debug adapter does not support the 'stepBack' request.\n        response.body.supportsStepBack = false;\n        // This default debug adapter does not support the 'setVariable' request.\n        response.body.supportsSetVariable = false;\n        // This default debug adapter does not support the 'restartFrame' request.\n        response.body.supportsRestartFrame = false;\n        // This default debug adapter does not support the 'stepInTargets' request.\n        response.body.supportsStepInTargetsRequest = false;\n        // This default debug adapter does not support the 'gotoTargets' request.\n        response.body.supportsGotoTargetsRequest = false;\n        // This default debug adapter does not support the 'completions' request.\n        response.body.supportsCompletionsRequest = false;\n        // This default debug adapter does not support the 'restart' request.\n        response.body.supportsRestartRequest = false;\n        // This default debug adapter does not support the 'exceptionOptions' attribute on the 'setExceptionBreakpoints' request.\n        response.body.supportsExceptionOptions = false;\n        // This default debug adapter does not support the 'format' attribute on the 'variables', 'evaluate', and 'stackTrace' request.\n        response.body.supportsValueFormattingOptions = false;\n        // This debug adapter does not support the 'exceptionInfo' request.\n        response.body.supportsExceptionInfoRequest = false;\n        // This debug adapter does not support the 'TerminateDebuggee' attribute on the 'disconnect' request.\n        response.body.supportTerminateDebuggee = false;\n        // This debug adapter does not support delayed loading of stack frames.\n        response.body.supportsDelayedStackTraceLoading = false;\n        // This debug adapter does not support the 'loadedSources' request.\n        response.body.supportsLoadedSourcesRequest = false;\n        // This debug adapter does not support the 'logMessage' attribute of the SourceBreakpoint.\n        response.body.supportsLogPoints = false;\n        // This debug adapter does not support the 'terminateThreads' request.\n        response.body.supportsTerminateThreadsRequest = false;\n        // This debug adapter does not support the 'setExpression' request.\n        response.body.supportsSetExpression = false;\n        // This debug adapter does not support the 'terminate' request.\n        response.body.supportsTerminateRequest = false;\n        // This debug adapter does not support data breakpoints.\n        response.body.supportsDataBreakpoints = false;\n        /** This debug adapter does not support the 'readMemory' request. */\n        response.body.supportsReadMemoryRequest = false;\n        /** The debug adapter does not support the 'disassemble' request. */\n        response.body.supportsDisassembleRequest = false;\n        this.sendResponse(response);\n    }\n    disconnectRequest(response, args) {\n        this.sendResponse(response);\n        this.shutdown();\n    }\n    launchRequest(response, args) {\n        this.sendResponse(response);\n    }\n    attachRequest(response, args) {\n        this.sendResponse(response);\n    }\n    terminateRequest(response, args) {\n        this.sendResponse(response);\n    }\n    restartRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setBreakPointsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setFunctionBreakPointsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setExceptionBreakPointsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    configurationDoneRequest(response, args) {\n        this.sendResponse(response);\n    }\n    continueRequest(response, args) {\n        this.sendResponse(response);\n    }\n    nextRequest(response, args) {\n        this.sendResponse(response);\n    }\n    stepInRequest(response, args) {\n        this.sendResponse(response);\n    }\n    stepOutRequest(response, args) {\n        this.sendResponse(response);\n    }\n    stepBackRequest(response, args) {\n        this.sendResponse(response);\n    }\n    reverseContinueRequest(response, args) {\n        this.sendResponse(response);\n    }\n    restartFrameRequest(response, args) {\n        this.sendResponse(response);\n    }\n    gotoRequest(response, args) {\n        this.sendResponse(response);\n    }\n    pauseRequest(response, args) {\n        this.sendResponse(response);\n    }\n    sourceRequest(response, args) {\n        this.sendResponse(response);\n    }\n    threadsRequest(response) {\n        this.sendResponse(response);\n    }\n    terminateThreadsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    stackTraceRequest(response, args) {\n        this.sendResponse(response);\n    }\n    scopesRequest(response, args) {\n        this.sendResponse(response);\n    }\n    variablesRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setVariableRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setExpressionRequest(response, args) {\n        this.sendResponse(response);\n    }\n    evaluateRequest(response, args) {\n        this.sendResponse(response);\n    }\n    stepInTargetsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    gotoTargetsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    completionsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    exceptionInfoRequest(response, args) {\n        this.sendResponse(response);\n    }\n    loadedSourcesRequest(response, args) {\n        this.sendResponse(response);\n    }\n    dataBreakpointInfoRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setDataBreakpointsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    readMemoryRequest(response, args) {\n        this.sendResponse(response);\n    }\n    disassembleRequest(response, args) {\n        this.sendResponse(response);\n    }\n    /**\n     * Override this hook to implement custom requests.\n     */\n    customRequest(command, response, args) {\n        this.sendErrorResponse(response, 1014, 'unrecognized request', null, ErrorDestination.Telemetry);\n    }\n    //---- protected -------------------------------------------------------------------------------------------------\n    convertClientLineToDebugger(line) {\n        if (this._debuggerLinesStartAt1) {\n            return this._clientLinesStartAt1 ? line : line + 1;\n        }\n        return this._clientLinesStartAt1 ? line - 1 : line;\n    }\n    convertDebuggerLineToClient(line) {\n        if (this._debuggerLinesStartAt1) {\n            return this._clientLinesStartAt1 ? line : line - 1;\n        }\n        return this._clientLinesStartAt1 ? line + 1 : line;\n    }\n    convertClientColumnToDebugger(column) {\n        if (this._debuggerColumnsStartAt1) {\n            return this._clientColumnsStartAt1 ? column : column + 1;\n        }\n        return this._clientColumnsStartAt1 ? column - 1 : column;\n    }\n    convertDebuggerColumnToClient(column) {\n        if (this._debuggerColumnsStartAt1) {\n            return this._clientColumnsStartAt1 ? column : column - 1;\n        }\n        return this._clientColumnsStartAt1 ? column + 1 : column;\n    }\n    convertClientPathToDebugger(clientPath) {\n        if (this._clientPathsAreURIs !== this._debuggerPathsAreURIs) {\n            if (this._clientPathsAreURIs) {\n                return DebugSession.uri2path(clientPath);\n            }\n            else {\n                return DebugSession.path2uri(clientPath);\n            }\n        }\n        return clientPath;\n    }\n    convertDebuggerPathToClient(debuggerPath) {\n        if (this._debuggerPathsAreURIs !== this._clientPathsAreURIs) {\n            if (this._debuggerPathsAreURIs) {\n                return DebugSession.uri2path(debuggerPath);\n            }\n            else {\n                return DebugSession.path2uri(debuggerPath);\n            }\n        }\n        return debuggerPath;\n    }\n    //---- private -------------------------------------------------------------------------------\n    static path2uri(path) {\n        if (process.platform === 'win32') {\n            if (/^[A-Z]:/.test(path)) {\n                path = path[0].toLowerCase() + path.substr(1);\n            }\n            path = path.replace(/\\\\/g, '/');\n        }\n        path = encodeURI(path);\n        let uri = new url_1.URL(`file:`); // ignore 'path' for now\n        uri.pathname = path; // now use 'path' to get the correct percent encoding (see https://url.spec.whatwg.org)\n        return uri.toString();\n    }\n    static uri2path(sourceUri) {\n        let uri = new url_1.URL(sourceUri);\n        let s = decodeURIComponent(uri.pathname);\n        if (process.platform === 'win32') {\n            if (/^\\/[a-zA-Z]:/.test(s)) {\n                s = s[1].toLowerCase() + s.substr(2);\n            }\n            s = s.replace(/\\//g, '\\\\');\n        }\n        return s;\n    }\n    /*\n    * If argument starts with '_' it is OK to send its value to telemetry.\n    */\n    static formatPII(format, excludePII, args) {\n        return format.replace(DebugSession._formatPIIRegexp, function (match, paramName) {\n            if (excludePII && paramName.length > 0 && paramName[0] !== '_') {\n                return match;\n            }\n            return args[paramName] && args.hasOwnProperty(paramName) ?\n                args[paramName] :\n                match;\n        });\n    }\n}\nDebugSession._formatPIIRegexp = /{([^}]+)}/g;\nexports.DebugSession = DebugSession;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVidWdTZXNzaW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2RlYnVnU2Vzc2lvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7OztnR0FHZ0c7O0FBR2hHLHlDQUEwQztBQUMxQyx5Q0FBMkM7QUFDM0MsMkJBQTJCO0FBQzNCLDZCQUF3QjtBQUd4QixNQUFhLE1BQU07SUFLbEIsWUFBbUIsSUFBWSxFQUFFLElBQWEsRUFBRSxLQUFhLENBQUMsRUFBRSxNQUFlLEVBQUUsSUFBVTtRQUMxRixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztRQUMxQixJQUFJLE1BQU0sRUFBRTtZQUNMLElBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1NBQzVCO1FBQ0QsSUFBSSxJQUFJLEVBQUU7WUFDSCxJQUFLLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztTQUMvQjtJQUNGLENBQUM7Q0FDRDtBQWhCRCx3QkFnQkM7QUFFRCxNQUFhLEtBQUs7SUFLakIsWUFBbUIsSUFBWSxFQUFFLFNBQWlCLEVBQUUsWUFBcUIsS0FBSztRQUM3RSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsa0JBQWtCLEdBQUcsU0FBUyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQzVCLENBQUM7Q0FDRDtBQVZELHNCQVVDO0FBRUQsTUFBYSxVQUFVO0lBT3RCLFlBQW1CLENBQVMsRUFBRSxFQUFVLEVBQUUsR0FBWSxFQUFFLEtBQWEsQ0FBQyxFQUFFLE1BQWMsQ0FBQztRQUN0RixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNaLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO1FBQ2xCLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxD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QUssT0FBTyxFQUFFO1lBQ2pDLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDM0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3JDO1lBQ0QsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzNCO1FBQ0QsT0FBTyxDQUFDLENBQUM7SUFDVixDQUFDO0lBSUQ7O01BRUU7SUFDTSxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQWEsRUFBRSxVQUFtQixFQUFFLElBQTZCO1FBQ3pGLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLEVBQUUsVUFBUyxLQUFLLEVBQUUsU0FBUztZQUM3RSxJQUFJLFVBQVUsSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFO2dCQUMvRCxPQUFPLEtBQUssQ0FBQzthQUNiO1lBQ0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUN6RCxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDakIsS0FBSyxDQUFDO1FBQ1IsQ0FBQyxDQUFDLENBQUE7SUFDSCxDQUFDOztBQWRjLDZCQUFnQixHQUFHLFlBQVksQ0FBQztBQTVrQmhELG9DQTJsQkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHtEZWJ1Z1Byb3RvY29sfSBmcm9tICd2c2NvZGUtZGVidWdwcm90b2NvbCc7XG5pbXBvcnQge1Byb3RvY29sU2VydmVyfSBmcm9tICcuL3Byb3RvY29sJztcbmltcG9ydCB7UmVzcG9uc2UsIEV2ZW50fSBmcm9tICcuL21lc3NhZ2VzJztcbmltcG9ydCAqIGFzIE5ldCBmcm9tICduZXQnO1xuaW1wb3J0IHtVUkx9IGZyb20gJ3VybCc7XG5cblxuZXhwb3J0IGNsYXNzIFNvdXJjZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuU291cmNlIHtcblx0bmFtZTogc3RyaW5nO1xuXHRwYXRoOiBzdHJpbmc7XG5cdHNvdXJjZVJlZmVyZW5jZTogbnVtYmVyO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHBhdGg/OiBzdHJpbmcsIGlkOiBudW1iZXIgPSAwLCBvcmlnaW4/OiBzdHJpbmcsIGRhdGE/OiBhbnkpIHtcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdHRoaXMucGF0aCA9IHBhdGg7XG5cdFx0dGhpcy5zb3VyY2VSZWZlcmVuY2UgPSBpZDtcblx0XHRpZiAob3JpZ2luKSB7XG5cdFx0XHQoPGFueT50aGlzKS5vcmlnaW4gPSBvcmlnaW47XG5cdFx0fVxuXHRcdGlmIChkYXRhKSB7XG5cdFx0XHQoPGFueT50aGlzKS5hZGFwdGVyRGF0YSA9IGRhdGE7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBTY29wZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuU2NvcGUge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHZhcmlhYmxlc1JlZmVyZW5jZTogbnVtYmVyO1xuXHRleHBlbnNpdmU6IGJvb2xlYW47XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgcmVmZXJlbmNlOiBudW1iZXIsIGV4cGVuc2l2ZTogYm9vbGVhbiA9IGZhbHNlKSB7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLnZhcmlhYmxlc1JlZmVyZW5jZSA9IHJlZmVyZW5jZTtcblx0XHR0aGlzLmV4cGVuc2l2ZSA9IGV4cGVuc2l2ZTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgU3RhY2tGcmFtZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuU3RhY2tGcmFtZSB7XG5cdGlkOiBudW1iZXI7XG5cdHNvdXJjZTogU291cmNlO1xuXHRsaW5lOiBudW1iZXI7XG5cdGNvbHVtbjogbnVtYmVyO1xuXHRuYW1lOiBzdHJpbmc7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGk6IG51bWJlciwgbm06IHN0cmluZywgc3JjPzogU291cmNlLCBsbjogbnVtYmVyID0gMCwgY29sOiBudW1iZXIgPSAwKSB7XG5cdFx0dGhpcy5pZCA9IGk7XG5cdFx0dGhpcy5zb3VyY2UgPSBzcmM7XG5cdFx0dGhpcy5saW5lID0gbG47XG5cdFx0dGhpcy5jb2x1bW4gPSBjb2w7XG5cdFx0dGhpcy5uYW1lID0gbm07XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFRocmVhZCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuVGhyZWFkIHtcblx0aWQ6IG51bWJlcjtcblx0bmFtZTogc3RyaW5nO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpIHtcblx0XHR0aGlzLmlkID0gaWQ7XG5cdFx0aWYgKG5hbWUpIHtcblx0XHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubmFtZSA9ICdUaHJlYWQgIycgKyBpZDtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFZhcmlhYmxlIGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5WYXJpYWJsZSB7XG5cdG5hbWU6IHN0cmluZztcblx0dmFsdWU6IHN0cmluZztcblx0dmFyaWFibGVzUmVmZXJlbmNlOiBudW1iZXI7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgcmVmOiBudW1iZXIgPSAwLCBpbmRleGVkVmFyaWFibGVzPzogbnVtYmVyLCBuYW1lZFZhcmlhYmxlcz86IG51bWJlcikge1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMudmFyaWFibGVzUmVmZXJlbmNlID0gcmVmO1xuXHRcdGlmICh0eXBlb2YgbmFtZWRWYXJpYWJsZXMgPT09ICdudW1iZXInKSB7XG5cdFx0XHQoPERlYnVnUHJvdG9jb2wuVmFyaWFibGU+dGhpcykubmFtZWRWYXJpYWJsZXMgPSBuYW1lZFZhcmlhYmxlcztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBpbmRleGVkVmFyaWFibGVzID09PSAnbnVtYmVyJykge1xuXHRcdFx0KDxEZWJ1Z1Byb3RvY29sLlZhcmlhYmxlPnRoaXMpLmluZGV4ZWRWYXJpYWJsZXMgPSBpbmRleGVkVmFyaWFibGVzO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQnJlYWtwb2ludCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuQnJlYWtwb2ludCB7XG5cdHZlcmlmaWVkOiBib29sZWFuO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcih2ZXJpZmllZDogYm9vbGVhbiwgbGluZT86IG51bWJlciwgY29sdW1uPzogbnVtYmVyLCBzb3VyY2U/OiBTb3VyY2UpIHtcblx0XHR0aGlzLnZlcmlmaWVkID0gdmVyaWZpZWQ7XG5cdFx0Y29uc3QgZTogRGVidWdQcm90b2NvbC5CcmVha3BvaW50ID0gdGhpcztcblx0XHRpZiAodHlwZW9mIGxpbmUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRlLmxpbmUgPSBsaW5lO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGNvbHVtbiA9PT0gJ251bWJlcicpIHtcblx0XHRcdGUuY29sdW1uID0gY29sdW1uO1xuXHRcdH1cblx0XHRpZiAoc291cmNlKSB7XG5cdFx0XHRlLnNvdXJjZSA9IHNvdXJjZTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vZHVsZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuTW9kdWxlIHtcblx0aWQ6IG51bWJlciB8IHN0cmluZztcblx0bmFtZTogc3RyaW5nO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihpZDogbnVtYmVyIHwgc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcblx0XHR0aGlzLmlkID0gaWQ7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGxldGlvbkl0ZW0gaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLkNvbXBsZXRpb25JdGVtIHtcblx0bGFiZWw6IHN0cmluZztcblx0c3RhcnQ6IG51bWJlcjtcblx0bGVuZ3RoOiBudW1iZXI7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGxhYmVsOiBzdHJpbmcsIHN0YXJ0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyID0gMCkge1xuXHRcdHRoaXMubGFiZWwgPSBsYWJlbDtcblx0XHR0aGlzLnN0YXJ0ID0gc3RhcnQ7XG5cdFx0dGhpcy5sZW5ndGggPSBsZW5ndGg7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0b3BwZWRFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5TdG9wcGVkRXZlbnQge1xuXHRib2R5OiB7XG5cdFx0cmVhc29uOiBzdHJpbmc7XG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlYXNvbjogc3RyaW5nLCB0aHJlYWRJZD86IG51bWJlciwgZXhjZXB0aW9uVGV4dD86IHN0cmluZykge1xuXHRcdHN1cGVyKCdzdG9wcGVkJyk7XG5cdFx0dGhpcy5ib2R5ID0ge1xuXHRcdFx0cmVhc29uOiByZWFzb25cblx0XHR9O1xuXHRcdGlmICh0eXBlb2YgdGhyZWFkSWQgPT09ICdudW1iZXInKSB7XG5cdFx0XHQodGhpcyBhcyBEZWJ1Z1Byb3RvY29sLlN0b3BwZWRFdmVudCkuYm9keS50aHJlYWRJZCA9IHRocmVhZElkO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGV4Y2VwdGlvblRleHQgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHQodGhpcyBhcyBEZWJ1Z1Byb3RvY29sLlN0b3BwZWRFdmVudCkuYm9keS50ZXh0ID0gZXhjZXB0aW9uVGV4dDtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbnRpbnVlZEV2ZW50IGV4dGVuZHMgRXZlbnQgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLkNvbnRpbnVlZEV2ZW50IHtcblx0Ym9keToge1xuXHRcdHRocmVhZElkOiBudW1iZXI7XG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHRocmVhZElkOiBudW1iZXIsIGFsbFRocmVhZHNDb250aW51ZWQ/OiBib29sZWFuKSB7XG5cdFx0c3VwZXIoJ2NvbnRpbnVlZCcpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdHRocmVhZElkOiB0aHJlYWRJZFxuXHRcdH07XG5cblx0XHRpZiAodHlwZW9mIGFsbFRocmVhZHNDb250aW51ZWQgPT09ICdib29sZWFuJykge1xuXHRcdFx0KDxEZWJ1Z1Byb3RvY29sLkNvbnRpbnVlZEV2ZW50PnRoaXMpLmJvZHkuYWxsVGhyZWFkc0NvbnRpbnVlZCA9IGFsbFRocmVhZHNDb250aW51ZWQ7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBJbml0aWFsaXplZEV2ZW50IGV4dGVuZHMgRXZlbnQgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLkluaXRpYWxpemVkRXZlbnQge1xuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoJ2luaXRpYWxpemVkJyk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFRlcm1pbmF0ZWRFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5UZXJtaW5hdGVkRXZlbnQge1xuXHRwdWJsaWMgY29uc3RydWN0b3IocmVzdGFydD86IGFueSkge1xuXHRcdHN1cGVyKCd0ZXJtaW5hdGVkJyk7XG5cdFx0aWYgKHR5cGVvZiByZXN0YXJ0ID09PSAnYm9vbGVhbicgfHwgcmVzdGFydCkge1xuXHRcdFx0Y29uc3QgZTogRGVidWdQcm90b2NvbC5UZXJtaW5hdGVkRXZlbnQgPSB0aGlzO1xuXHRcdFx0ZS5ib2R5ID0ge1xuXHRcdFx0XHRyZXN0YXJ0OiByZXN0YXJ0XG5cdFx0XHR9O1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgT3V0cHV0RXZlbnQgZXh0ZW5kcyBFdmVudCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuT3V0cHV0RXZlbnQge1xuXHRib2R5OiB7XG5cdFx0Y2F0ZWdvcnk6IHN0cmluZyxcblx0XHRvdXRwdXQ6IHN0cmluZyxcblx0XHRkYXRhPzogYW55XG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKG91dHB1dDogc3RyaW5nLCBjYXRlZ29yeTogc3RyaW5nID0gJ2NvbnNvbGUnLCBkYXRhPzogYW55KSB7XG5cdFx0c3VwZXIoJ291dHB1dCcpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdGNhdGVnb3J5OiBjYXRlZ29yeSxcblx0XHRcdG91dHB1dDogb3V0cHV0XG5cdFx0fTtcblx0XHRpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLmJvZHkuZGF0YSA9IGRhdGE7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBUaHJlYWRFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5UaHJlYWRFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRyZWFzb246IHN0cmluZyxcblx0XHR0aHJlYWRJZDogbnVtYmVyXG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlYXNvbjogc3RyaW5nLCB0aHJlYWRJZDogbnVtYmVyKSB7XG5cdFx0c3VwZXIoJ3RocmVhZCcpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdHJlYXNvbjogcmVhc29uLFxuXHRcdFx0dGhyZWFkSWQ6IHRocmVhZElkXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQnJlYWtwb2ludEV2ZW50IGV4dGVuZHMgRXZlbnQgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLkJyZWFrcG9pbnRFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRyZWFzb246IHN0cmluZyxcblx0XHRicmVha3BvaW50OiBCcmVha3BvaW50XG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlYXNvbjogc3RyaW5nLCBicmVha3BvaW50OiBCcmVha3BvaW50KSB7XG5cdFx0c3VwZXIoJ2JyZWFrcG9pbnQnKTtcblx0XHR0aGlzLmJvZHkgPSB7XG5cdFx0XHRyZWFzb246IHJlYXNvbixcblx0XHRcdGJyZWFrcG9pbnQ6IGJyZWFrcG9pbnRcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2R1bGVFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5Nb2R1bGVFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRyZWFzb246ICduZXcnIHwgJ2NoYW5nZWQnIHwgJ3JlbW92ZWQnLFxuXHRcdG1vZHVsZTogTW9kdWxlXG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlYXNvbjogJ25ldycgfCAnY2hhbmdlZCcgfCAncmVtb3ZlZCcsIG1vZHVsZTogTW9kdWxlKSB7XG5cdFx0c3VwZXIoJ21vZHVsZScpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdHJlYXNvbjogcmVhc29uLFxuXHRcdFx0bW9kdWxlOiBtb2R1bGVcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBMb2FkZWRTb3VyY2VFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5Mb2FkZWRTb3VyY2VFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRyZWFzb246ICduZXcnIHwgJ2NoYW5nZWQnIHwgJ3JlbW92ZWQnLFxuXHRcdHNvdXJjZTogU291cmNlXG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlYXNvbjogJ25ldycgfCAnY2hhbmdlZCcgfCAncmVtb3ZlZCcsIHNvdXJjZTogU291cmNlKSB7XG5cdFx0c3VwZXIoJ2xvYWRlZFNvdXJjZScpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdHJlYXNvbjogcmVhc29uLFxuXHRcdFx0c291cmNlOiBzb3VyY2Vcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBDYXBhYmlsaXRpZXNFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5DYXBhYmlsaXRpZXNFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRjYXBhYmlsaXRpZXM6IERlYnVnUHJvdG9jb2wuQ2FwYWJpbGl0aWVzXG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGNhcGFiaWxpdGllczogRGVidWdQcm90b2NvbC5DYXBhYmlsaXRpZXMpIHtcblx0XHRzdXBlcignY2FwYWJpbGl0aWVzJyk7XG5cdFx0dGhpcy5ib2R5ID0ge1xuXHRcdFx0Y2FwYWJpbGl0aWVzOiBjYXBhYmlsaXRpZXNcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBlbnVtIEVycm9yRGVzdGluYXRpb24ge1xuXHRVc2VyID0gMSxcblx0VGVsZW1ldHJ5ID0gMlxufTtcblxuZXhwb3J0IGNsYXNzIERlYnVnU2Vzc2lvbiBleHRlbmRzIFByb3RvY29sU2VydmVyIHtcblxuXHRwcml2YXRlIF9kZWJ1Z2dlckxpbmVzU3RhcnRBdDE6IGJvb2xlYW47XG5cdHByaXZhdGUgX2RlYnVnZ2VyQ29sdW1uc1N0YXJ0QXQxOiBib29sZWFuO1xuXHRwcml2YXRlIF9kZWJ1Z2dlclBhdGhzQXJlVVJJczogYm9vbGVhbjtcblxuXHRwcml2YXRlIF9jbGllbnRMaW5lc1N0YXJ0QXQxOiBib29sZWFuO1xuXHRwcml2YXRlIF9jbGllbnRDb2x1bW5zU3RhcnRBdDE6IGJvb2xlYW47XG5cdHByaXZhdGUgX2NsaWVudFBhdGhzQXJlVVJJczogYm9vbGVhbjtcblxuXHRwcm90ZWN0ZWQgX2lzU2VydmVyOiBib29sZWFuO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihvYnNvbGV0ZV9kZWJ1Z2dlckxpbmVzQW5kQ29sdW1uc1N0YXJ0QXQxPzogYm9vbGVhbiwgb2Jzb2xldGVfaXNTZXJ2ZXI/OiBib29sZWFuKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdGNvbnN0IGxpbmVzQW5kQ29sdW1uc1N0YXJ0QXQxID0gdHlwZW9mIG9ic29sZXRlX2RlYnVnZ2VyTGluZXNBbmRDb2x1bW5zU3RhcnRBdDEgPT09ICdib29sZWFuJyA/IG9ic29sZXRlX2RlYnVnZ2VyTGluZXNBbmRDb2x1bW5zU3RhcnRBdDEgOiBmYWxzZTtcblx0XHR0aGlzLl9kZWJ1Z2dlckxpbmVzU3RhcnRBdDEgPSBsaW5lc0FuZENvbHVtbnNTdGFydEF0MTtcblx0XHR0aGlzLl9kZWJ1Z2dlckNvbHVtbnNTdGFydEF0MSA9IGxpbmVzQW5kQ29sdW1uc1N0YXJ0QXQxO1xuXHRcdHRoaXMuX2RlYnVnZ2VyUGF0aHNBcmVVUklzID0gZmFsc2U7XG5cblx0XHR0aGlzLl9jbGllbnRMaW5lc1N0YXJ0QXQxID0gdHJ1ZTtcblx0XHR0aGlzLl9jbGllbnRDb2x1bW5zU3RhcnRBdDEgPSB0cnVlO1xuXHRcdHRoaXMuX2NsaWVudFBhdGhzQXJlVVJJcyA9IGZhbHNlO1xuXG5cdFx0dGhpcy5faXNTZXJ2ZXIgPSB0eXBlb2Ygb2Jzb2xldGVfaXNTZXJ2ZXIgPT09ICdib29sZWFuJyA/IG9ic29sZXRlX2lzU2VydmVyIDogZmFsc2U7XG5cblx0XHR0aGlzLm9uKCdjbG9zZScsICgpID0+IHtcblx0XHRcdHRoaXMuc2h1dGRvd24oKTtcblx0XHR9KTtcblx0XHR0aGlzLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuXHRcdFx0dGhpcy5zaHV0ZG93bigpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHNldERlYnVnZ2VyUGF0aEZvcm1hdChmb3JtYXQ6IHN0cmluZykge1xuXHRcdHRoaXMuX2RlYnVnZ2VyUGF0aHNBcmVVUklzID0gZm9ybWF0ICE9PSAncGF0aCc7XG5cdH1cblxuXHRwdWJsaWMgc2V0RGVidWdnZXJMaW5lc1N0YXJ0QXQxKGVuYWJsZTogYm9vbGVhbikge1xuXHRcdHRoaXMuX2RlYnVnZ2VyTGluZXNTdGFydEF0MSA9IGVuYWJsZTtcblx0fVxuXG5cdHB1YmxpYyBzZXREZWJ1Z2dlckNvbHVtbnNTdGFydEF0MShlbmFibGU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLl9kZWJ1Z2dlckNvbHVtbnNTdGFydEF0MSA9IGVuYWJsZTtcblx0fVxuXG5cdHB1YmxpYyBzZXRSdW5Bc1NlcnZlcihlbmFibGU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLl9pc1NlcnZlciA9IGVuYWJsZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHZpcnR1YWwgY29uc3RydWN0b3IuLi5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgcnVuKGRlYnVnU2Vzc2lvbjogdHlwZW9mIERlYnVnU2Vzc2lvbikge1xuXG5cdFx0Ly8gcGFyc2UgYXJndW1lbnRzXG5cdFx0bGV0IHBvcnQgPSAwO1xuXHRcdGNvbnN0IGFyZ3MgPSBwcm9jZXNzLmFyZ3Yuc2xpY2UoMik7XG5cdFx0YXJncy5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGluZGV4LCBhcnJheSkge1xuXHRcdFx0Y29uc3QgcG9ydE1hdGNoID0gL14tLXNlcnZlcj0oXFxkezQsNX0pJC8uZXhlYyh2YWwpO1xuXHRcdFx0aWYgKHBvcnRNYXRjaCkge1xuXHRcdFx0XHRwb3J0ID0gcGFyc2VJbnQocG9ydE1hdGNoWzFdLCAxMCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRpZiAocG9ydCA+IDApIHtcblx0XHRcdC8vIHN0YXJ0IGFzIGEgc2VydmVyXG5cdFx0XHRjb25zb2xlLmVycm9yKGB3YWl0aW5nIGZvciBkZWJ1ZyBwcm90b2NvbCBvbiBwb3J0ICR7cG9ydH1gKTtcblx0XHRcdE5ldC5jcmVhdGVTZXJ2ZXIoKHNvY2tldCkgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCc+PiBhY2NlcHRlZCBjb25uZWN0aW9uIGZyb20gY2xpZW50Jyk7XG5cdFx0XHRcdHNvY2tldC5vbignZW5kJywgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJz4+IGNsaWVudCBjb25uZWN0aW9uIGNsb3NlZFxcbicpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29uc3Qgc2Vzc2lvbiA9IG5ldyBkZWJ1Z1Nlc3Npb24oZmFsc2UsIHRydWUpO1xuXHRcdFx0XHRzZXNzaW9uLnNldFJ1bkFzU2VydmVyKHRydWUpO1xuXHRcdFx0XHRzZXNzaW9uLnN0YXJ0KHNvY2tldCwgc29ja2V0KTtcblx0XHRcdH0pLmxpc3Rlbihwb3J0KTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBzdGFydCBhIHNlc3Npb25cblx0XHRcdC8vY29uc29sZS5lcnJvcignd2FpdGluZyBmb3IgZGVidWcgcHJvdG9jb2wgb24gc3RkaW4vc3Rkb3V0Jyk7XG5cdFx0XHRjb25zdCBzZXNzaW9uID0gbmV3IGRlYnVnU2Vzc2lvbihmYWxzZSk7XG5cdFx0XHRwcm9jZXNzLm9uKCdTSUdURVJNJywgKCkgPT4ge1xuXHRcdFx0XHRzZXNzaW9uLnNodXRkb3duKCk7XG5cdFx0XHR9KTtcblx0XHRcdHNlc3Npb24uc3RhcnQocHJvY2Vzcy5zdGRpbiwgcHJvY2Vzcy5zdGRvdXQpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBzaHV0ZG93bigpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5faXNTZXJ2ZXIpIHtcblx0XHRcdC8vIHNodXRkb3duIGlnbm9yZWQgaW4gc2VydmVyIG1vZGVcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gd2FpdCBhIGJpdCBiZWZvcmUgc2h1dHRpbmcgZG93blxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHByb2Nlc3MuZXhpdCgwKTtcblx0XHRcdH0sIDEwMCk7XG5cdFx0fVxuXHR9XG5cblx0cHJvdGVjdGVkIHNlbmRFcnJvclJlc3BvbnNlKHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlLCBjb2RlT3JNZXNzYWdlOiBudW1iZXIgfCBEZWJ1Z1Byb3RvY29sLk1lc3NhZ2UsIGZvcm1hdD86IHN0cmluZywgdmFyaWFibGVzPzogYW55LCBkZXN0OiBFcnJvckRlc3RpbmF0aW9uID0gRXJyb3JEZXN0aW5hdGlvbi5Vc2VyKTogdm9pZCB7XG5cblx0XHRsZXQgbXNnIDogRGVidWdQcm90b2NvbC5NZXNzYWdlO1xuXHRcdGlmICh0eXBlb2YgY29kZU9yTWVzc2FnZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdG1zZyA9IDxEZWJ1Z1Byb3RvY29sLk1lc3NhZ2U+IHtcblx0XHRcdFx0aWQ6IDxudW1iZXI+IGNvZGVPck1lc3NhZ2UsXG5cdFx0XHRcdGZvcm1hdDogZm9ybWF0XG5cdFx0XHR9O1xuXHRcdFx0aWYgKHZhcmlhYmxlcykge1xuXHRcdFx0XHRtc2cudmFyaWFibGVzID0gdmFyaWFibGVzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGRlc3QgJiBFcnJvckRlc3RpbmF0aW9uLlVzZXIpIHtcblx0XHRcdFx0bXNnLnNob3dVc2VyID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGlmIChkZXN0ICYgRXJyb3JEZXN0aW5hdGlvbi5UZWxlbWV0cnkpIHtcblx0XHRcdFx0bXNnLnNlbmRUZWxlbWV0cnkgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRtc2cgPSBjb2RlT3JNZXNzYWdlO1xuXHRcdH1cblxuXHRcdHJlc3BvbnNlLnN1Y2Nlc3MgPSBmYWxzZTtcblx0XHRyZXNwb25zZS5tZXNzYWdlID0gRGVidWdTZXNzaW9uLmZvcm1hdFBJSShtc2cuZm9ybWF0LCB0cnVlLCBtc2cudmFyaWFibGVzKTtcblx0XHRpZiAoIXJlc3BvbnNlLmJvZHkpIHtcblx0XHRcdHJlc3BvbnNlLmJvZHkgPSB7IH07XG5cdFx0fVxuXHRcdHJlc3BvbnNlLmJvZHkuZXJyb3IgPSBtc2c7XG5cblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwdWJsaWMgcnVuSW5UZXJtaW5hbFJlcXVlc3QoYXJnczogRGVidWdQcm90b2NvbC5SdW5JblRlcm1pbmFsUmVxdWVzdEFyZ3VtZW50cywgdGltZW91dDogbnVtYmVyLCBjYjogKHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJ1bkluVGVybWluYWxSZXNwb25zZSkgPT4gdm9pZCkge1xuXHRcdHRoaXMuc2VuZFJlcXVlc3QoJ3J1bkluVGVybWluYWwnLCBhcmdzLCB0aW1lb3V0LCBjYik7XG5cdH1cblxuXHRwcm90ZWN0ZWQgZGlzcGF0Y2hSZXF1ZXN0KHJlcXVlc3Q6IERlYnVnUHJvdG9jb2wuUmVxdWVzdCk6IHZvaWQge1xuXG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UocmVxdWVzdCk7XG5cblx0XHR0cnkge1xuXHRcdFx0aWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2luaXRpYWxpemUnKSB7XG5cdFx0XHRcdHZhciBhcmdzID0gPERlYnVnUHJvdG9jb2wuSW5pdGlhbGl6ZVJlcXVlc3RBcmd1bWVudHM+IHJlcXVlc3QuYXJndW1lbnRzO1xuXG5cdFx0XHRcdGlmICh0eXBlb2YgYXJncy5saW5lc1N0YXJ0QXQxID09PSAnYm9vbGVhbicpIHtcblx0XHRcdFx0XHR0aGlzLl9jbGllbnRMaW5lc1N0YXJ0QXQxID0gYXJncy5saW5lc1N0YXJ0QXQxO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0eXBlb2YgYXJncy5jb2x1bW5zU3RhcnRBdDEgPT09ICdib29sZWFuJykge1xuXHRcdFx0XHRcdHRoaXMuX2NsaWVudENvbHVtbnNTdGFydEF0MSA9IGFyZ3MuY29sdW1uc1N0YXJ0QXQxO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFyZ3MucGF0aEZvcm1hdCAhPT0gJ3BhdGgnKSB7XG5cdFx0XHRcdFx0dGhpcy5zZW5kRXJyb3JSZXNwb25zZShyZXNwb25zZSwgMjAxOCwgJ2RlYnVnIGFkYXB0ZXIgb25seSBzdXBwb3J0cyBuYXRpdmUgcGF0aHMnLCBudWxsLCBFcnJvckRlc3RpbmF0aW9uLlRlbGVtZXRyeSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc3QgaW5pdGlhbGl6ZVJlc3BvbnNlID0gPERlYnVnUHJvdG9jb2wuSW5pdGlhbGl6ZVJlc3BvbnNlPiByZXNwb25zZTtcblx0XHRcdFx0XHRpbml0aWFsaXplUmVzcG9uc2UuYm9keSA9IHt9O1xuXHRcdFx0XHRcdHRoaXMuaW5pdGlhbGl6ZVJlcXVlc3QoaW5pdGlhbGl6ZVJlc3BvbnNlLCBhcmdzKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2xhdW5jaCcpIHtcblx0XHRcdFx0dGhpcy5sYXVuY2hSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkxhdW5jaFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2F0dGFjaCcpIHtcblx0XHRcdFx0dGhpcy5hdHRhY2hSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkF0dGFjaFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2Rpc2Nvbm5lY3QnKSB7XG5cdFx0XHRcdHRoaXMuZGlzY29ubmVjdFJlcXVlc3QoPERlYnVnUHJvdG9jb2wuRGlzY29ubmVjdFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3Rlcm1pbmF0ZScpIHtcblx0XHRcdFx0dGhpcy50ZXJtaW5hdGVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlRlcm1pbmF0ZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3Jlc3RhcnQnKSB7XG5cdFx0XHRcdHRoaXMucmVzdGFydFJlcXVlc3QoPERlYnVnUHJvdG9jb2wuUmVzdGFydFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NldEJyZWFrcG9pbnRzJykge1xuXHRcdFx0XHR0aGlzLnNldEJyZWFrUG9pbnRzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TZXRCcmVha3BvaW50c1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NldEZ1bmN0aW9uQnJlYWtwb2ludHMnKSB7XG5cdFx0XHRcdHRoaXMuc2V0RnVuY3Rpb25CcmVha1BvaW50c1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuU2V0RnVuY3Rpb25CcmVha3BvaW50c1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NldEV4Y2VwdGlvbkJyZWFrcG9pbnRzJykge1xuXHRcdFx0XHR0aGlzLnNldEV4Y2VwdGlvbkJyZWFrUG9pbnRzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TZXRFeGNlcHRpb25CcmVha3BvaW50c1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2NvbmZpZ3VyYXRpb25Eb25lJykge1xuXHRcdFx0XHR0aGlzLmNvbmZpZ3VyYXRpb25Eb25lUmVxdWVzdCg8RGVidWdQcm90b2NvbC5Db25maWd1cmF0aW9uRG9uZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2NvbnRpbnVlJykge1xuXHRcdFx0XHR0aGlzLmNvbnRpbnVlUmVxdWVzdCg8RGVidWdQcm90b2NvbC5Db250aW51ZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ25leHQnKSB7XG5cdFx0XHRcdHRoaXMubmV4dFJlcXVlc3QoPERlYnVnUHJvdG9jb2wuTmV4dFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3N0ZXBJbicpIHtcblx0XHRcdFx0dGhpcy5zdGVwSW5SZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlN0ZXBJblJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3N0ZXBPdXQnKSB7XG5cdFx0XHRcdHRoaXMuc3RlcE91dFJlcXVlc3QoPERlYnVnUHJvdG9jb2wuU3RlcE91dFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3N0ZXBCYWNrJykge1xuXHRcdFx0XHR0aGlzLnN0ZXBCYWNrUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TdGVwQmFja1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3JldmVyc2VDb250aW51ZScpIHtcblx0XHRcdFx0dGhpcy5yZXZlcnNlQ29udGludWVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlJldmVyc2VDb250aW51ZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3Jlc3RhcnRGcmFtZScpIHtcblx0XHRcdFx0dGhpcy5yZXN0YXJ0RnJhbWVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlJlc3RhcnRGcmFtZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2dvdG8nKSB7XG5cdFx0XHRcdHRoaXMuZ290b1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuR290b1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3BhdXNlJykge1xuXHRcdFx0XHR0aGlzLnBhdXNlUmVxdWVzdCg8RGVidWdQcm90b2NvbC5QYXVzZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3N0YWNrVHJhY2UnKSB7XG5cdFx0XHRcdHRoaXMuc3RhY2tUcmFjZVJlcXVlc3QoPERlYnVnUHJvdG9jb2wuU3RhY2tUcmFjZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3Njb3BlcycpIHtcblx0XHRcdFx0dGhpcy5zY29wZXNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlNjb3Blc1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3ZhcmlhYmxlcycpIHtcblx0XHRcdFx0dGhpcy52YXJpYWJsZXNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlZhcmlhYmxlc1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NldFZhcmlhYmxlJykge1xuXHRcdFx0XHR0aGlzLnNldFZhcmlhYmxlUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TZXRWYXJpYWJsZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NldEV4cHJlc3Npb24nKSB7XG5cdFx0XHRcdHRoaXMuc2V0RXhwcmVzc2lvblJlcXVlc3QoPERlYnVnUHJvdG9jb2wuU2V0RXhwcmVzc2lvblJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NvdXJjZScpIHtcblx0XHRcdFx0dGhpcy5zb3VyY2VSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlNvdXJjZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3RocmVhZHMnKSB7XG5cdFx0XHRcdHRoaXMudGhyZWFkc1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuVGhyZWFkc1Jlc3BvbnNlPiByZXNwb25zZSk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAndGVybWluYXRlVGhyZWFkcycpIHtcblx0XHRcdFx0dGhpcy50ZXJtaW5hdGVUaHJlYWRzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5UZXJtaW5hdGVUaHJlYWRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZXZhbHVhdGUnKSB7XG5cdFx0XHRcdHRoaXMuZXZhbHVhdGVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkV2YWx1YXRlUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc3RlcEluVGFyZ2V0cycpIHtcblx0XHRcdFx0dGhpcy5zdGVwSW5UYXJnZXRzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TdGVwSW5UYXJnZXRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZ290b1RhcmdldHMnKSB7XG5cdFx0XHRcdHRoaXMuZ290b1RhcmdldHNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkdvdG9UYXJnZXRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnY29tcGxldGlvbnMnKSB7XG5cdFx0XHRcdHRoaXMuY29tcGxldGlvbnNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkNvbXBsZXRpb25zUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZXhjZXB0aW9uSW5mbycpIHtcblx0XHRcdFx0dGhpcy5leGNlcHRpb25JbmZvUmVxdWVzdCg8RGVidWdQcm90b2NvbC5FeGNlcHRpb25JbmZvUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnbG9hZGVkU291cmNlcycpIHtcblx0XHRcdFx0dGhpcy5sb2FkZWRTb3VyY2VzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5Mb2FkZWRTb3VyY2VzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZGF0YUJyZWFrcG9pbnRJbmZvJykge1xuXHRcdFx0XHR0aGlzLmRhdGFCcmVha3BvaW50SW5mb1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuRGF0YUJyZWFrcG9pbnRJbmZvUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc2V0RGF0YUJyZWFrcG9pbnRzJykge1xuXHRcdFx0XHR0aGlzLnNldERhdGFCcmVha3BvaW50c1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuU2V0RGF0YUJyZWFrcG9pbnRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAncmVhZE1lbW9yeScpIHtcblx0XHRcdFx0dGhpcy5yZWFkTWVtb3J5UmVxdWVzdCg8RGVidWdQcm90b2NvbC5SZWFkTWVtb3J5UmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZGlzYXNzZW1ibGUnKSB7XG5cdFx0XHRcdHRoaXMuZGlzYXNzZW1ibGVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkRpc2Fzc2VtYmxlUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuY3VzdG9tUmVxdWVzdChyZXF1ZXN0LmNvbW1hbmQsIDxEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRoaXMuc2VuZEVycm9yUmVzcG9uc2UocmVzcG9uc2UsIDExMDQsICd7X3N0YWNrfScsIHsgX2V4Y2VwdGlvbjogZS5tZXNzYWdlLCBfc3RhY2s6IGUuc3RhY2sgfSwgRXJyb3JEZXN0aW5hdGlvbi5UZWxlbWV0cnkpO1xuXHRcdH1cblx0fVxuXG5cdHByb3RlY3RlZCBpbml0aWFsaXplUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5Jbml0aWFsaXplUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuSW5pdGlhbGl6ZVJlcXVlc3RBcmd1bWVudHMpOiB2b2lkIHtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgY29uZGl0aW9uYWwgYnJlYWtwb2ludHMuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0NvbmRpdGlvbmFsQnJlYWtwb2ludHMgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgaGl0IGNvbmRpdGlvbmFsIGJyZWFrcG9pbnRzLlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNIaXRDb25kaXRpb25hbEJyZWFrcG9pbnRzID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IGZ1bmN0aW9uIGJyZWFrcG9pbnRzLlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNGdW5jdGlvbkJyZWFrcG9pbnRzID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBpbXBsZW1lbnRzIHRoZSAnY29uZmlndXJhdGlvbkRvbmUnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0NvbmZpZ3VyYXRpb25Eb25lUmVxdWVzdCA9IHRydWU7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IGhvdmVycyBiYXNlZCBvbiB0aGUgJ2V2YWx1YXRlJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNFdmFsdWF0ZUZvckhvdmVycyA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3N0ZXBCYWNrJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNTdGVwQmFjayA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3NldFZhcmlhYmxlJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNTZXRWYXJpYWJsZSA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3Jlc3RhcnRGcmFtZScgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzUmVzdGFydEZyYW1lID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnc3RlcEluVGFyZ2V0cycgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzU3RlcEluVGFyZ2V0c1JlcXVlc3QgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdnb3RvVGFyZ2V0cycgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzR290b1RhcmdldHNSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnY29tcGxldGlvbnMnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0NvbXBsZXRpb25zUmVxdWVzdCA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3Jlc3RhcnQnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c1Jlc3RhcnRSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnZXhjZXB0aW9uT3B0aW9ucycgYXR0cmlidXRlIG9uIHRoZSAnc2V0RXhjZXB0aW9uQnJlYWtwb2ludHMnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0V4Y2VwdGlvbk9wdGlvbnMgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdmb3JtYXQnIGF0dHJpYnV0ZSBvbiB0aGUgJ3ZhcmlhYmxlcycsICdldmFsdWF0ZScsIGFuZCAnc3RhY2tUcmFjZScgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzVmFsdWVGb3JtYXR0aW5nT3B0aW9ucyA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdleGNlcHRpb25JbmZvJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNFeGNlcHRpb25JbmZvUmVxdWVzdCA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdUZXJtaW5hdGVEZWJ1Z2dlZScgYXR0cmlidXRlIG9uIHRoZSAnZGlzY29ubmVjdCcgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRUZXJtaW5hdGVEZWJ1Z2dlZSA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgZGVsYXllZCBsb2FkaW5nIG9mIHN0YWNrIGZyYW1lcy5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzRGVsYXllZFN0YWNrVHJhY2VMb2FkaW5nID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ2xvYWRlZFNvdXJjZXMnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0xvYWRlZFNvdXJjZXNSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ2xvZ01lc3NhZ2UnIGF0dHJpYnV0ZSBvZiB0aGUgU291cmNlQnJlYWtwb2ludC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzTG9nUG9pbnRzID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3Rlcm1pbmF0ZVRocmVhZHMnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c1Rlcm1pbmF0ZVRocmVhZHNSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3NldEV4cHJlc3Npb24nIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c1NldEV4cHJlc3Npb24gPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAndGVybWluYXRlJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNUZXJtaW5hdGVSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCBkYXRhIGJyZWFrcG9pbnRzLlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNEYXRhQnJlYWtwb2ludHMgPSBmYWxzZTtcblxuXHRcdC8qKiBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3JlYWRNZW1vcnknIHJlcXVlc3QuICovXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c1JlYWRNZW1vcnlSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvKiogVGhlIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ2Rpc2Fzc2VtYmxlJyByZXF1ZXN0LiAqL1xuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNEaXNhc3NlbWJsZVJlcXVlc3QgPSBmYWxzZTtcblxuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBkaXNjb25uZWN0UmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5EaXNjb25uZWN0UmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuRGlzY29ubmVjdEFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0XHR0aGlzLnNodXRkb3duKCk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgbGF1bmNoUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5MYXVuY2hSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5MYXVuY2hSZXF1ZXN0QXJndW1lbnRzKTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIGF0dGFjaFJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuQXR0YWNoUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuQXR0YWNoUmVxdWVzdEFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCB0ZXJtaW5hdGVSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlRlcm1pbmF0ZVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlRlcm1pbmF0ZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCByZXN0YXJ0UmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5SZXN0YXJ0UmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuUmVzdGFydEFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRCcmVha1BvaW50c1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU2V0QnJlYWtwb2ludHNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TZXRCcmVha3BvaW50c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRGdW5jdGlvbkJyZWFrUG9pbnRzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TZXRGdW5jdGlvbkJyZWFrcG9pbnRzUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU2V0RnVuY3Rpb25CcmVha3BvaW50c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRFeGNlcHRpb25CcmVha1BvaW50c1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU2V0RXhjZXB0aW9uQnJlYWtwb2ludHNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TZXRFeGNlcHRpb25CcmVha3BvaW50c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBjb25maWd1cmF0aW9uRG9uZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuQ29uZmlndXJhdGlvbkRvbmVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5Db25maWd1cmF0aW9uRG9uZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBjb250aW51ZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuQ29udGludWVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5Db250aW51ZUFyZ3VtZW50cykgOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgbmV4dFJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuTmV4dFJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLk5leHRBcmd1bWVudHMpIDogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHN0ZXBJblJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU3RlcEluUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU3RlcEluQXJndW1lbnRzKSA6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzdGVwT3V0UmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TdGVwT3V0UmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU3RlcE91dEFyZ3VtZW50cykgOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgc3RlcEJhY2tSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlN0ZXBCYWNrUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU3RlcEJhY2tBcmd1bWVudHMpIDogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHJldmVyc2VDb250aW51ZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmV2ZXJzZUNvbnRpbnVlUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuUmV2ZXJzZUNvbnRpbnVlQXJndW1lbnRzKSA6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCByZXN0YXJ0RnJhbWVSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJlc3RhcnRGcmFtZVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlJlc3RhcnRGcmFtZUFyZ3VtZW50cykgOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgZ290b1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuR290b1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLkdvdG9Bcmd1bWVudHMpIDogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHBhdXNlUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5QYXVzZVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlBhdXNlQXJndW1lbnRzKSA6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzb3VyY2VSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlNvdXJjZVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlNvdXJjZUFyZ3VtZW50cykgOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgdGhyZWFkc1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuVGhyZWFkc1Jlc3BvbnNlKTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHRlcm1pbmF0ZVRocmVhZHNSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlRlcm1pbmF0ZVRocmVhZHNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5UZXJtaW5hdGVUaHJlYWRzUmVxdWVzdCk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzdGFja1RyYWNlUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TdGFja1RyYWNlUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU3RhY2tUcmFjZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzY29wZXNSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlNjb3Blc1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlNjb3Blc0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCB2YXJpYWJsZXNSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlZhcmlhYmxlc1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlZhcmlhYmxlc0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRWYXJpYWJsZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU2V0VmFyaWFibGVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TZXRWYXJpYWJsZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRFeHByZXNzaW9uUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TZXRFeHByZXNzaW9uUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU2V0RXhwcmVzc2lvbkFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBldmFsdWF0ZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuRXZhbHVhdGVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5FdmFsdWF0ZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzdGVwSW5UYXJnZXRzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TdGVwSW5UYXJnZXRzUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU3RlcEluVGFyZ2V0c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBnb3RvVGFyZ2V0c1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuR290b1RhcmdldHNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5Hb3RvVGFyZ2V0c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBjb21wbGV0aW9uc1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuQ29tcGxldGlvbnNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5Db21wbGV0aW9uc0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBleGNlcHRpb25JbmZvUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5FeGNlcHRpb25JbmZvUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuRXhjZXB0aW9uSW5mb0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBsb2FkZWRTb3VyY2VzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5Mb2FkZWRTb3VyY2VzUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuTG9hZGVkU291cmNlc0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBkYXRhQnJlYWtwb2ludEluZm9SZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLkRhdGFCcmVha3BvaW50SW5mb1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLkRhdGFCcmVha3BvaW50SW5mb0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXREYXRhQnJlYWtwb2ludHNSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlNldERhdGFCcmVha3BvaW50c1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlNldERhdGFCcmVha3BvaW50c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCByZWFkTWVtb3J5UmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5SZWFkTWVtb3J5UmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuUmVhZE1lbW9yeUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBkaXNhc3NlbWJsZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuRGlzYXNzZW1ibGVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5EaXNhc3NlbWJsZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBPdmVycmlkZSB0aGlzIGhvb2sgdG8gaW1wbGVtZW50IGN1c3RvbSByZXF1ZXN0cy5cblx0ICovXG5cdHByb3RlY3RlZCBjdXN0b21SZXF1ZXN0KGNvbW1hbmQ6IHN0cmluZywgcmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmVzcG9uc2UsIGFyZ3M6IGFueSk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZEVycm9yUmVzcG9uc2UocmVzcG9uc2UsIDEwMTQsICd1bnJlY29nbml6ZWQgcmVxdWVzdCcsIG51bGwsIEVycm9yRGVzdGluYXRpb24uVGVsZW1ldHJ5KTtcblx0fVxuXG5cdC8vLS0tLSBwcm90ZWN0ZWQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdHByb3RlY3RlZCBjb252ZXJ0Q2xpZW50TGluZVRvRGVidWdnZXIobGluZTogbnVtYmVyKTogbnVtYmVyIHtcblx0XHRpZiAodGhpcy5fZGVidWdnZXJMaW5lc1N0YXJ0QXQxKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fY2xpZW50TGluZXNTdGFydEF0MSA/IGxpbmUgOiBsaW5lICsgMTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2NsaWVudExpbmVzU3RhcnRBdDEgPyBsaW5lIC0gMSA6IGxpbmU7XG5cdH1cblxuXHRwcm90ZWN0ZWQgY29udmVydERlYnVnZ2VyTGluZVRvQ2xpZW50KGxpbmU6IG51bWJlcik6IG51bWJlciB7XG5cdFx0aWYgKHRoaXMuX2RlYnVnZ2VyTGluZXNTdGFydEF0MSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2NsaWVudExpbmVzU3RhcnRBdDEgPyBsaW5lIDogbGluZSAtIDE7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9jbGllbnRMaW5lc1N0YXJ0QXQxID8gbGluZSArIDEgOiBsaW5lO1xuXHR9XG5cblx0cHJvdGVjdGVkIGNvbnZlcnRDbGllbnRDb2x1bW5Ub0RlYnVnZ2VyKGNvbHVtbjogbnVtYmVyKTogbnVtYmVyIHtcblx0XHRpZiAodGhpcy5fZGVidWdnZXJDb2x1bW5zU3RhcnRBdDEpIHtcblx0XHRcdHJldHVybiB0aGlzLl9jbGllbnRDb2x1bW5zU3RhcnRBdDEgPyBjb2x1bW4gOiBjb2x1bW4gKyAxO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fY2xpZW50Q29sdW1uc1N0YXJ0QXQxID8gY29sdW1uIC0gMSA6IGNvbHVtbjtcblx0fVxuXG5cdHByb3RlY3RlZCBjb252ZXJ0RGVidWdnZXJDb2x1bW5Ub0NsaWVudChjb2x1bW46IG51bWJlcik6IG51bWJlciB7XG5cdFx0aWYgKHRoaXMuX2RlYnVnZ2VyQ29sdW1uc1N0YXJ0QXQxKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fY2xpZW50Q29sdW1uc1N0YXJ0QXQxID8gY29sdW1uIDogY29sdW1uIC0gMTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2NsaWVudENvbHVtbnNTdGFydEF0MSA/IGNvbHVtbiArIDEgOiBjb2x1bW47XG5cdH1cblxuXHRwcm90ZWN0ZWQgY29udmVydENsaWVudFBhdGhUb0RlYnVnZ2VyKGNsaWVudFBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0aWYgKHRoaXMuX2NsaWVudFBhdGhzQXJlVVJJcyAhPT0gdGhpcy5fZGVidWdnZXJQYXRoc0FyZVVSSXMpIHtcblx0XHRcdGlmICh0aGlzLl9jbGllbnRQYXRoc0FyZVVSSXMpIHtcblx0XHRcdFx0cmV0dXJuIERlYnVnU2Vzc2lvbi51cmkycGF0aChjbGllbnRQYXRoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBEZWJ1Z1Nlc3Npb24ucGF0aDJ1cmkoY2xpZW50UGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjbGllbnRQYXRoO1xuXHR9XG5cblx0cHJvdGVjdGVkIGNvbnZlcnREZWJ1Z2dlclBhdGhUb0NsaWVudChkZWJ1Z2dlclBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0aWYgKHRoaXMuX2RlYnVnZ2VyUGF0aHNBcmVVUklzICE9PSB0aGlzLl9jbGllbnRQYXRoc0FyZVVSSXMpIHtcblx0XHRcdGlmICh0aGlzLl9kZWJ1Z2dlclBhdGhzQXJlVVJJcykge1xuXHRcdFx0XHRyZXR1cm4gRGVidWdTZXNzaW9uLnVyaTJwYXRoKGRlYnVnZ2VyUGF0aCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gRGVidWdTZXNzaW9uLnBhdGgydXJpKGRlYnVnZ2VyUGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBkZWJ1Z2dlclBhdGg7XG5cdH1cblxuXHQvLy0tLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0cHJpdmF0ZSBzdGF0aWMgcGF0aDJ1cmkocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcblxuXHRcdGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKSB7XG5cdFx0XHRpZiAoL15bQS1aXTovLnRlc3QocGF0aCkpIHtcblx0XHRcdFx0cGF0aCA9IHBhdGhbMF0udG9Mb3dlckNhc2UoKSArIHBhdGguc3Vic3RyKDEpO1xuXHRcdFx0fVxuXHRcdFx0cGF0aCA9IHBhdGgucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuXHRcdH1cblx0XHRwYXRoID0gZW5jb2RlVVJJKHBhdGgpO1xuXG5cdFx0bGV0IHVyaSA9IG5ldyBVUkwoYGZpbGU6YCk7XHQvLyBpZ25vcmUgJ3BhdGgnIGZvciBub3dcblx0XHR1cmkucGF0aG5hbWUgPSBwYXRoO1x0Ly8gbm93IHVzZSAncGF0aCcgdG8gZ2V0IHRoZSBjb3JyZWN0IHBlcmNlbnQgZW5jb2RpbmcgKHNlZSBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcpXG5cdFx0cmV0dXJuIHVyaS50b1N0cmluZygpO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgdXJpMnBhdGgoc291cmNlVXJpOiBzdHJpbmcpOiBzdHJpbmcge1xuXG5cdFx0bGV0IHVyaSA9IG5ldyBVUkwoc291cmNlVXJpKTtcblx0XHRsZXQgcyA9IGRlY29kZVVSSUNvbXBvbmVudCh1cmkucGF0aG5hbWUpO1xuXHRcdGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKSB7XG5cdFx0XHRpZiAoL15cXC9bYS16QS1aXTovLnRlc3QocykpIHtcblx0XHRcdFx0cyA9IHNbMV0udG9Mb3dlckNhc2UoKSArIHMuc3Vic3RyKDIpO1xuXHRcdFx0fVxuXHRcdFx0cyA9IHMucmVwbGFjZSgvXFwvL2csICdcXFxcJyk7XG5cdFx0fVxuXHRcdHJldHVybiBzO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgX2Zvcm1hdFBJSVJlZ2V4cCA9IC97KFtefV0rKX0vZztcblxuXHQvKlxuXHQqIElmIGFyZ3VtZW50IHN0YXJ0cyB3aXRoICdfJyBpdCBpcyBPSyB0byBzZW5kIGl0cyB2YWx1ZSB0byB0ZWxlbWV0cnkuXG5cdCovXG5cdHByaXZhdGUgc3RhdGljIGZvcm1hdFBJSShmb3JtYXQ6c3RyaW5nLCBleGNsdWRlUElJOiBib29sZWFuLCBhcmdzOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfSk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGZvcm1hdC5yZXBsYWNlKERlYnVnU2Vzc2lvbi5fZm9ybWF0UElJUmVnZXhwLCBmdW5jdGlvbihtYXRjaCwgcGFyYW1OYW1lKSB7XG5cdFx0XHRpZiAoZXhjbHVkZVBJSSAmJiBwYXJhbU5hbWUubGVuZ3RoID4gMCAmJiBwYXJhbU5hbWVbMF0gIT09ICdfJykge1xuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYXJnc1twYXJhbU5hbWVdICYmIGFyZ3MuaGFzT3duUHJvcGVydHkocGFyYW1OYW1lKSA/XG5cdFx0XHRcdGFyZ3NbcGFyYW1OYW1lXSA6XG5cdFx0XHRcdG1hdGNoO1xuXHRcdH0pXG5cdH1cbn1cbiJdfQ==","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Message {\n    constructor(type) {\n        this.seq = 0;\n        this.type = type;\n    }\n}\nexports.Message = Message;\nclass Response extends Message {\n    constructor(request, message) {\n        super('response');\n        this.request_seq = request.seq;\n        this.command = request.command;\n        if (message) {\n            this.success = false;\n            this.message = message;\n        }\n        else {\n            this.success = true;\n        }\n    }\n}\nexports.Response = Response;\nclass Event extends Message {\n    constructor(event, body) {\n        super('event');\n        this.event = event;\n        if (body) {\n            this.body = body;\n        }\n    }\n}\nexports.Event = Event;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVzc2FnZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvbWVzc2FnZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Z0dBR2dHOztBQUtoRyxNQUFhLE9BQU87SUFJbkIsWUFBbUIsSUFBWTtRQUM5QixJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2xCLENBQUM7Q0FDRDtBQVJELDBCQVFDO0FBRUQsTUFBYSxRQUFTLFNBQVEsT0FBTztJQUtwQyxZQUFtQixPQUE4QixFQUFFLE9BQWdCO1FBQ2xFLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUM7UUFDL0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQy9CLElBQUksT0FBTyxFQUFFO1lBQ1osSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDZixJQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztTQUM5QjthQUFNO1lBQ04sSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7U0FDcEI7SUFDRixDQUFDO0NBQ0Q7QUFoQkQsNEJBZ0JDO0FBRUQsTUFBYSxLQUFNLFNBQVEsT0FBTztJQUdqQyxZQUFtQixLQUFhLEVBQUUsSUFBVTtRQUMzQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLElBQUksRUFBRTtZQUNILElBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQ3hCO0lBQ0YsQ0FBQztDQUNEO0FBVkQsc0JBVUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHsgRGVidWdQcm90b2NvbCB9IGZyb20gJ3ZzY29kZS1kZWJ1Z3Byb3RvY29sJztcblxuXG5leHBvcnQgY2xhc3MgTWVzc2FnZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuUHJvdG9jb2xNZXNzYWdlIHtcblx0c2VxOiBudW1iZXI7XG5cdHR5cGU6IHN0cmluZztcblxuXHRwdWJsaWMgY29uc3RydWN0b3IodHlwZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5zZXEgPSAwO1xuXHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlc3BvbnNlIGV4dGVuZHMgTWVzc2FnZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuUmVzcG9uc2Uge1xuXHRyZXF1ZXN0X3NlcTogbnVtYmVyO1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRjb21tYW5kOiBzdHJpbmc7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlcXVlc3Q6IERlYnVnUHJvdG9jb2wuUmVxdWVzdCwgbWVzc2FnZT86IHN0cmluZykge1xuXHRcdHN1cGVyKCdyZXNwb25zZScpO1xuXHRcdHRoaXMucmVxdWVzdF9zZXEgPSByZXF1ZXN0LnNlcTtcblx0XHR0aGlzLmNvbW1hbmQgPSByZXF1ZXN0LmNvbW1hbmQ7XG5cdFx0aWYgKG1lc3NhZ2UpIHtcblx0XHRcdHRoaXMuc3VjY2VzcyA9IGZhbHNlO1xuXHRcdFx0KDxhbnk+dGhpcykubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc3VjY2VzcyA9IHRydWU7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBFdmVudCBleHRlbmRzIE1lc3NhZ2UgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLkV2ZW50IHtcblx0ZXZlbnQ6IHN0cmluZztcblxuXHRwdWJsaWMgY29uc3RydWN0b3IoZXZlbnQ6IHN0cmluZywgYm9keT86IGFueSkge1xuXHRcdHN1cGVyKCdldmVudCcpO1xuXHRcdHRoaXMuZXZlbnQgPSBldmVudDtcblx0XHRpZiAoYm9keSkge1xuXHRcdFx0KDxhbnk+dGhpcykuYm9keSA9IGJvZHk7XG5cdFx0fVxuXHR9XG59XG4iXX0=","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst mkdirp = require(\"mkdirp\");\nconst debugSession_1 = require(\"./debugSession\");\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Verbose\"] = 0] = \"Verbose\";\n    LogLevel[LogLevel[\"Log\"] = 1] = \"Log\";\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n    LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\n    LogLevel[LogLevel[\"Stop\"] = 4] = \"Stop\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\nclass Logger {\n    constructor() {\n        this._pendingLogQ = [];\n    }\n    log(msg, level = LogLevel.Log) {\n        msg = msg + '\\n';\n        this._write(msg, level);\n    }\n    verbose(msg) {\n        this.log(msg, LogLevel.Verbose);\n    }\n    warn(msg) {\n        this.log(msg, LogLevel.Warn);\n    }\n    error(msg) {\n        this.log(msg, LogLevel.Error);\n    }\n    dispose() {\n        if (this._currentLogger) {\n            const disposeP = this._currentLogger.dispose();\n            this._currentLogger = null;\n            return disposeP;\n        }\n        else {\n            return Promise.resolve();\n        }\n    }\n    /**\n     * `log` adds a newline, `write` doesn't\n     */\n    _write(msg, level = LogLevel.Log) {\n        // [null, undefined] => string\n        msg = msg + '';\n        if (this._pendingLogQ) {\n            this._pendingLogQ.push({ msg, level });\n        }\n        else if (this._currentLogger) {\n            this._currentLogger.log(msg, level);\n        }\n    }\n    /**\n     * Set the logger's minimum level to log in the console, and whether to log to the file. Log messages are queued before this is\n     * called the first time, because minLogLevel defaults to Warn.\n     */\n    setup(consoleMinLogLevel, _logFilePath, prependTimestamp = true) {\n        const logFilePath = typeof _logFilePath === 'string' ?\n            _logFilePath :\n            (_logFilePath && this._logFilePathFromInit);\n        if (this._currentLogger) {\n            const options = {\n                consoleMinLogLevel,\n                logFilePath,\n                prependTimestamp\n            };\n            this._currentLogger.setup(options).then(() => {\n                // Now that we have a minimum logLevel, we can clear out the queue of pending messages\n                if (this._pendingLogQ) {\n                    const logQ = this._pendingLogQ;\n                    this._pendingLogQ = null;\n                    logQ.forEach(item => this._write(item.msg, item.level));\n                }\n            });\n        }\n    }\n    init(logCallback, logFilePath, logToConsole) {\n        // Re-init, create new global Logger\n        this._pendingLogQ = this._pendingLogQ || [];\n        this._currentLogger = new InternalLogger(logCallback, logToConsole);\n        this._logFilePathFromInit = logFilePath;\n    }\n}\nexports.Logger = Logger;\nexports.logger = new Logger();\n/**\n * Manages logging, whether to console.log, file, or VS Code console.\n * Encapsulates the state specific to each logging session\n */\nclass InternalLogger {\n    constructor(logCallback, isServer) {\n        /** Dispose and allow exit to continue normally */\n        this.beforeExitCallback = () => this.dispose();\n        this._logCallback = logCallback;\n        this._logToConsole = isServer;\n        this._minLogLevel = LogLevel.Warn;\n        this.disposeCallback = (signal, code) => {\n            this.dispose();\n            // Exit with 128 + value of the signal code.\n            // https://nodejs.org/api/process.html#process_exit_codes\n            code = code || 2; // SIGINT\n            code += 128;\n            process.exit(code);\n        };\n    }\n    setup(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._minLogLevel = options.consoleMinLogLevel;\n            this._prependTimestamp = options.prependTimestamp;\n            // Open a log file in the specified location. Overwritten on each run.\n            if (options.logFilePath) {\n                if (!path.isAbsolute(options.logFilePath)) {\n                    this.log(`logFilePath must be an absolute path: ${options.logFilePath}`, LogLevel.Error);\n                }\n                else {\n                    const handleError = err => this.sendLog(`Error creating log file at path: ${options.logFilePath}. Error: ${err.toString()}\\n`, LogLevel.Error);\n                    try {\n                        yield mkdirpPromise(path.dirname(options.logFilePath));\n                        this.log(`Verbose logs are written to:\\n`, LogLevel.Warn);\n                        this.log(options.logFilePath + '\\n', LogLevel.Warn);\n                        this._logFileStream = fs.createWriteStream(options.logFilePath);\n                        this.logDateTime();\n                        this.setupShutdownListeners();\n                        this._logFileStream.on('error', err => {\n                            handleError(err);\n                        });\n                    }\n                    catch (err) {\n                        handleError(err);\n                    }\n                }\n            }\n        });\n    }\n    logDateTime() {\n        let d = new Date();\n        let dateString = d.getUTCFullYear() + '-' + `${d.getUTCMonth() + 1}` + '-' + d.getUTCDate();\n        const timeAndDateStamp = dateString + ', ' + getFormattedTimeString();\n        this.log(timeAndDateStamp + '\\n', LogLevel.Verbose, false);\n    }\n    setupShutdownListeners() {\n        process.addListener('beforeExit', this.beforeExitCallback);\n        process.addListener('SIGTERM', this.disposeCallback);\n        process.addListener('SIGINT', this.disposeCallback);\n    }\n    removeShutdownListeners() {\n        process.removeListener('beforeExit', this.beforeExitCallback);\n        process.removeListener('SIGTERM', this.disposeCallback);\n        process.removeListener('SIGINT', this.disposeCallback);\n    }\n    dispose() {\n        return new Promise(resolve => {\n            this.removeShutdownListeners();\n            if (this._logFileStream) {\n                this._logFileStream.end(resolve);\n                this._logFileStream = null;\n            }\n            else {\n                resolve();\n            }\n        });\n    }\n    log(msg, level, prependTimestamp = true) {\n        if (this._minLogLevel === LogLevel.Stop) {\n            return;\n        }\n        if (level >= this._minLogLevel) {\n            this.sendLog(msg, level);\n        }\n        if (this._logToConsole) {\n            const logFn = level === LogLevel.Error ? console.error :\n                level === LogLevel.Warn ? console.warn :\n                    null;\n            if (logFn) {\n                logFn(trimLastNewline(msg));\n            }\n        }\n        // If an error, prepend with '[Error]'\n        if (level === LogLevel.Error) {\n            msg = `[${LogLevel[level]}] ${msg}`;\n        }\n        if (this._prependTimestamp && prependTimestamp) {\n            msg = '[' + getFormattedTimeString() + '] ' + msg;\n        }\n        if (this._logFileStream) {\n            this._logFileStream.write(msg);\n        }\n    }\n    sendLog(msg, level) {\n        // Truncate long messages, they can hang VS Code\n        if (msg.length > 1500) {\n            const endsInNewline = !!msg.match(/(\\n|\\r\\n)$/);\n            msg = msg.substr(0, 1500) + '[...]';\n            if (endsInNewline) {\n                msg = msg + '\\n';\n            }\n        }\n        if (this._logCallback) {\n            const event = new LogOutputEvent(msg, level);\n            this._logCallback(event);\n        }\n    }\n}\nfunction mkdirpPromise(folder) {\n    return new Promise((resolve, reject) => {\n        mkdirp(folder, err => {\n            if (err) {\n                reject(err);\n            }\n            else {\n                resolve();\n            }\n        });\n    });\n}\nclass LogOutputEvent extends debugSession_1.OutputEvent {\n    constructor(msg, level) {\n        const category = level === LogLevel.Error ? 'stderr' :\n            level === LogLevel.Warn ? 'console' :\n                'stdout';\n        super(msg, category);\n    }\n}\nexports.LogOutputEvent = LogOutputEvent;\nfunction trimLastNewline(str) {\n    return str.replace(/(\\n|\\r\\n)$/, '');\n}\nexports.trimLastNewline = trimLastNewline;\nfunction getFormattedTimeString() {\n    let d = new Date();\n    let hourString = _padZeroes(2, String(d.getUTCHours()));\n    let minuteString = _padZeroes(2, String(d.getUTCMinutes()));\n    let secondString = _padZeroes(2, String(d.getUTCSeconds()));\n    let millisecondString = _padZeroes(3, String(d.getUTCMilliseconds()));\n    return hourString + ':' + minuteString + ':' + secondString + '.' + millisecondString + ' UTC';\n}\nfunction _padZeroes(minDesiredLength, numberToPad) {\n    if (numberToPad.length >= minDesiredLength) {\n        return numberToPad;\n    }\n    else {\n        return String('0'.repeat(minDesiredLength) + numberToPad).slice(-minDesiredLength);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2xvZ2dlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7OzREQUU0RDs7Ozs7Ozs7OztBQUU1RCx5QkFBeUI7QUFDekIsNkJBQTZCO0FBQzdCLGlDQUFpQztBQUNqQyxpREFBMkM7QUFFM0MsSUFBWSxRQU1YO0FBTkQsV0FBWSxRQUFRO0lBQ25CLDZDQUFXLENBQUE7SUFDWCxxQ0FBTyxDQUFBO0lBQ1AsdUNBQVEsQ0FBQTtJQUNSLHlDQUFTLENBQUE7SUFDVCx1Q0FBUSxDQUFBO0FBQ1QsQ0FBQyxFQU5XLFFBQVEsR0FBUixnQkFBUSxLQUFSLGdCQUFRLFFBTW5CO0FBZ0JELE1BQWEsTUFBTTtJQUFuQjtRQUlTLGlCQUFZLEdBQWUsRUFBRSxDQUFDO0lBMkV2QyxDQUFDO0lBekVBLEdBQUcsQ0FBQyxHQUFXLEVBQUUsS0FBSyxHQUFHLFFBQVEsQ0FBQyxHQUFHO1FBQ3BDLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxPQUFPLENBQUMsR0FBVztRQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELElBQUksQ0FBQyxHQUFXO1FBQ2YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCxLQUFLLENBQUMsR0FBVztRQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVELE9BQU87UUFDTixJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDeEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUMvQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztZQUMzQixPQUFPLFFBQVEsQ0FBQztTQUNoQjthQUFNO1lBQ04sT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDekI7SUFDRixDQUFDO0lBRUQ7O09BRUc7SUFDSyxNQUFNLENBQUMsR0FBVyxFQUFFLEtBQUssR0FBRyxRQUFRLENBQUMsR0FBRztRQUMvQyw4QkFBOEI7UUFDOUIsR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDdEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztTQUN2QzthQUFNLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUMvQixJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDcEM7SUFDRixDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsS0FBSyxDQUFDLGtCQUE0QixFQUFFLFlBQTZCLEVBQUUsbUJBQTRCLElBQUk7UUFDbEcsTUFBTSxXQUFXLEdBQUcsT0FBTyxZQUFZLEtBQUssUUFBUSxDQUFDLENBQUM7WUFDckQsWUFBWSxDQUFDLENBQUM7WUFDZCxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUU3QyxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDeEIsTUFBTSxPQUFPLEdBQUc7Z0JBQ2Ysa0JBQWtCO2dCQUNsQixXQUFXO2dCQUNYLGdCQUFnQjthQUNoQixDQUFDO1lBQ0YsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFDNUMsc0ZBQXNGO2dCQUN0RixJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7b0JBQ3RCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7b0JBQy9CLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO29CQUN6QixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2lCQUN4RDtZQUNGLENBQUMsQ0FBQyxDQUFDO1NBRUg7SUFDRixDQUFDO0lBRUQsSUFBSSxDQUFDLFdBQXlCLEVBQUUsV0FBb0IsRUFBRSxZQUFzQjtRQUMzRSxvQ0FBb0M7UUFDcEMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLEVBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksY0FBYyxDQUFDLFdBQVcsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsb0JBQW9CLEdBQUcsV0FBVyxDQUFDO0lBQ3pDLENBQUM7Q0FDRDtBQS9FRCx3QkErRUM7QUFFWSxRQUFBLE1BQU0sR0FBRyxJQUFJLE1BQU0sRUFBRSxDQUFDO0FBUW5DOzs7R0FHRztBQUNILE1BQU0sY0FBYztJQW1CbkIsWUFBWSxXQUF5QixFQUFFLFFBQWtCO1FBVHpELGtEQUFrRDtRQUMxQyx1QkFBa0IsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFTakQsSUFBSSxDQUFDLFlBQVksR0FBRyxXQUFXLENBQUM7UUFDaEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxRQUFRLENBQUM7UUFFOUIsSUFBSSxDQUFDLFlBQVksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO1FBRWxDLElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxNQUFjLEVBQUUsSUFBWSxFQUFFLEVBQUU7WUFDdkQsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBRWYsNENBQTRDO1lBQzVDLHlEQUF5RDtZQUN6RCxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVM7WUFDM0IsSUFBSSxJQUFJLEdBQUcsQ0FBQztZQUVaLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEIsQ0FBQyxDQUFDO0lBQ0gsQ0FBQztJQUVZLEtBQUssQ0FBQyxPQUErQjs7WUFDakQsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUM7WUFDL0MsSUFBSSxDQUFDLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztZQUVsRCxzRUFBc0U7WUFDdEUsSUFBSSxPQUFPLENBQUMsV0FBVyxFQUFFO2dCQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUU7b0JBQzFDLElBQUksQ0FBQyxHQUFHLENBQUMseUNBQXlDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ3pGO3FCQUFNO29CQUNOLE1BQU0sV0FBVyxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxvQ0FBb0MsT0FBTyxDQUFDLFdBQVcsWUFBWSxHQUFHLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBRS9JLElBQUk7d0JBQ0gsTUFBTSxhQUFhLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQzt3QkFDdkQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQ0FBZ0MsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQzFELElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUVwRCxJQUFJLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7d0JBQ2hFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQzt3QkFDbkIsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7d0JBQzlCLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsRUFBRTs0QkFDckMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUNsQixDQUFDLENBQUMsQ0FBQztxQkFDSDtvQkFBQyxPQUFPLEdBQUcsRUFBRTt3QkFDYixXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7cUJBQ2pCO2lCQUNEO2FBQ0Q7UUFDRixDQUFDO0tBQUE7SUFFTyxXQUFXO1FBQ2xCLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFDbkIsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDLGNBQWMsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQzVGLE1BQU0sZ0JBQWdCLEdBQUcsVUFBVSxHQUFHLElBQUksR0FBRyxzQkFBc0IsRUFBRSxDQUFDO1FBQ3RFLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxFQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVPLHNCQUFzQjtRQUM3QixPQUFPLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUMzRCxPQUFPLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDckQsT0FBTyxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFTyx1QkFBdUI7UUFDOUIsT0FBTyxDQUFDLGNBQWMsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDOUQsT0FBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3hELE9BQU8sQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRU0sT0FBTztRQUNiLE9BQU8sSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDNUIsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7WUFDL0IsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO2dCQUN4QixJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDakMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7YUFDM0I7aUJBQU07Z0JBQ04sT0FBTyxFQUFFLENBQUM7YUFDVjtRQUNGLENBQUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUVNLEdBQUcsQ0FBQyxHQUFXLEVBQUUsS0FBZSxFQUFFLGdCQUFnQixHQUFHLElBQUk7UUFDL0QsSUFBSSxJQUFJLENBQUMsWUFBWSxLQUFLLFFBQVEsQ0FBQyxJQUFJLEVBQUU7WUFDeEMsT0FBTztTQUNQO1FBRUQsSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRTtZQUMvQixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztTQUN6QjtRQUVELElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUN2QixNQUFNLEtBQUssR0FDVixLQUFLLEtBQUssUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUMxQyxLQUFLLEtBQUssUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUN4QyxJQUFJLENBQUM7WUFFTixJQUFJLEtBQUssRUFBRTtnQkFDVixLQUFLLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDNUI7U0FDRDtRQUVELHNDQUFzQztRQUN0QyxJQUFJLEtBQUssS0FBSyxRQUFRLENBQUMsS0FBSyxFQUFFO1lBQzdCLEdBQUcsR0FBRyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztTQUNwQztRQUVELElBQUksSUFBSSxDQUFDLGlCQUFpQixJQUFJLGdCQUFnQixFQUFFO1lBQy9DLEdBQUcsR0FBRyxHQUFHLEdBQUcsc0JBQXNCLEVBQUUsR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDO1NBQ2xEO1FBRUQsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQy9CO0lBQ0YsQ0FBQztJQUVPLE9BQU8sQ0FBQyxHQUFXLEVBQUUsS0FBZTtRQUMzQyxnREFBZ0Q7UUFDaEQsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksRUFBRTtZQUN0QixNQUFNLGFBQWEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNoRCxHQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO1lBQ3BDLElBQUksYUFBYSxFQUFFO2dCQUNsQixHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQzthQUNqQjtTQUNEO1FBRUQsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ3RCLE1BQU0sS0FBSyxHQUFHLElBQUksY0FBYyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM3QyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3pCO0lBQ0YsQ0FBQztDQUNEO0FBRUQsU0FBUyxhQUFhLENBQUMsTUFBYztJQUNwQyxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQ3RDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEVBQUU7WUFDcEIsSUFBSSxHQUFHLEVBQUU7Z0JBQ1IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ1o7aUJBQU07Z0JBQ04sT0FBTyxFQUFFLENBQUM7YUFDVjtRQUNGLENBQUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBYSxjQUFlLFNBQVEsMEJBQVc7SUFDOUMsWUFBWSxHQUFXLEVBQUUsS0FBZTtRQUN2QyxNQUFNLFFBQVEsR0FDYixLQUFLLEtBQUssUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDckMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUNyQyxRQUFRLENBQUM7UUFDVixLQUFLLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7Q0FDRDtBQVJELHdDQVFDO0FBRUQsU0FBZ0IsZUFBZSxDQUFDLEdBQVc7SUFDMUMsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUMsQ0FBQztBQUN0QyxDQUFDO0FBRkQsMENBRUM7QUFFRCxTQUFTLHNCQUFzQjtJQUM5QixJQUFJLENBQUMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0lBQ25CLElBQUksVUFBVSxHQUFHLFVBQVUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEQsSUFBSSxZQUFZLEdBQUcsVUFBVSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM1RCxJQUFJLFlBQVksR0FBRyxVQUFVLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzVELElBQUksaUJBQWlCLEdBQUcsVUFBVSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLE9BQU8sVUFBVSxHQUFHLEdBQUcsR0FBRyxZQUFZLEdBQUcsR0FBRyxHQUFHLFlBQVksR0FBRyxHQUFHLEdBQUcsaUJBQWlCLEdBQUcsTUFBTSxDQUFDO0FBQ2hHLENBQUM7QUFFRCxTQUFTLFVBQVUsQ0FBQyxnQkFBd0IsRUFBRSxXQUFtQjtJQUNoRSxJQUFJLFdBQVcsQ0FBQyxNQUFNLElBQUksZ0JBQWdCLEVBQUU7UUFDM0MsT0FBTyxXQUFXLENBQUM7S0FDbkI7U0FBTTtRQUNOLE9BQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0tBQ25GO0FBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKEMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0ICogYXMgbWtkaXJwIGZyb20gJ21rZGlycCc7XG5pbXBvcnQge091dHB1dEV2ZW50fSBmcm9tICcuL2RlYnVnU2Vzc2lvbic7XG5cbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcblx0VmVyYm9zZSA9IDAsXG5cdExvZyA9IDEsXG5cdFdhcm4gPSAyLFxuXHRFcnJvciA9IDMsXG5cdFN0b3AgPSA0XG59XG5cbmV4cG9ydCB0eXBlIElMb2dDYWxsYmFjayA9IChvdXRwdXRFdmVudDogT3V0cHV0RXZlbnQpID0+IHZvaWQ7XG5cbmludGVyZmFjZSBJTG9nSXRlbSB7XG5cdG1zZzogc3RyaW5nO1xuXHRsZXZlbDogTG9nTGV2ZWw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxvZ2dlciB7XG5cdGxvZyhtc2c6IHN0cmluZywgbGV2ZWw/OiBMb2dMZXZlbCk6IHZvaWQ7XG5cdHZlcmJvc2UobXNnOiBzdHJpbmcpOiB2b2lkO1xuXHR3YXJuKG1zZzogc3RyaW5nKTogdm9pZDtcblx0ZXJyb3IobXNnOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcblx0cHJpdmF0ZSBfbG9nRmlsZVBhdGhGcm9tSW5pdDogc3RyaW5nO1xuXG5cdHByaXZhdGUgX2N1cnJlbnRMb2dnZXI6IEludGVybmFsTG9nZ2VyO1xuXHRwcml2YXRlIF9wZW5kaW5nTG9nUTogSUxvZ0l0ZW1bXSA9IFtdO1xuXG5cdGxvZyhtc2c6IHN0cmluZywgbGV2ZWwgPSBMb2dMZXZlbC5Mb2cpOiB2b2lkIHtcblx0XHRtc2cgPSBtc2cgKyAnXFxuJztcblx0XHR0aGlzLl93cml0ZShtc2csIGxldmVsKTtcblx0fVxuXG5cdHZlcmJvc2UobXNnOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLmxvZyhtc2csIExvZ0xldmVsLlZlcmJvc2UpO1xuXHR9XG5cblx0d2Fybihtc2c6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMubG9nKG1zZywgTG9nTGV2ZWwuV2Fybik7XG5cdH1cblxuXHRlcnJvcihtc2c6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMubG9nKG1zZywgTG9nTGV2ZWwuRXJyb3IpO1xuXHR9XG5cblx0ZGlzcG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRpZiAodGhpcy5fY3VycmVudExvZ2dlcikge1xuXHRcdFx0Y29uc3QgZGlzcG9zZVAgPSB0aGlzLl9jdXJyZW50TG9nZ2VyLmRpc3Bvc2UoKTtcblx0XHRcdHRoaXMuX2N1cnJlbnRMb2dnZXIgPSBudWxsO1xuXHRcdFx0cmV0dXJuIGRpc3Bvc2VQO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIGBsb2dgIGFkZHMgYSBuZXdsaW5lLCBgd3JpdGVgIGRvZXNuJ3Rcblx0ICovXG5cdHByaXZhdGUgX3dyaXRlKG1zZzogc3RyaW5nLCBsZXZlbCA9IExvZ0xldmVsLkxvZyk6IHZvaWQge1xuXHRcdC8vIFtudWxsLCB1bmRlZmluZWRdID0+IHN0cmluZ1xuXHRcdG1zZyA9IG1zZyArICcnO1xuXHRcdGlmICh0aGlzLl9wZW5kaW5nTG9nUSkge1xuXHRcdFx0dGhpcy5fcGVuZGluZ0xvZ1EucHVzaCh7IG1zZywgbGV2ZWwgfSk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLl9jdXJyZW50TG9nZ2VyKSB7XG5cdFx0XHR0aGlzLl9jdXJyZW50TG9nZ2VyLmxvZyhtc2csIGxldmVsKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2V0IHRoZSBsb2dnZXIncyBtaW5pbXVtIGxldmVsIHRvIGxvZyBpbiB0aGUgY29uc29sZSwgYW5kIHdoZXRoZXIgdG8gbG9nIHRvIHRoZSBmaWxlLiBMb2cgbWVzc2FnZXMgYXJlIHF1ZXVlZCBiZWZvcmUgdGhpcyBpc1xuXHQgKiBjYWxsZWQgdGhlIGZpcnN0IHRpbWUsIGJlY2F1c2UgbWluTG9nTGV2ZWwgZGVmYXVsdHMgdG8gV2Fybi5cblx0ICovXG5cdHNldHVwKGNvbnNvbGVNaW5Mb2dMZXZlbDogTG9nTGV2ZWwsIF9sb2dGaWxlUGF0aD86IHN0cmluZ3xib29sZWFuLCBwcmVwZW5kVGltZXN0YW1wOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuXHRcdGNvbnN0IGxvZ0ZpbGVQYXRoID0gdHlwZW9mIF9sb2dGaWxlUGF0aCA9PT0gJ3N0cmluZycgP1xuXHRcdFx0X2xvZ0ZpbGVQYXRoIDpcblx0XHRcdChfbG9nRmlsZVBhdGggJiYgdGhpcy5fbG9nRmlsZVBhdGhGcm9tSW5pdCk7XG5cblx0XHRpZiAodGhpcy5fY3VycmVudExvZ2dlcikge1xuXHRcdFx0Y29uc3Qgb3B0aW9ucyA9IHtcblx0XHRcdFx0Y29uc29sZU1pbkxvZ0xldmVsLFxuXHRcdFx0XHRsb2dGaWxlUGF0aCxcblx0XHRcdFx0cHJlcGVuZFRpbWVzdGFtcFxuXHRcdFx0fTtcblx0XHRcdHRoaXMuX2N1cnJlbnRMb2dnZXIuc2V0dXAob3B0aW9ucykudGhlbigoKSA9PiB7XG5cdFx0XHRcdC8vIE5vdyB0aGF0IHdlIGhhdmUgYSBtaW5pbXVtIGxvZ0xldmVsLCB3ZSBjYW4gY2xlYXIgb3V0IHRoZSBxdWV1ZSBvZiBwZW5kaW5nIG1lc3NhZ2VzXG5cdFx0XHRcdGlmICh0aGlzLl9wZW5kaW5nTG9nUSkge1xuXHRcdFx0XHRcdGNvbnN0IGxvZ1EgPSB0aGlzLl9wZW5kaW5nTG9nUTtcblx0XHRcdFx0XHR0aGlzLl9wZW5kaW5nTG9nUSA9IG51bGw7XG5cdFx0XHRcdFx0bG9nUS5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fd3JpdGUoaXRlbS5tc2csIGl0ZW0ubGV2ZWwpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHR9XG5cdH1cblxuXHRpbml0KGxvZ0NhbGxiYWNrOiBJTG9nQ2FsbGJhY2ssIGxvZ0ZpbGVQYXRoPzogc3RyaW5nLCBsb2dUb0NvbnNvbGU/OiBib29sZWFuKTogdm9pZCB7XG5cdFx0Ly8gUmUtaW5pdCwgY3JlYXRlIG5ldyBnbG9iYWwgTG9nZ2VyXG5cdFx0dGhpcy5fcGVuZGluZ0xvZ1EgPSB0aGlzLl9wZW5kaW5nTG9nUSB8fCBbXTtcblx0XHR0aGlzLl9jdXJyZW50TG9nZ2VyID0gbmV3IEludGVybmFsTG9nZ2VyKGxvZ0NhbGxiYWNrLCBsb2dUb0NvbnNvbGUpO1xuXHRcdHRoaXMuX2xvZ0ZpbGVQYXRoRnJvbUluaXQgPSBsb2dGaWxlUGF0aDtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuXG5pbnRlcmZhY2UgSUludGVybmFsTG9nZ2VyT3B0aW9ucyB7XG5cdGNvbnNvbGVNaW5Mb2dMZXZlbDogTG9nTGV2ZWw7XG5cdGxvZ0ZpbGVQYXRoPzogc3RyaW5nO1xuXHRwcmVwZW5kVGltZXN0YW1wPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBNYW5hZ2VzIGxvZ2dpbmcsIHdoZXRoZXIgdG8gY29uc29sZS5sb2csIGZpbGUsIG9yIFZTIENvZGUgY29uc29sZS5cbiAqIEVuY2Fwc3VsYXRlcyB0aGUgc3RhdGUgc3BlY2lmaWMgdG8gZWFjaCBsb2dnaW5nIHNlc3Npb25cbiAqL1xuY2xhc3MgSW50ZXJuYWxMb2dnZXIge1xuXHRwcml2YXRlIF9taW5Mb2dMZXZlbDogTG9nTGV2ZWw7XG5cdHByaXZhdGUgX2xvZ1RvQ29uc29sZTogYm9vbGVhbjtcblxuXHQvKiogTG9nIGluZm8gdGhhdCBtZWV0cyBtaW5Mb2dMZXZlbCBpcyBzZW50IHRvIHRoaXMgY2FsbGJhY2suICovXG5cdHByaXZhdGUgX2xvZ0NhbGxiYWNrOiBJTG9nQ2FsbGJhY2s7XG5cblx0LyoqIFdyaXRlIHN0ZWFtIGZvciBsb2cgZmlsZSAqL1xuXHRwcml2YXRlIF9sb2dGaWxlU3RyZWFtOiBmcy5Xcml0ZVN0cmVhbTtcblxuXHQvKiogRGlzcG9zZSBhbmQgYWxsb3cgZXhpdCB0byBjb250aW51ZSBub3JtYWxseSAqL1xuXHRwcml2YXRlIGJlZm9yZUV4aXRDYWxsYmFjayA9ICgpID0+IHRoaXMuZGlzcG9zZSgpO1xuXG5cdC8qKiBEaXNwb3NlIGFuZCBleGl0ICovXG5cdHByaXZhdGUgZGlzcG9zZUNhbGxiYWNrO1xuXG5cdC8qKiBXaGV0aGVyIHRvIGFkZCBhIHRpbWVzdGFtcCB0byBtZXNzYWdlcyBpbiB0aGUgbG9nZmlsZSAqL1xuXHRwcml2YXRlIF9wcmVwZW5kVGltZXN0YW1wOiBib29sZWFuO1xuXG5cdGNvbnN0cnVjdG9yKGxvZ0NhbGxiYWNrOiBJTG9nQ2FsbGJhY2ssIGlzU2VydmVyPzogYm9vbGVhbikge1xuXHRcdHRoaXMuX2xvZ0NhbGxiYWNrID0gbG9nQ2FsbGJhY2s7XG5cdFx0dGhpcy5fbG9nVG9Db25zb2xlID0gaXNTZXJ2ZXI7XG5cblx0XHR0aGlzLl9taW5Mb2dMZXZlbCA9IExvZ0xldmVsLldhcm47XG5cblx0XHR0aGlzLmRpc3Bvc2VDYWxsYmFjayA9IChzaWduYWw6IHN0cmluZywgY29kZTogbnVtYmVyKSA9PiB7XG5cdFx0XHR0aGlzLmRpc3Bvc2UoKTtcblxuXHRcdFx0Ly8gRXhpdCB3aXRoIDEyOCArIHZhbHVlIG9mIHRoZSBzaWduYWwgY29kZS5cblx0XHRcdC8vIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NfZXhpdF9jb2Rlc1xuXHRcdFx0Y29kZSA9IGNvZGUgfHwgMjsgLy8gU0lHSU5UXG5cdFx0XHRjb2RlICs9IDEyODtcblxuXHRcdFx0cHJvY2Vzcy5leGl0KGNvZGUpO1xuXHRcdH07XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgc2V0dXAob3B0aW9uczogSUludGVybmFsTG9nZ2VyT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMuX21pbkxvZ0xldmVsID0gb3B0aW9ucy5jb25zb2xlTWluTG9nTGV2ZWw7XG5cdFx0dGhpcy5fcHJlcGVuZFRpbWVzdGFtcCA9IG9wdGlvbnMucHJlcGVuZFRpbWVzdGFtcDtcblxuXHRcdC8vIE9wZW4gYSBsb2cgZmlsZSBpbiB0aGUgc3BlY2lmaWVkIGxvY2F0aW9uLiBPdmVyd3JpdHRlbiBvbiBlYWNoIHJ1bi5cblx0XHRpZiAob3B0aW9ucy5sb2dGaWxlUGF0aCkge1xuXHRcdFx0aWYgKCFwYXRoLmlzQWJzb2x1dGUob3B0aW9ucy5sb2dGaWxlUGF0aCkpIHtcblx0XHRcdFx0dGhpcy5sb2coYGxvZ0ZpbGVQYXRoIG11c3QgYmUgYW4gYWJzb2x1dGUgcGF0aDogJHtvcHRpb25zLmxvZ0ZpbGVQYXRofWAsIExvZ0xldmVsLkVycm9yKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGhhbmRsZUVycm9yID0gZXJyID0+IHRoaXMuc2VuZExvZyhgRXJyb3IgY3JlYXRpbmcgbG9nIGZpbGUgYXQgcGF0aDogJHtvcHRpb25zLmxvZ0ZpbGVQYXRofS4gRXJyb3I6ICR7ZXJyLnRvU3RyaW5nKCl9XFxuYCwgTG9nTGV2ZWwuRXJyb3IpO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0YXdhaXQgbWtkaXJwUHJvbWlzZShwYXRoLmRpcm5hbWUob3B0aW9ucy5sb2dGaWxlUGF0aCkpO1xuXHRcdFx0XHRcdHRoaXMubG9nKGBWZXJib3NlIGxvZ3MgYXJlIHdyaXR0ZW4gdG86XFxuYCwgTG9nTGV2ZWwuV2Fybik7XG5cdFx0XHRcdFx0dGhpcy5sb2cob3B0aW9ucy5sb2dGaWxlUGF0aCArICdcXG4nLCBMb2dMZXZlbC5XYXJuKTtcblxuXHRcdFx0XHRcdHRoaXMuX2xvZ0ZpbGVTdHJlYW0gPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShvcHRpb25zLmxvZ0ZpbGVQYXRoKTtcblx0XHRcdFx0XHR0aGlzLmxvZ0RhdGVUaW1lKCk7XG5cdFx0XHRcdFx0dGhpcy5zZXR1cFNodXRkb3duTGlzdGVuZXJzKCk7XG5cdFx0XHRcdFx0dGhpcy5fbG9nRmlsZVN0cmVhbS5vbignZXJyb3InLCBlcnIgPT4ge1xuXHRcdFx0XHRcdFx0aGFuZGxlRXJyb3IoZXJyKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0aGFuZGxlRXJyb3IoZXJyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgbG9nRGF0ZVRpbWUoKTogdm9pZCB7XG5cdFx0bGV0IGQgPSBuZXcgRGF0ZSgpO1xuXHRcdGxldCBkYXRlU3RyaW5nID0gZC5nZXRVVENGdWxsWWVhcigpICsgJy0nICsgYCR7ZC5nZXRVVENNb250aCgpICsgMX1gICsgJy0nICsgZC5nZXRVVENEYXRlKCk7XG5cdFx0Y29uc3QgdGltZUFuZERhdGVTdGFtcCA9IGRhdGVTdHJpbmcgKyAnLCAnICsgZ2V0Rm9ybWF0dGVkVGltZVN0cmluZygpO1xuXHRcdHRoaXMubG9nKHRpbWVBbmREYXRlU3RhbXAgKyAnXFxuJywgTG9nTGV2ZWwuVmVyYm9zZSwgZmFsc2UpO1xuXHR9XG5cblx0cHJpdmF0ZSBzZXR1cFNodXRkb3duTGlzdGVuZXJzKCk6IHZvaWQge1xuXHRcdHByb2Nlc3MuYWRkTGlzdGVuZXIoJ2JlZm9yZUV4aXQnLCB0aGlzLmJlZm9yZUV4aXRDYWxsYmFjayk7XG5cdFx0cHJvY2Vzcy5hZGRMaXN0ZW5lcignU0lHVEVSTScsIHRoaXMuZGlzcG9zZUNhbGxiYWNrKTtcblx0XHRwcm9jZXNzLmFkZExpc3RlbmVyKCdTSUdJTlQnLCB0aGlzLmRpc3Bvc2VDYWxsYmFjayk7XG5cdH1cblxuXHRwcml2YXRlIHJlbW92ZVNodXRkb3duTGlzdGVuZXJzKCk6IHZvaWQge1xuXHRcdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIoJ2JlZm9yZUV4aXQnLCB0aGlzLmJlZm9yZUV4aXRDYWxsYmFjayk7XG5cdFx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcignU0lHVEVSTScsIHRoaXMuZGlzcG9zZUNhbGxiYWNrKTtcblx0XHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKCdTSUdJTlQnLCB0aGlzLmRpc3Bvc2VDYWxsYmFjayk7XG5cdH1cblxuXHRwdWJsaWMgZGlzcG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0XHR0aGlzLnJlbW92ZVNodXRkb3duTGlzdGVuZXJzKCk7XG5cdFx0XHRpZiAodGhpcy5fbG9nRmlsZVN0cmVhbSkge1xuXHRcdFx0XHR0aGlzLl9sb2dGaWxlU3RyZWFtLmVuZChyZXNvbHZlKTtcblx0XHRcdFx0dGhpcy5fbG9nRmlsZVN0cmVhbSA9IG51bGw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXNvbHZlKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgbG9nKG1zZzogc3RyaW5nLCBsZXZlbDogTG9nTGV2ZWwsIHByZXBlbmRUaW1lc3RhbXAgPSB0cnVlKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuX21pbkxvZ0xldmVsID09PSBMb2dMZXZlbC5TdG9wKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKGxldmVsID49IHRoaXMuX21pbkxvZ0xldmVsKSB7XG5cdFx0XHR0aGlzLnNlbmRMb2cobXNnLCBsZXZlbCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX2xvZ1RvQ29uc29sZSkge1xuXHRcdFx0Y29uc3QgbG9nRm4gPVxuXHRcdFx0XHRsZXZlbCA9PT0gTG9nTGV2ZWwuRXJyb3IgPyBjb25zb2xlLmVycm9yIDpcblx0XHRcdFx0bGV2ZWwgPT09IExvZ0xldmVsLldhcm4gPyBjb25zb2xlLndhcm4gOlxuXHRcdFx0XHRudWxsO1xuXG5cdFx0XHRpZiAobG9nRm4pIHtcblx0XHRcdFx0bG9nRm4odHJpbUxhc3ROZXdsaW5lKG1zZykpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIElmIGFuIGVycm9yLCBwcmVwZW5kIHdpdGggJ1tFcnJvcl0nXG5cdFx0aWYgKGxldmVsID09PSBMb2dMZXZlbC5FcnJvcikge1xuXHRcdFx0bXNnID0gYFske0xvZ0xldmVsW2xldmVsXX1dICR7bXNnfWA7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3ByZXBlbmRUaW1lc3RhbXAgJiYgcHJlcGVuZFRpbWVzdGFtcCkge1xuXHRcdFx0bXNnID0gJ1snICsgZ2V0Rm9ybWF0dGVkVGltZVN0cmluZygpICsgJ10gJyArIG1zZztcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fbG9nRmlsZVN0cmVhbSkge1xuXHRcdFx0dGhpcy5fbG9nRmlsZVN0cmVhbS53cml0ZShtc2cpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgc2VuZExvZyhtc2c6IHN0cmluZywgbGV2ZWw6IExvZ0xldmVsKTogdm9pZCB7XG5cdFx0Ly8gVHJ1bmNhdGUgbG9uZyBtZXNzYWdlcywgdGhleSBjYW4gaGFuZyBWUyBDb2RlXG5cdFx0aWYgKG1zZy5sZW5ndGggPiAxNTAwKSB7XG5cdFx0XHRjb25zdCBlbmRzSW5OZXdsaW5lID0gISFtc2cubWF0Y2goLyhcXG58XFxyXFxuKSQvKTtcblx0XHRcdG1zZyA9IG1zZy5zdWJzdHIoMCwgMTUwMCkgKyAnWy4uLl0nO1xuXHRcdFx0aWYgKGVuZHNJbk5ld2xpbmUpIHtcblx0XHRcdFx0bXNnID0gbXNnICsgJ1xcbic7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX2xvZ0NhbGxiYWNrKSB7XG5cdFx0XHRjb25zdCBldmVudCA9IG5ldyBMb2dPdXRwdXRFdmVudChtc2csIGxldmVsKTtcblx0XHRcdHRoaXMuX2xvZ0NhbGxiYWNrKGV2ZW50KTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbWtkaXJwUHJvbWlzZShmb2xkZXI6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdG1rZGlycChmb2xkZXIsIGVyciA9PiB7XG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuZXhwb3J0IGNsYXNzIExvZ091dHB1dEV2ZW50IGV4dGVuZHMgT3V0cHV0RXZlbnQge1xuXHRjb25zdHJ1Y3Rvcihtc2c6IHN0cmluZywgbGV2ZWw6IExvZ0xldmVsKSB7XG5cdFx0Y29uc3QgY2F0ZWdvcnkgPVxuXHRcdFx0bGV2ZWwgPT09IExvZ0xldmVsLkVycm9yID8gJ3N0ZGVycicgOlxuXHRcdFx0bGV2ZWwgPT09IExvZ0xldmVsLldhcm4gPyAnY29uc29sZScgOlxuXHRcdFx0J3N0ZG91dCc7XG5cdFx0c3VwZXIobXNnLCBjYXRlZ29yeSk7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyaW1MYXN0TmV3bGluZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG5cdHJldHVybiBzdHIucmVwbGFjZSgvKFxcbnxcXHJcXG4pJC8sICcnKTtcbn1cblxuZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkVGltZVN0cmluZygpOiBzdHJpbmcge1xuXHRsZXQgZCA9IG5ldyBEYXRlKCk7XG5cdGxldCBob3VyU3RyaW5nID0gX3BhZFplcm9lcygyLCBTdHJpbmcoZC5nZXRVVENIb3VycygpKSk7XG5cdGxldCBtaW51dGVTdHJpbmcgPSBfcGFkWmVyb2VzKDIsIFN0cmluZyhkLmdldFVUQ01pbnV0ZXMoKSkpO1xuXHRsZXQgc2Vjb25kU3RyaW5nID0gX3BhZFplcm9lcygyLCBTdHJpbmcoZC5nZXRVVENTZWNvbmRzKCkpKTtcblx0bGV0IG1pbGxpc2Vjb25kU3RyaW5nID0gX3BhZFplcm9lcygzLCBTdHJpbmcoZC5nZXRVVENNaWxsaXNlY29uZHMoKSkpO1xuXHRyZXR1cm4gaG91clN0cmluZyArICc6JyArIG1pbnV0ZVN0cmluZyArICc6JyArIHNlY29uZFN0cmluZyArICcuJyArIG1pbGxpc2Vjb25kU3RyaW5nICsgJyBVVEMnO1xufVxuXG5mdW5jdGlvbiBfcGFkWmVyb2VzKG1pbkRlc2lyZWRMZW5ndGg6IG51bWJlciwgbnVtYmVyVG9QYWQ6IHN0cmluZyk6IHN0cmluZyB7XG5cdGlmIChudW1iZXJUb1BhZC5sZW5ndGggPj0gbWluRGVzaXJlZExlbmd0aCkge1xuXHRcdHJldHVybiBudW1iZXJUb1BhZDtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gU3RyaW5nKCcwJy5yZXBlYXQobWluRGVzaXJlZExlbmd0aCkgKyBudW1iZXJUb1BhZCkuc2xpY2UoLW1pbkRlc2lyZWRMZW5ndGgpO1xuXHR9XG59XG4iXX0=","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n'use strict';\r\nimport { Uri } from 'vscode';\r\nimport { InterpreterUri } from '../installer/types';\r\nimport { IAsyncDisposable, IDisposable, Resource } from '../types';\r\n\r\n// tslint:disable-next-line:no-empty\r\nexport function noop() {}\r\n\r\nexport function using<T extends IDisposable>(disposable: T, func: (obj: T) => void) {\r\n    try {\r\n        func(disposable);\r\n    } finally {\r\n        disposable.dispose();\r\n    }\r\n}\r\n\r\nexport async function usingAsync<T extends IAsyncDisposable, R>(disposable: T, func: (obj: T) => Promise<R>): Promise<R> {\r\n    try {\r\n        return await func(disposable);\r\n    } finally {\r\n        await disposable.dispose();\r\n    }\r\n}\r\n\r\n/**\r\n * Checking whether something is a Resource (Uri/undefined).\r\n * Using `instanceof Uri` doesn't always work as the object is not an instance of Uri (at least not in tests).\r\n * That's why VSC too has a helper method `URI.isUri` (though not public).\r\n *\r\n * @export\r\n * @param {InterpreterUri} [resource]\r\n * @returns {resource is Resource}\r\n */\r\nexport function isResource(resource?: InterpreterUri): resource is Resource {\r\n    if (!resource) {\r\n        return true;\r\n    }\r\n    const uri = resource as Uri;\r\n    return typeof uri.path === 'string' && typeof uri.scheme === 'string';\r\n}\r\n\r\n/**\r\n * Checking whether something is a Uri.\r\n * Using `instanceof Uri` doesn't always work as the object is not an instance of Uri (at least not in tests).\r\n * That's why VSC too has a helper method `URI.isUri` (though not public).\r\n *\r\n * @export\r\n * @param {InterpreterUri} [resource]\r\n * @returns {resource is Uri}\r\n */\r\n// tslint:disable-next-line: no-any\r\nexport function isUri(resource?: Uri | any): resource is Uri {\r\n    if (!resource) {\r\n        return false;\r\n    }\r\n    const uri = resource as Uri;\r\n    return typeof uri.path === 'string' && typeof uri.scheme === 'string';\r\n}\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingOnSyntax = (function () {\n    function BindingOnSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingOnSyntax.prototype.onActivation = function (handler) {\n        this._binding.onActivation = handler;\n        return new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n    };\n    return BindingOnSyntax;\n}());\nexports.BindingOnSyntax = BindingOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\nvar BindingWhenSyntax = (function () {\n    function BindingWhenSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingWhenSyntax.prototype.when = function (constraint) {\n        this._binding.constraint = constraint;\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n        this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n        this._binding.constraint = function (request) {\n            var targetIsDefault = (request.target !== null) &&\n                (!request.target.isNamed()) &&\n                (!request.target.isTagged());\n            return targetIsDefault;\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n        this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    return BindingWhenSyntax;\n}());\nexports.BindingWhenSyntax = BindingWhenSyntax;\n","// tslint:disable:quotemark ordered-imports no-any no-empty\n\nimport { BaseDebugServer } from '../DebugServers/BaseDebugServer';\nimport { IDebugServer } from '../Common/Contracts';\nimport { DebugSession } from 'vscode-debugadapter';\nimport { EventEmitter } from 'events';\nimport { IServiceContainer } from '../../../ioc/types';\n\nexport enum DebugType {\n    Local,\n    Remote,\n    RunLocal\n}\nexport abstract class DebugClient<T> extends EventEmitter {\n    protected debugSession: DebugSession;\n    constructor(protected args: T, debugSession: DebugSession) {\n        super();\n        this.debugSession = debugSession;\n    }\n    public abstract CreateDebugServer(serviceContainer?: IServiceContainer): BaseDebugServer;\n    public get DebugType(): DebugType {\n        return DebugType.Local;\n    }\n\n    public Stop() {}\n\n    public LaunchApplicationToDebug(_dbgServer: IDebugServer): Promise<any> {\n        return Promise.resolve();\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { ChildProcess, ExecOptions, SpawnOptions as ChildProcessSpawnOptions } from 'child_process';\nimport { Observable } from 'rxjs/Observable';\nimport { CancellationToken, Uri } from 'vscode';\n\nimport { PythonInterpreter } from '../../interpreter/contracts';\nimport { Newable } from '../../ioc/types';\nimport { ExecutionInfo, IDisposable, Version } from '../types';\nimport { Architecture } from '../utils/platform';\nimport { EnvironmentVariables } from '../variables/types';\nimport { CondaExecutionService } from './condaExecutionService';\n\nexport const IBufferDecoder = Symbol('IBufferDecoder');\nexport interface IBufferDecoder {\n    decode(buffers: Buffer[], encoding: string): string;\n}\n\nexport type Output<T extends string | Buffer> = {\n    source: 'stdout' | 'stderr';\n    out: T;\n};\nexport type ObservableExecutionResult<T extends string | Buffer> = {\n    proc: ChildProcess | undefined;\n    out: Observable<Output<T>>;\n    dispose(): void;\n};\n\n// tslint:disable-next-line:interface-name\nexport type SpawnOptions = ChildProcessSpawnOptions & {\n    encoding?: string;\n    token?: CancellationToken;\n    mergeStdOutErr?: boolean;\n    throwOnStdErr?: boolean;\n    extraVariables?: NodeJS.ProcessEnv;\n};\n\n// tslint:disable-next-line:interface-name\nexport type ShellOptions = ExecOptions & { throwOnStdErr?: boolean };\n\nexport type ExecutionResult<T extends string | Buffer> = {\n    stdout: T;\n    stderr?: T;\n};\n\nexport const IProcessLogger = Symbol('IProcessLogger');\nexport interface IProcessLogger {\n    logProcess(file: string, ars: string[], options?: SpawnOptions): void;\n}\n\nexport interface IProcessService extends IDisposable {\n    execObservable(file: string, args: string[], options?: SpawnOptions): ObservableExecutionResult<string>;\n    exec(file: string, args: string[], options?: SpawnOptions): Promise<ExecutionResult<string>>;\n    shellExec(command: string, options?: ShellOptions): Promise<ExecutionResult<string>>;\n    on(event: 'exec', listener: (file: string, args: string[], options?: SpawnOptions) => void): this;\n}\n\nexport const IProcessServiceFactory = Symbol('IProcessServiceFactory');\n\nexport interface IProcessServiceFactory {\n    create(resource?: Uri): Promise<IProcessService>;\n}\n\nexport const IPythonExecutionFactory = Symbol('IPythonExecutionFactory');\nexport type ExecutionFactoryCreationOptions = {\n    resource?: Uri;\n    pythonPath?: string;\n};\nexport type DaemonExecutionFactoryCreationOptions = ExecutionFactoryCreationOptions & {\n    /**\n     * Python file that implements the daemon.\n     *\n     * @type {string}\n     */\n    daemonModule?: string;\n    /**\n     * Typescript Daemon class (client) that maps to the Python daemon.\n     * Defaults to `PythonDaemonExecutionService`.\n     * Any other class provided must extend `PythonDaemonExecutionService`.\n     *\n     * @type {Newable<IPythonDaemonExecutionService>}\n     */\n    daemonClass?: Newable<IPythonDaemonExecutionService>;\n    /**\n     * Number of daemons to be created for standard synchronous operations such as\n     * checking if a module is installed, running a module, running a python file, etc.\n     * Defaults to `2`.\n     *\n     */\n    daemonCount?: number;\n    /**\n     * Number of daemons to be created for operations such as execObservable, execModuleObservale.\n     * These operations are considered to be long running compared to checking if a module is installed.\n     * Hence a separate daemon will be created for this.\n     * Defaults to `1`.\n     *\n     */\n    observableDaemonCount?: number;\n};\nexport type ExecutionFactoryCreateWithEnvironmentOptions = {\n    resource?: Uri;\n    interpreter?: PythonInterpreter;\n    allowEnvironmentFetchExceptions?: boolean;\n    /**\n     * Ignore running `conda run` when running code.\n     * It is known to fail in certain scenarios. Where necessary we might want to bypass this.\n     *\n     * @type {boolean}\n     */\n    bypassCondaExecution?: boolean;\n};\nexport interface IPythonExecutionFactory {\n    create(options: ExecutionFactoryCreationOptions): Promise<IPythonExecutionService>;\n    /**\n     * Creates a daemon Python Process.\n     * On windows its cheapter to create a daemon and use that than spin up Python Processes everytime.\n     * If something cannot be executed within the daemin, it will resort to using the stanard IPythonExecutionService.\n     * Note: The returned execution service is always using an activated environment.\n     *\n     * @param {ExecutionFactoryCreationOptions} options\n     * @returns {(Promise<IPythonExecutionService & IDisposable>)}\n     * @memberof IPythonExecutionFactory\n     */\n    createDaemon(options: DaemonExecutionFactoryCreationOptions): Promise<IPythonExecutionService>;\n    createActivatedEnvironment(options: ExecutionFactoryCreateWithEnvironmentOptions): Promise<IPythonExecutionService>;\n    createCondaExecutionService(pythonPath: string, processService?: IProcessService, resource?: Uri): Promise<CondaExecutionService | undefined>;\n}\nexport type ReleaseLevel = 'alpha' | 'beta' | 'candidate' | 'final' | 'unknown';\nexport type PythonVersionInfo = [number, number, number, ReleaseLevel];\nexport type InterpreterInfomation = {\n    path: string;\n    version?: Version;\n    sysVersion: string;\n    architecture: Architecture;\n    sysPrefix: string;\n    pipEnvWorkspaceFolder?: string;\n};\nexport const IPythonExecutionService = Symbol('IPythonExecutionService');\n\nexport interface IPythonExecutionService {\n    getInterpreterInformation(): Promise<InterpreterInfomation | undefined>;\n    getExecutablePath(): Promise<string>;\n    isModuleInstalled(moduleName: string): Promise<boolean>;\n    getExecutionInfo(args: string[]): PythonExecutionInfo;\n\n    execObservable(args: string[], options: SpawnOptions): ObservableExecutionResult<string>;\n    execModuleObservable(moduleName: string, args: string[], options: SpawnOptions): ObservableExecutionResult<string>;\n\n    exec(args: string[], options: SpawnOptions): Promise<ExecutionResult<string>>;\n    execModule(moduleName: string, args: string[], options: SpawnOptions): Promise<ExecutionResult<string>>;\n}\n\nexport type PythonExecutionInfo = {\n    command: string;\n    args: string[];\n};\n/**\n * Identical to the PythonExecutionService, but with a `dispose` method.\n * This is a daemon process that lives on until it is disposed, hence the `IDisposable`.\n *\n * @export\n * @interface IPythonDaemonExecutionService\n * @extends {IPythonExecutionService}\n * @extends {IDisposable}\n */\nexport interface IPythonDaemonExecutionService extends IPythonExecutionService, IDisposable {}\n\nexport class StdErrError extends Error {\n    constructor(message: string) {\n        super(message);\n    }\n}\n\nexport interface IExecutionEnvironmentVariablesService {\n    getEnvironmentVariables(resource?: Uri): Promise<EnvironmentVariables | undefined>;\n}\n\nexport const IPythonToolExecutionService = Symbol('IPythonToolRunnerService');\n\nexport interface IPythonToolExecutionService {\n    execObservable(executionInfo: ExecutionInfo, options: SpawnOptions, resource: Uri): Promise<ObservableExecutionResult<string>>;\n    exec(executionInfo: ExecutionInfo, options: SpawnOptions, resource: Uri): Promise<ExecutionResult<string>>;\n}\n","\"use strict\";\n// CommonJS / Node have global context exposed as \"global\" variable.\n// We don't want to include the whole node.d.ts this this compilation unit so we'll just fake\n// the global \"global\" var for now.\nvar __window = typeof window !== 'undefined' && window;\nvar __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n    self instanceof WorkerGlobalScope && self;\nvar __global = typeof global !== 'undefined' && global;\nvar _root = __window || __global || __self;\nexports.root = _root;\n// Workaround Closure Compiler restriction: The body of a goog.module cannot use throw.\n// This is needed when used with angular/tsickle which inserts a goog.module statement.\n// Wrap in IIFE\n(function () {\n    if (!_root) {\n        throw new Error('RxJS could not find any global context (window, self, global)');\n    }\n})();\n//# sourceMappingURL=root.js.map","// This is adapted from https://github.com/normalize/mz\n// Copyright (c) 2014-2016 Jonathan Ong me@jongleberry.com and Contributors\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\n\nconst api = [\n  'access',\n  'appendFile',\n  'chmod',\n  'chown',\n  'close',\n  'copyFile',\n  'fchmod',\n  'fchown',\n  'fdatasync',\n  'fstat',\n  'fsync',\n  'ftruncate',\n  'futimes',\n  'lchown',\n  'link',\n  'lstat',\n  'mkdir',\n  'mkdtemp',\n  'open',\n  'readFile',\n  'readdir',\n  'readlink',\n  'realpath',\n  'rename',\n  'rmdir',\n  'stat',\n  'symlink',\n  'truncate',\n  'unlink',\n  'utimes',\n  'writeFile'\n].filter(key => {\n  // Some commands are not available on some systems. Ex:\n  // fs.copyFile was added in Node.js v8.5.0\n  // fs.mkdtemp was added in Node.js v5.10.0\n  // fs.lchown is not available on at least some Linux\n  return typeof fs[key] === 'function'\n})\n\n// Export all keys:\nObject.keys(fs).forEach(key => {\n  exports[key] = fs[key]\n})\n\n// Universalify async methods:\napi.forEach(method => {\n  exports[method] = u(fs[method])\n})\n\n// We differ from mz/fs in that we still ship the old, broken, fs.exists()\n// since we are a drop-in replacement for the native module\nexports.exists = function (filename, callback) {\n  if (typeof callback === 'function') {\n    return fs.exists(filename, callback)\n  }\n  return new Promise(resolve => {\n    return fs.exists(filename, resolve)\n  })\n}\n\n// fs.read() & fs.write need special treatment due to multiple callback args\n\nexports.read = function (fd, buffer, offset, length, position, callback) {\n  if (typeof callback === 'function') {\n    return fs.read(fd, buffer, offset, length, position, callback)\n  }\n  return new Promise((resolve, reject) => {\n    fs.read(fd, buffer, offset, length, position, (err, bytesRead, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesRead, buffer })\n    })\n  })\n}\n\n// Function signature can be\n// fs.write(fd, buffer[, offset[, length[, position]]], callback)\n// OR\n// fs.write(fd, string[, position[, encoding]], callback)\n// so we need to handle both cases\nexports.write = function (fd, buffer, a, b, c, callback) {\n  if (typeof arguments[arguments.length - 1] === 'function') {\n    return fs.write(fd, buffer, a, b, c, callback)\n  }\n\n  // Check for old, depricated fs.write(fd, string[, position[, encoding]], callback)\n  if (typeof buffer === 'string') {\n    return new Promise((resolve, reject) => {\n      fs.write(fd, buffer, a, b, (err, bytesWritten, buffer) => {\n        if (err) return reject(err)\n        resolve({ bytesWritten, buffer })\n      })\n    })\n  }\n\n  return new Promise((resolve, reject) => {\n    fs.write(fd, buffer, a, b, c, (err, bytesWritten, buffer) => {\n      if (err) return reject(err)\n      resolve({ bytesWritten, buffer })\n    })\n  })\n}\n","module.exports = require(\"assert\");","// imported from ncp (this is temporary, will rewrite)\n\nvar fs = require('graceful-fs')\nvar path = require('path')\nvar utimes = require('../util/utimes')\n\nfunction ncp (source, dest, options, callback) {\n  if (!callback) {\n    callback = options\n    options = {}\n  }\n\n  var basePath = process.cwd()\n  var currentPath = path.resolve(basePath, source)\n  var targetPath = path.resolve(basePath, dest)\n\n  var filter = options.filter\n  var transform = options.transform\n  var overwrite = options.overwrite\n  // If overwrite is undefined, use clobber, otherwise default to true:\n  if (overwrite === undefined) overwrite = options.clobber\n  if (overwrite === undefined) overwrite = true\n  var errorOnExist = options.errorOnExist\n  var dereference = options.dereference\n  var preserveTimestamps = options.preserveTimestamps === true\n\n  var started = 0\n  var finished = 0\n  var running = 0\n\n  var errored = false\n\n  startCopy(currentPath)\n\n  function startCopy (source) {\n    started++\n    if (filter) {\n      if (filter instanceof RegExp) {\n        console.warn('Warning: fs-extra: Passing a RegExp filter is deprecated, use a function')\n        if (!filter.test(source)) {\n          return doneOne(true)\n        }\n      } else if (typeof filter === 'function') {\n        if (!filter(source, dest)) {\n          return doneOne(true)\n        }\n      }\n    }\n    return getStats(source)\n  }\n\n  function getStats (source) {\n    var stat = dereference ? fs.stat : fs.lstat\n    running++\n    stat(source, function (err, stats) {\n      if (err) return onError(err)\n\n      // We need to get the mode from the stats object and preserve it.\n      var item = {\n        name: source,\n        mode: stats.mode,\n        mtime: stats.mtime, // modified time\n        atime: stats.atime, // access time\n        stats: stats // temporary\n      }\n\n      if (stats.isDirectory()) {\n        return onDir(item)\n      } else if (stats.isFile() || stats.isCharacterDevice() || stats.isBlockDevice()) {\n        return onFile(item)\n      } else if (stats.isSymbolicLink()) {\n        // Symlinks don't really need to know about the mode.\n        return onLink(source)\n      }\n    })\n  }\n\n  function onFile (file) {\n    var target = file.name.replace(currentPath, targetPath.replace('$', '$$$$')) // escapes '$' with '$$'\n    isWritable(target, function (writable) {\n      if (writable) {\n        copyFile(file, target)\n      } else {\n        if (overwrite) {\n          rmFile(target, function () {\n            copyFile(file, target)\n          })\n        } else if (errorOnExist) {\n          onError(new Error(target + ' already exists'))\n        } else {\n          doneOne()\n        }\n      }\n    })\n  }\n\n  function copyFile (file, target) {\n    var readStream = fs.createReadStream(file.name)\n    var writeStream = fs.createWriteStream(target, { mode: file.mode })\n\n    readStream.on('error', onError)\n    writeStream.on('error', onError)\n\n    if (transform) {\n      transform(readStream, writeStream, file)\n    } else {\n      writeStream.on('open', function () {\n        readStream.pipe(writeStream)\n      })\n    }\n\n    writeStream.once('close', function () {\n      fs.chmod(target, file.mode, function (err) {\n        if (err) return onError(err)\n        if (preserveTimestamps) {\n          utimes.utimesMillis(target, file.atime, file.mtime, function (err) {\n            if (err) return onError(err)\n            return doneOne()\n          })\n        } else {\n          doneOne()\n        }\n      })\n    })\n  }\n\n  function rmFile (file, done) {\n    fs.unlink(file, function (err) {\n      if (err) return onError(err)\n      return done()\n    })\n  }\n\n  function onDir (dir) {\n    var target = dir.name.replace(currentPath, targetPath.replace('$', '$$$$')) // escapes '$' with '$$'\n    isWritable(target, function (writable) {\n      if (writable) {\n        return mkDir(dir, target)\n      }\n      copyDir(dir.name)\n    })\n  }\n\n  function mkDir (dir, target) {\n    fs.mkdir(target, dir.mode, function (err) {\n      if (err) return onError(err)\n      // despite setting mode in fs.mkdir, doesn't seem to work\n      // so we set it here.\n      fs.chmod(target, dir.mode, function (err) {\n        if (err) return onError(err)\n        copyDir(dir.name)\n      })\n    })\n  }\n\n  function copyDir (dir) {\n    fs.readdir(dir, function (err, items) {\n      if (err) return onError(err)\n      items.forEach(function (item) {\n        startCopy(path.join(dir, item))\n      })\n      return doneOne()\n    })\n  }\n\n  function onLink (link) {\n    var target = link.replace(currentPath, targetPath)\n    fs.readlink(link, function (err, resolvedPath) {\n      if (err) return onError(err)\n      checkLink(resolvedPath, target)\n    })\n  }\n\n  function checkLink (resolvedPath, target) {\n    if (dereference) {\n      resolvedPath = path.resolve(basePath, resolvedPath)\n    }\n    isWritable(target, function (writable) {\n      if (writable) {\n        return makeLink(resolvedPath, target)\n      }\n      fs.readlink(target, function (err, targetDest) {\n        if (err) return onError(err)\n\n        if (dereference) {\n          targetDest = path.resolve(basePath, targetDest)\n        }\n        if (targetDest === resolvedPath) {\n          return doneOne()\n        }\n        return rmFile(target, function () {\n          makeLink(resolvedPath, target)\n        })\n      })\n    })\n  }\n\n  function makeLink (linkPath, target) {\n    fs.symlink(linkPath, target, function (err) {\n      if (err) return onError(err)\n      return doneOne()\n    })\n  }\n\n  function isWritable (path, done) {\n    fs.lstat(path, function (err) {\n      if (err) {\n        if (err.code === 'ENOENT') return done(true)\n        return done(false)\n      }\n      return done(false)\n    })\n  }\n\n  function onError (err) {\n    // ensure callback is defined & called only once:\n    if (!errored && callback !== undefined) {\n      errored = true\n      return callback(err)\n    }\n  }\n\n  function doneOne (skipped) {\n    if (!skipped) running--\n    finished++\n    if ((started === finished) && (running === 0)) {\n      if (callback !== undefined) {\n        return callback(null)\n      }\n    }\n  }\n}\n\nmodule.exports = ncp\n","module.exports = require(\"os\");","'use strict'\n\nconst path = require('path')\n\n// get drive on windows\nfunction getRootPath (p) {\n  p = path.normalize(path.resolve(p)).split(path.sep)\n  if (p.length > 0) return p[0]\n  return null\n}\n\n// http://stackoverflow.com/a/62888/10333 contains more accurate\n// TODO: expand to include the rest\nconst INVALID_PATH_CHARS = /[<>:\"|?*]/\n\nfunction invalidWin32Path (p) {\n  const rp = getRootPath(p)\n  p = p.replace(rp, '')\n  return INVALID_PATH_CHARS.test(p)\n}\n\nmodule.exports = {\n  getRootPath,\n  invalidWin32Path\n}\n","module.exports = {\n  copySync: require('./copy-sync')\n}\n","/* eslint-disable node/no-deprecated-api */\nmodule.exports = function (size) {\n  if (typeof Buffer.allocUnsafe === 'function') {\n    try {\n      return Buffer.allocUnsafe(size)\n    } catch (e) {\n      return new Buffer(size)\n    }\n  }\n  return new Buffer(size)\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debugSession_1 = require(\"./debugSession\");\nexports.DebugSession = debugSession_1.DebugSession;\nexports.InitializedEvent = debugSession_1.InitializedEvent;\nexports.TerminatedEvent = debugSession_1.TerminatedEvent;\nexports.StoppedEvent = debugSession_1.StoppedEvent;\nexports.ContinuedEvent = debugSession_1.ContinuedEvent;\nexports.OutputEvent = debugSession_1.OutputEvent;\nexports.ThreadEvent = debugSession_1.ThreadEvent;\nexports.BreakpointEvent = debugSession_1.BreakpointEvent;\nexports.ModuleEvent = debugSession_1.ModuleEvent;\nexports.LoadedSourceEvent = debugSession_1.LoadedSourceEvent;\nexports.CapabilitiesEvent = debugSession_1.CapabilitiesEvent;\nexports.Thread = debugSession_1.Thread;\nexports.StackFrame = debugSession_1.StackFrame;\nexports.Scope = debugSession_1.Scope;\nexports.Variable = debugSession_1.Variable;\nexports.Breakpoint = debugSession_1.Breakpoint;\nexports.Source = debugSession_1.Source;\nexports.Module = debugSession_1.Module;\nexports.CompletionItem = debugSession_1.CompletionItem;\nexports.ErrorDestination = debugSession_1.ErrorDestination;\nconst loggingDebugSession_1 = require(\"./loggingDebugSession\");\nexports.LoggingDebugSession = loggingDebugSession_1.LoggingDebugSession;\nconst Logger = require(\"./logger\");\nexports.Logger = Logger;\nconst messages_1 = require(\"./messages\");\nexports.Event = messages_1.Event;\nexports.Response = messages_1.Response;\nconst handles_1 = require(\"./handles\");\nexports.Handles = handles_1.Handles;\nconst logger = Logger.logger;\nexports.logger = logger;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Z0dBR2dHO0FBQ2hHLFlBQVksQ0FBQzs7QUFFYixpREFNd0I7QUFTdkIsdUJBZEEsMkJBQVksQ0FjQTtBQUlaLDJCQWpCQSwrQkFBZ0IsQ0FpQkE7QUFBRSwwQkFqQkEsOEJBQWUsQ0FpQkE7QUFBRSx1QkFqQkEsMkJBQVksQ0FpQkE7QUFBRSx5QkFqQkEsNkJBQWMsQ0FpQkE7QUFBRSxzQkFqQkEsMEJBQVcsQ0FpQkE7QUFBRSxzQkFqQkEsMEJBQVcsQ0FpQkE7QUFBRSwwQkFqQkEsOEJBQWUsQ0FpQkE7QUFBRSxzQkFqQkEsMEJBQVcsQ0FpQkE7QUFBRSw0QkFqQkEsZ0NBQWlCLENBaUJBO0FBQUUsNEJBakJBLGdDQUFpQixDQWlCQTtBQUM3SixpQkFqQkEscUJBQU0sQ0FpQkE7QUFBRSxxQkFqQkEseUJBQVUsQ0FpQkE7QUFBRSxnQkFqQkEsb0JBQUssQ0FpQkE7QUFBRSxtQkFqQkEsdUJBQVEsQ0FpQkE7QUFDbkMscUJBakJBLHlCQUFVLENBaUJBO0FBQUUsaUJBakJBLHFCQUFNLENBaUJBO0FBQUUsaUJBakJBLHFCQUFNLENBaUJBO0FBQUUseUJBakJBLDZCQUFjLENBaUJBO0FBQzFDLDJCQWpCQSwrQkFBZ0IsQ0FpQkE7QUFmakIsK0RBQTBEO0FBU3pELDhCQVRPLHlDQUFtQixDQVNQO0FBUnBCLG1DQUFtQztBQVNsQyx3QkFBTTtBQVJQLHlDQUE2QztBQWM1QyxnQkFkUSxnQkFBSyxDQWNSO0FBQUUsbUJBZFEsbUJBQVEsQ0FjUjtBQWJoQix1Q0FBb0M7QUFjbkMsa0JBZFEsaUJBQU8sQ0FjUjtBQVpSLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFNNUIsd0JBQU0iLCJzb3VyY2VzQ29udGVudCI6WyIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7XG5cdERlYnVnU2Vzc2lvbixcblx0SW5pdGlhbGl6ZWRFdmVudCwgVGVybWluYXRlZEV2ZW50LCBTdG9wcGVkRXZlbnQsIENvbnRpbnVlZEV2ZW50LCBPdXRwdXRFdmVudCwgVGhyZWFkRXZlbnQsIEJyZWFrcG9pbnRFdmVudCwgTW9kdWxlRXZlbnQsIExvYWRlZFNvdXJjZUV2ZW50LCBDYXBhYmlsaXRpZXNFdmVudCxcblx0VGhyZWFkLCBTdGFja0ZyYW1lLCBTY29wZSwgVmFyaWFibGUsXG5cdEJyZWFrcG9pbnQsIFNvdXJjZSwgTW9kdWxlLCBDb21wbGV0aW9uSXRlbSxcblx0RXJyb3JEZXN0aW5hdGlvblxufSBmcm9tICcuL2RlYnVnU2Vzc2lvbic7XG5pbXBvcnQge0xvZ2dpbmdEZWJ1Z1Nlc3Npb259IGZyb20gJy4vbG9nZ2luZ0RlYnVnU2Vzc2lvbic7XG5pbXBvcnQgKiBhcyBMb2dnZXIgZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgRXZlbnQsIFJlc3BvbnNlIH0gZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBIYW5kbGVzIH0gZnJvbSAnLi9oYW5kbGVzJztcblxuY29uc3QgbG9nZ2VyID0gTG9nZ2VyLmxvZ2dlcjtcblxuZXhwb3J0IHtcblx0RGVidWdTZXNzaW9uLFxuXHRMb2dnaW5nRGVidWdTZXNzaW9uLFxuXHRMb2dnZXIsXG5cdGxvZ2dlcixcblx0SW5pdGlhbGl6ZWRFdmVudCwgVGVybWluYXRlZEV2ZW50LCBTdG9wcGVkRXZlbnQsIENvbnRpbnVlZEV2ZW50LCBPdXRwdXRFdmVudCwgVGhyZWFkRXZlbnQsIEJyZWFrcG9pbnRFdmVudCwgTW9kdWxlRXZlbnQsIExvYWRlZFNvdXJjZUV2ZW50LCBDYXBhYmlsaXRpZXNFdmVudCxcblx0VGhyZWFkLCBTdGFja0ZyYW1lLCBTY29wZSwgVmFyaWFibGUsXG5cdEJyZWFrcG9pbnQsIFNvdXJjZSwgTW9kdWxlLCBDb21wbGV0aW9uSXRlbSxcblx0RXJyb3JEZXN0aW5hdGlvbixcblx0RXZlbnQsIFJlc3BvbnNlLFxuXHRIYW5kbGVzXG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar MetadataReader = (function () {\n    function MetadataReader() {\n    }\n    MetadataReader.prototype.getConstructorMetadata = function (constructorFunc) {\n        var compilerGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.PARAM_TYPES, constructorFunc);\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED, constructorFunc);\n        return {\n            compilerGeneratedMetadata: compilerGeneratedMetadata,\n            userGeneratedMetadata: userGeneratedMetadata || {}\n        };\n    };\n    MetadataReader.prototype.getPropertiesMetadata = function (constructorFunc) {\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED_PROP, constructorFunc) || [];\n        return userGeneratedMetadata;\n    };\n    return MetadataReader;\n}());\nexports.MetadataReader = MetadataReader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction isStackOverflowExeption(error) {\n    return (error instanceof RangeError ||\n        error.message === ERROR_MSGS.STACK_OVERFLOW);\n}\nexports.isStackOverflowExeption = isStackOverflowExeption;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nvar LazyServiceIdentifer = (function () {\n    function LazyServiceIdentifer(cb) {\n        this._cb = cb;\n    }\n    LazyServiceIdentifer.prototype.unwrap = function () {\n        return this._cb();\n    };\n    return LazyServiceIdentifer;\n}());\nexports.LazyServiceIdentifer = LazyServiceIdentifer;\nfunction inject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        if (serviceIdentifier === undefined) {\n            throw new Error(error_msgs_1.UNDEFINED_INJECT_ANNOTATION(target.name));\n        }\n        var metadata = new metadata_1.Metadata(METADATA_KEY.INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.inject = inject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar guid_1 = require(\"../utils/guid\");\nvar metadata_1 = require(\"./metadata\");\nvar queryable_string_1 = require(\"./queryable_string\");\nvar Target = (function () {\n    function Target(type, name, serviceIdentifier, namedOrTagged) {\n        this.guid = guid_1.guid();\n        this.type = type;\n        this.serviceIdentifier = serviceIdentifier;\n        this.name = new queryable_string_1.QueryableString(name || \"\");\n        this.metadata = new Array();\n        var metadataItem = null;\n        if (typeof namedOrTagged === \"string\") {\n            metadataItem = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, namedOrTagged);\n        }\n        else if (namedOrTagged instanceof metadata_1.Metadata) {\n            metadataItem = namedOrTagged;\n        }\n        if (metadataItem !== null) {\n            this.metadata.push(metadataItem);\n        }\n    }\n    Target.prototype.hasTag = function (key) {\n        for (var _i = 0, _a = this.metadata; _i < _a.length; _i++) {\n            var m = _a[_i];\n            if (m.key === key) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Target.prototype.isArray = function () {\n        return this.hasTag(METADATA_KEY.MULTI_INJECT_TAG);\n    };\n    Target.prototype.matchesArray = function (name) {\n        return this.matchesTag(METADATA_KEY.MULTI_INJECT_TAG)(name);\n    };\n    Target.prototype.isNamed = function () {\n        return this.hasTag(METADATA_KEY.NAMED_TAG);\n    };\n    Target.prototype.isTagged = function () {\n        return this.metadata.some(function (m) {\n            return (m.key !== METADATA_KEY.INJECT_TAG) &&\n                (m.key !== METADATA_KEY.MULTI_INJECT_TAG) &&\n                (m.key !== METADATA_KEY.NAME_TAG) &&\n                (m.key !== METADATA_KEY.UNMANAGED_TAG) &&\n                (m.key !== METADATA_KEY.NAMED_TAG);\n        });\n    };\n    Target.prototype.isOptional = function () {\n        return this.matchesTag(METADATA_KEY.OPTIONAL_TAG)(true);\n    };\n    Target.prototype.getNamedTag = function () {\n        if (this.isNamed()) {\n            return this.metadata.filter(function (m) { return m.key === METADATA_KEY.NAMED_TAG; })[0];\n        }\n        return null;\n    };\n    Target.prototype.getCustomTags = function () {\n        if (this.isTagged()) {\n            return this.metadata.filter(function (m) {\n                return (m.key !== METADATA_KEY.INJECT_TAG) &&\n                    (m.key !== METADATA_KEY.MULTI_INJECT_TAG) &&\n                    (m.key !== METADATA_KEY.NAME_TAG) &&\n                    (m.key !== METADATA_KEY.UNMANAGED_TAG) &&\n                    (m.key !== METADATA_KEY.NAMED_TAG);\n            });\n        }\n        return null;\n    };\n    Target.prototype.matchesNamedTag = function (name) {\n        return this.matchesTag(METADATA_KEY.NAMED_TAG)(name);\n    };\n    Target.prototype.matchesTag = function (key) {\n        var _this = this;\n        return function (value) {\n            for (var _i = 0, _a = _this.metadata; _i < _a.length; _i++) {\n                var m = _a[_i];\n                if (m.key === key && m.value === value) {\n                    return true;\n                }\n            }\n            return false;\n        };\n    };\n    return Target;\n}());\nexports.Target = Target;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingWhenOnSyntax = (function () {\n    function BindingWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    }\n    BindingWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingWhenOnSyntax;\n}());\nexports.BindingWhenOnSyntax = BindingWhenOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar traverseAncerstors = function (request, constraint) {\n    var parent = request.parentRequest;\n    if (parent !== null) {\n        return constraint(parent) ? true : traverseAncerstors(parent, constraint);\n    }\n    else {\n        return false;\n    }\n};\nexports.traverseAncerstors = traverseAncerstors;\nvar taggedConstraint = function (key) { return function (value) {\n    var constraint = function (request) {\n        return request !== null && request.target !== null && request.target.matchesTag(key)(value);\n    };\n    constraint.metaData = new metadata_1.Metadata(key, value);\n    return constraint;\n}; };\nexports.taggedConstraint = taggedConstraint;\nvar namedConstraint = taggedConstraint(METADATA_KEY.NAMED_TAG);\nexports.namedConstraint = namedConstraint;\nvar typeConstraint = function (type) { return function (request) {\n    var binding = null;\n    if (request !== null) {\n        binding = request.bindings[0];\n        if (typeof type === \"string\") {\n            var serviceIdentifier = binding.serviceIdentifier;\n            return serviceIdentifier === type;\n        }\n        else {\n            var constructor = request.bindings[0].implementationType;\n            return type === constructor;\n        }\n    }\n    return false;\n}; };\nexports.typeConstraint = typeConstraint;\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\nimport { DebugSession } from 'vscode-debugadapter';\nimport { LaunchRequestArguments } from '../../types';\nimport { ILocalDebugLauncherScriptProvider } from '../types';\nimport { LocalDebugClient } from './LocalDebugClient';\n\nexport class LocalDebugClientV2 extends LocalDebugClient {\n    constructor(args: LaunchRequestArguments, debugSession: DebugSession, canLaunchTerminal: boolean, launcherScriptProvider: ILocalDebugLauncherScriptProvider) {\n        super(args, debugSession, canLaunchTerminal, launcherScriptProvider);\n    }\n    protected buildDebugArguments(_cwd: string, debugPort: number): string[] {\n        return this.launcherScriptProvider.getLauncherArgs({ host: 'localhost', port: debugPort, customDebugger: this.args.customDebugger });\n    }\n    protected buildStandardArguments() {\n        const programArgs = Array.isArray(this.args.args) && this.args.args.length > 0 ? this.args.args : [];\n        if (typeof this.args.module === 'string' && this.args.module.length > 0) {\n            return ['-m', this.args.module, ...programArgs];\n        }\n        if (this.args.program && this.args.program.length > 0) {\n            return [this.args.program, ...programArgs];\n        }\n        return programArgs;\n    }\n}\n","// tslint:disable:quotemark ordered-imports no-any no-empty\n'use strict';\n\nimport { DebugSession } from 'vscode-debugadapter';\nimport { IDebugServer } from '../Common/Contracts';\nimport { EventEmitter } from 'events';\nimport { Socket } from 'net';\nimport { Deferred, createDeferred } from '../../../common/utils/async';\n\nexport abstract class BaseDebugServer extends EventEmitter {\n    protected clientSocket: Deferred<Socket>;\n    public get client(): Promise<Socket> {\n        return this.clientSocket.promise;\n    }\n    protected debugSession: DebugSession;\n\n    protected isRunning: boolean = false;\n    public get IsRunning(): boolean {\n        if (this.isRunning === undefined) {\n            return false;\n        }\n        return this.isRunning;\n    }\n    protected debugClientConnected: Deferred<boolean>;\n    public get DebugClientConnected(): Promise<boolean> {\n        return this.debugClientConnected.promise;\n    }\n    constructor(debugSession: DebugSession) {\n        super();\n        this.debugSession = debugSession;\n        this.debugClientConnected = createDeferred<boolean>();\n        this.clientSocket = createDeferred<Socket>();\n    }\n\n    public abstract Start(): Promise<IDebugServer>;\n    public abstract Stop(): void;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nexport const DEFAULT_ENCODING = 'utf8';\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { interfaces } from 'inversify';\n\n//tslint:disable:callable-types\n// tslint:disable-next-line:interface-name\nexport interface Newable<T> {\n    // tslint:disable-next-line:no-any\n    new (...args: any[]): T;\n}\n//tslint:enable:callable-types\n\n// tslint:disable-next-line:interface-name\nexport interface Abstract<T> {\n    prototype: T;\n}\n\n//tslint:disable:callable-types\nexport type ClassType<T> = {\n    // tslint:disable-next-line:no-any\n    new (...args: any[]): T;\n};\n//tslint:enable:callable-types\n\nexport const IServiceManager = Symbol('IServiceManager');\n\nexport interface IServiceManager {\n    add<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, constructor: ClassType<T>, name?: string | number | symbol): void;\n    addSingleton<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, constructor: ClassType<T>, name?: string | number | symbol): void;\n    addSingletonInstance<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, instance: T, name?: string | number | symbol): void;\n    addFactory<T>(factoryIdentifier: interfaces.ServiceIdentifier<interfaces.Factory<T>>, factoryMethod: interfaces.FactoryCreator<T>): void;\n    addBinding<T1, T2>(from: interfaces.ServiceIdentifier<T1>, to: interfaces.ServiceIdentifier<T2>): void;\n    get<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, name?: string | number | symbol): T;\n    getAll<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, name?: string | number | symbol): T[];\n    rebind<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, constructor: ClassType<T>, name?: string | number | symbol): void;\n    rebindInstance<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, instance: T, name?: string | number | symbol): void;\n}\n\nexport const IServiceContainer = Symbol('IServiceContainer');\nexport interface IServiceContainer {\n    get<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, name?: string | number | symbol): T;\n    getAll<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, name?: string | number | symbol): T[];\n}\n","\"use strict\";\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map","\"use strict\";\n// typeof any so that it we don't have to cast when comparing a result to the error object\nexports.errorObject = { e: {} };\n//# sourceMappingURL=errorObject.js.map","\"use strict\";\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) { throw err; },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map","\"use strict\";\nvar root_1 = require('../util/root');\nvar Symbol = root_1.root.Symbol;\nexports.rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n    Symbol.for('rxSubscriber') : '@@rxSubscriber';\n/**\n * @deprecated use rxSubscriber instead\n */\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\nimport { Socket } from 'net';\nimport { Readable } from 'stream';\nimport { Disposable } from 'vscode';\nimport { Logger } from 'vscode-debugadapter';\nimport { Message } from 'vscode-debugadapter/lib/messages';\n\nexport type LocalDebugOptions = { port: number; host: string; customDebugger?: boolean };\nexport type RemoteDebugOptions = LocalDebugOptions & { waitUntilDebuggerAttaches: boolean };\n\nexport interface IDebugLauncherScriptProvider<T> {\n    getLauncherArgs(options: T): string[];\n}\n\nexport interface ILocalDebugLauncherScriptProvider extends IDebugLauncherScriptProvider<LocalDebugOptions> {\n    getLauncherArgs(options: LocalDebugOptions): string[];\n}\n\nexport interface IRemoteDebugLauncherScriptProvider extends IDebugLauncherScriptProvider<RemoteDebugOptions> {}\n\nexport const IProtocolParser = Symbol('IProtocolParser');\nexport interface IProtocolParser extends Disposable {\n    connect(stream: Readable): void;\n    once(event: string | symbol, listener: Function): this;\n    on(event: string | symbol, listener: Function): this;\n}\n\nexport const IProtocolLogger = Symbol('IProtocolLogger');\nexport interface IProtocolLogger extends Disposable {\n    connect(inputStream: Readable, outputStream: Readable): void;\n    setup(logger: Logger.ILogger): void;\n}\n\nexport const IDebugStreamProvider = Symbol('IDebugStreamProvider');\nexport interface IDebugStreamProvider extends Disposable {\n    readonly useDebugSocketStream: boolean;\n    getInputAndOutputStreams(): Promise<{ input: NodeJS.ReadStream | Socket; output: NodeJS.WriteStream | Socket }>;\n}\n\nexport const IProtocolMessageWriter = Symbol('IProtocolMessageWriter');\nexport interface IProtocolMessageWriter {\n    write(stream: Socket | NodeJS.WriteStream, message: Message): void;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\n// tslint:disable:no-any max-func-body-length no-empty no-require-imports no-var-requires\n\nif ((Reflect as any).metadata === undefined) {\n    require('reflect-metadata');\n}\n\nimport * as fsextra from 'fs-extra';\nimport { Socket } from 'net';\nimport { EOL } from 'os';\nimport * as path from 'path';\nimport { PassThrough } from 'stream';\nimport { Disposable } from 'vscode';\nimport { DebugSession, ErrorDestination, Event, logger, OutputEvent, Response, TerminatedEvent } from 'vscode-debugadapter';\nimport { LogLevel } from 'vscode-debugadapter/lib/logger';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { EXTENSION_ROOT_DIR } from '../../common/constants';\nimport '../../common/extensions';\nimport { isNotInstalledError } from '../../common/helpers';\nimport { ICurrentProcess, IDisposable, IDisposableRegistry } from '../../common/types';\nimport { createDeferred, Deferred, sleep } from '../../common/utils/async';\nimport { noop } from '../../common/utils/misc';\nimport { IServiceContainer } from '../../ioc/types';\nimport { AttachRequestArguments, LaunchRequestArguments } from '../types';\nimport { CreateAttachDebugClient, CreateLaunchDebugClient } from './DebugClients/DebugFactory';\nimport { BaseDebugServer } from './DebugServers/BaseDebugServer';\nimport { initializeIoc } from './serviceRegistry';\nimport { IDebugStreamProvider, IProtocolLogger, IProtocolMessageWriter, IProtocolParser } from './types';\nconst killProcessTree = require('tree-kill');\n\nconst DEBUGGER_CONNECT_TIMEOUT = 20000;\nconst MIN_DEBUGGER_CONNECT_TIMEOUT = 5000;\n\n/**\n * Primary purpose of this class is to perform the handshake with VS Code and launch PTVSD process.\n * I.e. it communicate with VS Code before PTVSD gets into the picture, once PTVSD is launched, PTVSD will talk directly to VS Code.\n * We're re-using DebugSession so we don't have to handle request/response ourselves.\n * @export\n * @class PythonDebugger\n * @extends {DebugSession}\n */\nexport class PythonDebugger extends DebugSession {\n    public debugServer?: BaseDebugServer;\n    public client = createDeferred<Socket>();\n    private supportsRunInTerminalRequest: boolean = false;\n    constructor(private readonly serviceContainer: IServiceContainer, private readonly fileExistsSync = fsextra.existsSync) {\n        super(false);\n    }\n    public shutdown(): void {\n        if (this.debugServer) {\n            this.debugServer.Stop();\n            this.debugServer = undefined;\n        }\n        super.shutdown();\n    }\n    protected initializeRequest(response: DebugProtocol.InitializeResponse, args: DebugProtocol.InitializeRequestArguments): void {\n        const body = response.body!;\n\n        body.supportsExceptionInfoRequest = true;\n        body.supportsConfigurationDoneRequest = true;\n        body.supportsDelayedStackTraceLoading = true;\n        body.supportsConditionalBreakpoints = true;\n        body.supportsSetVariable = true;\n        body.supportsExceptionOptions = true;\n        body.supportsGotoTargetsRequest = true;\n        body.supportsEvaluateForHovers = true;\n        body.supportsModulesRequest = true;\n        body.supportsValueFormattingOptions = true;\n        body.supportsHitConditionalBreakpoints = true;\n        body.supportsSetExpression = true;\n        body.supportsLogPoints = true;\n        body.supportTerminateDebuggee = true;\n        body.supportsCompletionsRequest = true;\n        body.exceptionBreakpointFilters = [\n            {\n                filter: 'raised',\n                label: 'Raised Exceptions',\n                default: false\n            },\n            {\n                filter: 'uncaught',\n                label: 'Uncaught Exceptions',\n                default: true\n            }\n        ];\n        if (typeof args.supportsRunInTerminalRequest === 'boolean') {\n            this.supportsRunInTerminalRequest = args.supportsRunInTerminalRequest;\n        }\n        this.sendResponse(response);\n    }\n    protected attachRequest(response: DebugProtocol.AttachResponse, args: AttachRequestArguments): void {\n        const launcher = CreateAttachDebugClient(args, this);\n        this.debugServer = launcher.CreateDebugServer(this.serviceContainer);\n        this.debugServer!.Start()\n            .then(() => this.emit('debugger_attached'))\n            .catch(ex => {\n                logger.error('Attach failed');\n                logger.error(`${ex}, ${ex.name}, ${ex.message}, ${ex.stack}`);\n                const message = this.getUserFriendlyAttachErrorMessage(ex) || 'Attach Failed';\n                this.sendErrorResponse(response, { format: message, id: 1 }, undefined, undefined, ErrorDestination.User);\n            });\n    }\n    protected launchRequest(response: DebugProtocol.LaunchResponse, args: LaunchRequestArguments): void {\n        if ((typeof args.module !== 'string' || args.module.length === 0) && args.program && !this.fileExistsSync(args.program)) {\n            return this.sendErrorResponse(response, { format: `File does not exist. \"${args.program}\"`, id: 1 }, undefined, undefined, ErrorDestination.User);\n        }\n\n        this.launchPTVSD(args)\n            .then(() => this.waitForPTVSDToConnect(args))\n            .then(() => this.emit('debugger_launched'))\n            .catch(ex => {\n                const message = this.getUserFriendlyLaunchErrorMessage(args, ex) || 'Debug Error';\n                this.sendErrorResponse(response, { format: message, id: 1 }, undefined, undefined, ErrorDestination.User);\n            });\n    }\n    private async launchPTVSD(args: LaunchRequestArguments) {\n        const launcher = CreateLaunchDebugClient(args, this, this.supportsRunInTerminalRequest);\n        this.debugServer = launcher.CreateDebugServer(this.serviceContainer);\n        const serverInfo = await this.debugServer!.Start();\n        return launcher.LaunchApplicationToDebug(serverInfo);\n    }\n    private async waitForPTVSDToConnect(args: LaunchRequestArguments) {\n        return new Promise<void>(async (resolve, reject) => {\n            let rejected = false;\n            const duration = this.getConnectionTimeout(args);\n            const timeout = setTimeout(() => {\n                rejected = true;\n                reject(new Error('Timeout waiting for debugger connection'));\n            }, duration);\n\n            try {\n                await this.debugServer!.client;\n                clearTimeout(timeout);\n                if (!rejected) {\n                    resolve();\n                }\n            } catch (ex) {\n                reject(ex);\n            }\n        });\n    }\n    private getConnectionTimeout(args: LaunchRequestArguments) {\n        // The timeout can be overridden, but won't be documented unless we see the need for it.\n        // This is just a fail safe mechanism, if the current timeout isn't enough (let study the current behaviour before exposing this setting).\n        const connectionTimeout = typeof (args as any).timeout === 'number' ? ((args as any).timeout as number) : DEBUGGER_CONNECT_TIMEOUT;\n        return Math.max(connectionTimeout, MIN_DEBUGGER_CONNECT_TIMEOUT);\n    }\n    private getUserFriendlyLaunchErrorMessage(launchArgs: LaunchRequestArguments, error: any): string | undefined {\n        if (!error) {\n            return;\n        }\n        const errorMsg = typeof error === 'string' ? error : error.message && error.message.length > 0 ? error.message : '';\n        if (isNotInstalledError(error)) {\n            return `Failed to launch the Python Process, please validate the path '${launchArgs.pythonPath}'`;\n        } else {\n            return errorMsg;\n        }\n    }\n    private getUserFriendlyAttachErrorMessage(error: any): string | undefined {\n        if (!error) {\n            return;\n        }\n        if (error.code === 'ECONNREFUSED' || error.errno === 'ECONNREFUSED') {\n            return `Failed to attach (${error.message})`;\n        } else {\n            return typeof error === 'string' ? error : error.message && error.message.length > 0 ? error.message : '';\n        }\n    }\n}\n\n/**\n * Glue that orchestrates communications between VS Code, PythonDebugger (DebugSession) and PTVSD.\n * @class DebugManager\n * @implements {Disposable}\n */\nclass DebugManager implements Disposable {\n    // #region VS Code debug Streams.\n    private inputStream!: NodeJS.ReadStream | Socket;\n    private outputStream!: NodeJS.WriteStream | Socket;\n    // #endregion\n    // #region Proxy Streams (used to listen in on the communications).\n    private readonly throughOutputStream: PassThrough;\n    private readonly throughInputStream: PassThrough;\n    // #endregion\n    // #region Streams used by the PythonDebug class (DebugSession).\n    private readonly debugSessionOutputStream: PassThrough;\n    private readonly debugSessionInputStream: PassThrough;\n    // #endregion\n    // #region Streams used to communicate with PTVSD.\n    private socket!: Socket;\n    // #endregion\n    private readonly inputProtocolParser: IProtocolParser;\n    private readonly outputProtocolParser: IProtocolParser;\n    private readonly protocolLogger: IProtocolLogger;\n    private readonly protocolMessageWriter: IProtocolMessageWriter;\n    private isServerMode: boolean = false;\n    private readonly disposables: Disposable[] = [];\n    private hasShutdown: boolean = false;\n    private debugSession?: PythonDebugger;\n    private ptvsdProcessId?: number;\n    private launchOrAttach?: 'launch' | 'attach';\n    private terminatedEventSent: boolean = false;\n    private disconnectResponseSent: boolean = false;\n    private disconnectRequest?: DebugProtocol.DisconnectRequest;\n    private restart: boolean = false;\n    private readonly initializeRequestDeferred: Deferred<DebugProtocol.InitializeRequest>;\n    private get initializeRequest(): Promise<DebugProtocol.InitializeRequest> {\n        return this.initializeRequestDeferred.promise;\n    }\n    private readonly launchRequestDeferred: Deferred<DebugProtocol.LaunchRequest>;\n    private get launchRequest(): Promise<DebugProtocol.LaunchRequest> {\n        return this.launchRequestDeferred.promise;\n    }\n\n    private readonly attachRequestDeferred: Deferred<DebugProtocol.AttachRequest>;\n    private get attachRequest(): Promise<DebugProtocol.AttachRequest> {\n        return this.attachRequestDeferred.promise;\n    }\n\n    private set loggingEnabled(value: boolean) {\n        if (value) {\n            logger.setup(LogLevel.Verbose, true);\n            this.protocolLogger.setup(logger);\n        }\n    }\n    constructor(private readonly serviceContainer: IServiceContainer) {\n        this.throughInputStream = new PassThrough();\n        this.throughOutputStream = new PassThrough();\n        this.debugSessionOutputStream = new PassThrough();\n        this.debugSessionInputStream = new PassThrough();\n\n        this.protocolMessageWriter = this.serviceContainer.get<IProtocolMessageWriter>(IProtocolMessageWriter);\n\n        this.inputProtocolParser = this.serviceContainer.get<IProtocolParser>(IProtocolParser);\n        this.inputProtocolParser.connect(this.throughInputStream);\n        this.disposables.push(this.inputProtocolParser);\n        this.outputProtocolParser = this.serviceContainer.get<IProtocolParser>(IProtocolParser);\n        this.outputProtocolParser.connect(this.throughOutputStream);\n        this.disposables.push(this.outputProtocolParser);\n\n        this.protocolLogger = this.serviceContainer.get<IProtocolLogger>(IProtocolLogger);\n        this.protocolLogger.connect(this.throughInputStream, this.throughOutputStream);\n        this.disposables.push(this.protocolLogger);\n\n        this.initializeRequestDeferred = createDeferred<DebugProtocol.InitializeRequest>();\n        this.launchRequestDeferred = createDeferred<DebugProtocol.LaunchRequest>();\n        this.attachRequestDeferred = createDeferred<DebugProtocol.AttachRequest>();\n    }\n    public dispose() {\n        try {\n            const disposables = this.serviceContainer.get<IDisposable[]>(IDisposableRegistry);\n            disposables.forEach(d => {\n                try {\n                    d.dispose();\n                } catch {\n                    noop();\n                }\n            });\n        } catch {\n            noop();\n        }\n        logger.verbose('main dispose');\n        this.shutdown().ignoreErrors();\n    }\n    public async start() {\n        const debugStreamProvider = this.serviceContainer.get<IDebugStreamProvider>(IDebugStreamProvider);\n        this.disposables.push(debugStreamProvider);\n        const { input, output } = await debugStreamProvider.getInputAndOutputStreams();\n        this.isServerMode = debugStreamProvider.useDebugSocketStream;\n        this.inputStream = input;\n        this.outputStream = output;\n        this.inputStream.pause();\n        if (!this.isServerMode) {\n            const currentProcess = this.serviceContainer.get<ICurrentProcess>(ICurrentProcess);\n            currentProcess.on('SIGTERM', () => {\n                if (!this.restart) {\n                    this.shutdown().ignoreErrors();\n                }\n            });\n        }\n        this.interceptProtocolMessages();\n        this.startDebugSession();\n    }\n    /**\n     * Do not put any delays in here expecting VSC to receive messages. VSC could disconnect earlier (PTVSD #128).\n     * If any delays are necessary, add them prior to calling this method.\n     * If the program is forcefully terminated (e.g. killing terminal), we handle socket.on('error') or socket.on('close'),\n     *  Under such circumstances, we need to send the terminated event asap (could be because VSC might be getting an error at its end due to piped stream being closed).\n     * @private\n     * @memberof DebugManager\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    private shutdown = async () => {\n        logger.verbose('check and shutdown');\n        if (this.hasShutdown) {\n            return;\n        }\n        this.hasShutdown = true;\n        logger.verbose('shutdown');\n\n        if (!this.terminatedEventSent && !this.restart) {\n            // Possible PTVSD died before sending message back.\n            try {\n                logger.verbose('Sending Terminated Event');\n                this.sendMessage(new TerminatedEvent(), this.outputStream);\n            } catch (err) {\n                const message = `Error in sending Terminated Event: ${err && err.message ? err.message : err.toString()}`;\n                const details = [message, err && err.name ? err.name : '', err && err.stack ? err.stack : ''].join(EOL);\n                logger.error(`${message}${EOL}${details}`);\n            }\n            this.terminatedEventSent = true;\n        }\n\n        if (!this.disconnectResponseSent && this.restart && this.disconnectRequest) {\n            // This is a work around for PTVSD bug, else this entire block is unnecessary.\n            try {\n                logger.verbose('Sending Disconnect Response');\n                this.sendMessage(new Response(this.disconnectRequest, ''), this.outputStream);\n            } catch (err) {\n                const message = `Error in sending Disconnect Response: ${err && err.message ? err.message : err.toString()}`;\n                const details = [message, err && err.name ? err.name : '', err && err.stack ? err.stack : ''].join(EOL);\n                logger.error(`${message}${EOL}${details}`);\n            }\n            this.disconnectResponseSent = true;\n        }\n\n        if (this.launchOrAttach === 'launch' && this.ptvsdProcessId) {\n            logger.verbose('killing process');\n            try {\n                // 1. Wait for some time, its possible the program has run to completion.\n                // We need to wait till the process exits (else the message `Terminated: 15` gets printed onto the screen).\n                // 2. Also, its possible we manually sent the `Terminated` event above.\n                // Hence we need to wait till VSC receives the above event.\n                await sleep(100);\n                logger.verbose('Kill process now');\n                killProcessTree(this.ptvsdProcessId!);\n            } catch {}\n            this.ptvsdProcessId = undefined;\n        }\n\n        if (!this.restart) {\n            if (this.debugSession) {\n                logger.verbose('Shutting down debug session');\n                this.debugSession.shutdown();\n            }\n\n            logger.verbose('disposing');\n            await sleep(100);\n            // Dispose last, we don't want to dispose the protocol loggers too early.\n            this.disposables.forEach(disposable => disposable.dispose());\n        }\n    };\n    private sendMessage(message: DebugProtocol.ProtocolMessage, outputStream: Socket | PassThrough | NodeJS.WriteStream): void {\n        this.protocolMessageWriter.write(outputStream, message);\n        this.protocolMessageWriter.write(this.throughOutputStream, message);\n    }\n    private startDebugSession() {\n        this.debugSession = new PythonDebugger(this.serviceContainer);\n        this.debugSession.setRunAsServer(this.isServerMode);\n\n        this.debugSession.once('debugger_attached', this.connectVSCodeToPTVSD);\n        this.debugSession.once('debugger_launched', this.connectVSCodeToPTVSD);\n\n        this.debugSessionOutputStream.pipe(this.throughOutputStream);\n        this.debugSessionOutputStream.pipe(this.outputStream);\n\n        // Start handling requests in the session instance.\n        // The session (PythonDebugger class) will only perform the bootstrapping (launching of PTVSD).\n        this.inputStream.pipe(this.throughInputStream);\n        this.inputStream.pipe(this.debugSessionInputStream);\n\n        this.debugSession.start(this.debugSessionInputStream, this.debugSessionOutputStream);\n    }\n    private interceptProtocolMessages() {\n        // Keep track of the initialize and launch requests, we'll need to re-send these to ptvsd, for bootstrapping.\n        this.inputProtocolParser.once('request_initialize', this.onRequestInitialize);\n        this.inputProtocolParser.once('request_launch', this.onRequestLaunch);\n        this.inputProtocolParser.once('request_attach', this.onRequestAttach);\n        this.inputProtocolParser.once('request_disconnect', this.onRequestDisconnect);\n\n        this.outputProtocolParser.once('event_terminated', this.onEventTerminated);\n        this.outputProtocolParser.once('response_disconnect', this.onResponseDisconnect);\n    }\n    /**\n     * Connect PTVSD socket to VS Code.\n     * This allows PTVSD to communicate directly with VS Code.\n     * @private\n     * @memberof DebugManager\n     */\n    private connectVSCodeToPTVSD = async (_response: DebugProtocol.AttachResponse | DebugProtocol.LaunchResponse) => {\n        const attachOrLaunchRequest = await (this.launchOrAttach === 'attach' ? this.attachRequest : this.launchRequest);\n        // By now we're connected to the client.\n        this.socket = await this.debugSession!.debugServer!.client;\n\n        // We need to handle both end and error, sometimes the socket will error out without ending (if debugee is killed).\n        // Note, we need a handler for the error event, else nodejs complains when socket gets closed and there are no error handlers.\n        this.socket.on('end', () => {\n            logger.verbose('Socket End');\n            this.shutdown().ignoreErrors();\n        });\n        this.socket.on('error', () => {\n            logger.verbose('Socket Error');\n            this.shutdown().ignoreErrors();\n        });\n        // Keep track of processid for killing it.\n        if (this.launchOrAttach === 'launch') {\n            const debugSoketProtocolParser = this.serviceContainer.get<IProtocolParser>(IProtocolParser);\n            debugSoketProtocolParser.connect(this.socket);\n            debugSoketProtocolParser.once('event_process', (proc: DebugProtocol.ProcessEvent) => {\n                this.ptvsdProcessId = proc.body.systemProcessId;\n            });\n        }\n\n        // Get ready for PTVSD to communicate directly with VS Code.\n        ((this.inputStream as any) as NodeJS.ReadStream).unpipe(this.debugSessionInputStream);\n        this.debugSessionOutputStream.unpipe(this.outputStream);\n\n        // Do not pipe. When restarting the debugger, the socket gets closed,\n        // In which case, VSC will see this and shutdown the debugger completely.\n        ((this.inputStream as any) as NodeJS.ReadStream).on('data', data => {\n            this.socket.write(data);\n        });\n        this.socket.on('data', (data: string | Buffer) => {\n            this.throughOutputStream.write(data);\n            this.outputStream.write(data as string);\n        });\n\n        // Send the launch/attach request to PTVSD and wait for it to reply back.\n        this.sendMessage(attachOrLaunchRequest, this.socket);\n\n        // Send the initialize request and wait for it to reply back with the initialized event\n        this.sendMessage(await this.initializeRequest, this.socket);\n    };\n    private onRequestInitialize = (request: DebugProtocol.InitializeRequest) => {\n        this.hasShutdown = false;\n        this.terminatedEventSent = false;\n        this.disconnectResponseSent = false;\n        this.restart = false;\n        this.disconnectRequest = undefined;\n        this.initializeRequestDeferred.resolve(request);\n    };\n    private onRequestLaunch = (request: DebugProtocol.LaunchRequest) => {\n        this.launchOrAttach = 'launch';\n        this.loggingEnabled = (request.arguments as LaunchRequestArguments).logToFile === true;\n        this.launchRequestDeferred.resolve(request);\n    };\n    private onRequestAttach = (request: DebugProtocol.AttachRequest) => {\n        this.launchOrAttach = 'attach';\n        this.loggingEnabled = (request.arguments as AttachRequestArguments).logToFile === true;\n        this.attachRequestDeferred.resolve(request);\n    };\n    private onRequestDisconnect = (request: DebugProtocol.DisconnectRequest) => {\n        this.disconnectRequest = request;\n        if (this.launchOrAttach === 'attach') {\n            return;\n        }\n        const args = request.arguments as { restart: boolean } | undefined;\n        if (args && args.restart) {\n            this.restart = true;\n        }\n\n        // When VS Code sends a disconnect request, PTVSD replies back with a response.\n        // Wait for sometime, until the messages are sent out (remember, we're just intercepting streams here).\n        setTimeout(this.shutdown, 500);\n    };\n    private onEventTerminated = async () => {\n        logger.verbose('onEventTerminated');\n        this.terminatedEventSent = true;\n        // Wait for sometime, until the messages are sent out (remember, we're just intercepting streams here).\n        setTimeout(this.shutdown, 300);\n    };\n    private onResponseDisconnect = async () => {\n        this.disconnectResponseSent = true;\n        logger.verbose('onResponseDisconnect');\n        // When VS Code sends a disconnect request, PTVSD replies back with a response, but its upto us to kill the process.\n        // Wait for sometime, until the messages are sent out (remember, we're just intercepting streams here).\n        // Also its possible PTVSD might run to completion.\n        setTimeout(this.shutdown, 100);\n    };\n}\n\nasync function startDebugger() {\n    logger.init(noop, path.join(EXTENSION_ROOT_DIR, `debug${process.pid}.log`));\n    const serviceContainer = initializeIoc();\n    const protocolMessageWriter = serviceContainer.get<IProtocolMessageWriter>(IProtocolMessageWriter);\n    try {\n        // debugger;\n        const debugManager = new DebugManager(serviceContainer);\n        await debugManager.start();\n    } catch (err) {\n        const message = `Debugger Error: ${err && err.message ? err.message : err.toString()}`;\n        const details = [message, err && err.name ? err.name : '', err && err.stack ? err.stack : ''].join(EOL);\n        logger.error(`${message}${EOL}${details}`);\n\n        // Notify the user.\n        protocolMessageWriter.write(process.stdout, new Event('error', message));\n        protocolMessageWriter.write(process.stdout, new OutputEvent(`${message}${EOL}${details}`, 'stderr'));\n    }\n}\n\nprocess.stdin.on('error', () => {});\nprocess.stdout.on('error', () => {});\nprocess.stderr.on('error', () => {});\n\nprocess.on('uncaughtException', (err: Error) => {\n    logger.error(`Uncaught Exception: ${err && err.message ? err.message : ''}`);\n    logger.error(err && err.name ? err.name : '');\n    logger.error(err && err.stack ? err.stack : '');\n    // Catch all, incase we have string exceptions being raised.\n    logger.error(err ? err.toString() : '');\n    // Wait for 1 second before we die, we need to ensure errors are written to the log file.\n    setTimeout(() => process.exit(-1), 100);\n});\n\nstartDebugger().catch(_ex => {\n    // Not necessary except for debugging and to kill linter warning about unhandled promises.\n});\n","/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof global === \"object\" ? global :\n            typeof self === \"object\" ? self :\n                typeof this === \"object\" ? this :\n                    Function(\"return this;\")();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect === \"undefined\") {\n            root.Reflect = Reflect;\n        }\n        else {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter);\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                if (typeof target[key] !== \"function\") {\n                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                }\n                if (previous)\n                    previous(key, value);\n            };\n        }\n    })(function (exporter) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === \"function\";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n        var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n        var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n        var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n        // [[Metadata]] internal slot\n        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n        var Metadata = new _WeakMap();\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, \"staticMethod\",\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, \"method\",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter(\"decorate\", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter(\"metadata\", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter(\"defineMetadata\", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasMetadata\", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getMetadata\", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getOwnMetadata\", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getMetadataKeys\", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            if (!metadataMap.delete(metadataKey))\n                return false;\n            if (metadataMap.size > 0)\n                return true;\n            var targetMetadata = Metadata.get(target);\n            targetMetadata.delete(propertyKey);\n            if (targetMetadata.size > 0)\n                return true;\n            Metadata.delete(target);\n            return true;\n        }\n        exporter(\"deleteMetadata\", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        function GetOrCreateMetadataMap(O, P, Create) {\n            var targetMetadata = Metadata.get(O);\n            if (IsUndefined(targetMetadata)) {\n                if (!Create)\n                    return undefined;\n                targetMetadata = new _Map();\n                Metadata.set(O, targetMetadata);\n            }\n            var metadataMap = targetMetadata.get(P);\n            if (IsUndefined(metadataMap)) {\n                if (!Create)\n                    return undefined;\n                metadataMap = new _Map();\n                targetMetadata.set(P, metadataMap);\n            }\n            return metadataMap;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            return ToBoolean(metadataMap.has(MetadataKey));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return undefined;\n            return metadataMap.get(MetadataKey);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n            metadataMap.set(MetadataKey, MetadataValue);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var keys = [];\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return keys;\n            var keysObj = metadataMap.keys();\n            var iterator = GetIterator(keysObj);\n            var k = 0;\n            while (true) {\n                var next = IteratorStep(iterator);\n                if (!next) {\n                    keys.length = k;\n                    return keys;\n                }\n                var nextValue = IteratorValue(next);\n                try {\n                    keys[k] = nextValue;\n                }\n                catch (e) {\n                    try {\n                        IteratorClose(iterator);\n                    }\n                    finally {\n                        throw e;\n                    }\n                }\n                k++;\n            }\n        }\n        // 6 ECMAScript Data Typ0es and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case \"undefined\": return 0 /* Undefined */;\n                case \"boolean\": return 2 /* Boolean */;\n                case \"string\": return 3 /* String */;\n                case \"symbol\": return 4 /* Symbol */;\n                case \"number\": return 5 /* Number */;\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === \"symbol\";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === \"string\") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return \"\" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator[\"return\"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== \"function\" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== \"function\")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            return /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, \"size\", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (key === this._cacheKey) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (this._cacheKey !== key) {\n                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            return /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, \"size\", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.values(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = \"@@WeakMap@@\" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === \"function\") {\n                    if (typeof crypto !== \"undefined\")\n                        return crypto.getRandomValues(new Uint8Array(size));\n                    if (typeof msCrypto !== \"undefined\")\n                        return msCrypto.getRandomValues(new Uint8Array(size));\n                    return FillRandomBytes(new Uint8Array(size), size);\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122  4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = \"\";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += \"-\";\n                    if (byte < 16)\n                        result += \"0\";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n","'use strict'\n\nconst assign = require('./util/assign')\n\nconst fs = {}\n\n// Export graceful-fs:\nassign(fs, require('./fs'))\n// Export extra methods:\nassign(fs, require('./copy'))\nassign(fs, require('./copy-sync'))\nassign(fs, require('./mkdirs'))\nassign(fs, require('./remove'))\nassign(fs, require('./json'))\nassign(fs, require('./move'))\nassign(fs, require('./move-sync'))\nassign(fs, require('./empty'))\nassign(fs, require('./ensure'))\nassign(fs, require('./output'))\nassign(fs, require('./path-exists'))\n\nmodule.exports = fs\n","'use strict'\n\n// simple mutable assign\nfunction assign () {\n  const args = [].slice.call(arguments).filter(i => i)\n  const dest = args.shift()\n  args.forEach(src => {\n    Object.keys(src).forEach(key => {\n      dest[key] = src[key]\n    })\n  })\n\n  return dest\n}\n\nmodule.exports = assign\n","var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\nvar chdir = process.chdir\nprocess.chdir = function(d) {\n  cwd = null\n  chdir.call(process, d)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (!fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (!fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = (function (fs$rename) { return function (from, to, cb) {\n      var start = Date.now()\n      var backoff = 0;\n      fs$rename(from, to, function CB (er) {\n        if (er\n            && (er.code === \"EACCES\" || er.code === \"EPERM\")\n            && Date.now() - start < 60000) {\n          setTimeout(function() {\n            fs.stat(to, function (stater, st) {\n              if (stater && stater.code === \"ENOENT\")\n                fs$rename(from, to, CB);\n              else\n                cb(er)\n            })\n          }, backoff)\n          if (backoff < 100)\n            backoff += 10;\n          return;\n        }\n        if (cb) cb(er)\n      })\n    }})(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = (function (fs$read) { return function (fd, buffer, offset, length, position, callback_) {\n    var callback\n    if (callback_ && typeof callback_ === 'function') {\n      var eagCounter = 0\n      callback = function (er, _, __) {\n        if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n        }\n        callback_.apply(this, arguments)\n      }\n    }\n    return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n  }})(fs.read)\n\n  fs.readSync = (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\")) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats.uid < 0) stats.uid += 0x100000000\n      if (stats.gid < 0) stats.gid += 0x100000000\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n","module.exports = require(\"constants\");","var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n","'use strict'\n\nmodule.exports = clone\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: obj.__proto__ }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n","module.exports = require(\"util\");","const u = require('universalify').fromCallback\nmodule.exports = {\n  copy: u(require('./copy'))\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst ncp = require('./ncp')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction copy (src, dest, options, callback) {\n  if (typeof options === 'function' && !callback) {\n    callback = options\n    options = {}\n  } else if (typeof options === 'function' || options instanceof RegExp) {\n    options = {filter: options}\n  }\n  callback = callback || function () {}\n  options = options || {}\n\n  // Warn about using preserveTimestamps on 32-bit node:\n  if (options.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)\n  }\n\n  // don't allow src and dest to be the same\n  const basePath = process.cwd()\n  const currentPath = path.resolve(basePath, src)\n  const targetPath = path.resolve(basePath, dest)\n  if (currentPath === targetPath) return callback(new Error('Source and destination must not be the same.'))\n\n  fs.lstat(src, (err, stats) => {\n    if (err) return callback(err)\n\n    let dir = null\n    if (stats.isDirectory()) {\n      const parts = dest.split(path.sep)\n      parts.pop()\n      dir = parts.join(path.sep)\n    } else {\n      dir = path.dirname(dest)\n    }\n\n    pathExists(dir, (err, dirExists) => {\n      if (err) return callback(err)\n      if (dirExists) return ncp(src, dest, options, callback)\n      mkdir.mkdirs(dir, err => {\n        if (err) return callback(err)\n        ncp(src, dest, options, callback)\n      })\n    })\n  })\n}\n\nmodule.exports = copy\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst os = require('os')\nconst path = require('path')\n\n// HFS, ext{2,3}, FAT do not, Node.js v0.10 does not\nfunction hasMillisResSync () {\n  let tmpfile = path.join('millis-test-sync' + Date.now().toString() + Math.random().toString().slice(2))\n  tmpfile = path.join(os.tmpdir(), tmpfile)\n\n  // 550 millis past UNIX epoch\n  const d = new Date(1435410243862)\n  fs.writeFileSync(tmpfile, 'https://github.com/jprichardson/node-fs-extra/pull/141')\n  const fd = fs.openSync(tmpfile, 'r+')\n  fs.futimesSync(fd, d, d)\n  fs.closeSync(fd)\n  return fs.statSync(tmpfile).mtime > 1435410243000\n}\n\nfunction hasMillisRes (callback) {\n  let tmpfile = path.join('millis-test' + Date.now().toString() + Math.random().toString().slice(2))\n  tmpfile = path.join(os.tmpdir(), tmpfile)\n\n  // 550 millis past UNIX epoch\n  const d = new Date(1435410243862)\n  fs.writeFile(tmpfile, 'https://github.com/jprichardson/node-fs-extra/pull/141', err => {\n    if (err) return callback(err)\n    fs.open(tmpfile, 'r+', (err, fd) => {\n      if (err) return callback(err)\n      fs.futimes(fd, d, d, err => {\n        if (err) return callback(err)\n        fs.close(fd, err => {\n          if (err) return callback(err)\n          fs.stat(tmpfile, (err, stats) => {\n            if (err) return callback(err)\n            callback(null, stats.mtime > 1435410243000)\n          })\n        })\n      })\n    })\n  })\n}\n\nfunction timeRemoveMillis (timestamp) {\n  if (typeof timestamp === 'number') {\n    return Math.floor(timestamp / 1000) * 1000\n  } else if (timestamp instanceof Date) {\n    return new Date(Math.floor(timestamp.getTime() / 1000) * 1000)\n  } else {\n    throw new Error('fs-extra: timeRemoveMillis() unknown parameter type')\n  }\n}\n\nfunction utimesMillis (path, atime, mtime, callback) {\n  // if (!HAS_MILLIS_RES) return fs.utimes(path, atime, mtime, callback)\n  fs.open(path, 'r+', (err, fd) => {\n    if (err) return callback(err)\n    fs.futimes(fd, atime, mtime, futimesErr => {\n      fs.close(fd, closeErr => {\n        if (callback) callback(futimesErr || closeErr)\n      })\n    })\n  })\n}\n\nmodule.exports = {\n  hasMillisRes,\n  hasMillisResSync,\n  timeRemoveMillis,\n  utimesMillis\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst invalidWin32Path = require('./win32').invalidWin32Path\n\nconst o777 = parseInt('0777', 8)\n\nfunction mkdirs (p, opts, callback, made) {\n  if (typeof opts === 'function') {\n    callback = opts\n    opts = {}\n  } else if (!opts || typeof opts !== 'object') {\n    opts = { mode: opts }\n  }\n\n  if (process.platform === 'win32' && invalidWin32Path(p)) {\n    const errInval = new Error(p + ' contains invalid WIN32 path characters.')\n    errInval.code = 'EINVAL'\n    return callback(errInval)\n  }\n\n  let mode = opts.mode\n  const xfs = opts.fs || fs\n\n  if (mode === undefined) {\n    mode = o777 & (~process.umask())\n  }\n  if (!made) made = null\n\n  callback = callback || function () {}\n  p = path.resolve(p)\n\n  xfs.mkdir(p, mode, er => {\n    if (!er) {\n      made = made || p\n      return callback(null, made)\n    }\n    switch (er.code) {\n      case 'ENOENT':\n        if (path.dirname(p) === p) return callback(er)\n        mkdirs(path.dirname(p), opts, (er, made) => {\n          if (er) callback(er, made)\n          else mkdirs(p, opts, callback, made)\n        })\n        break\n\n      // In the case of any other error, just see if there's a dir\n      // there already.  If so, then hooray!  If not, then something\n      // is borked.\n      default:\n        xfs.stat(p, (er2, stat) => {\n          // if the stat fails, then that's super weird.\n          // let the original error be the failure reason.\n          if (er2 || !stat.isDirectory()) callback(er, made)\n          else callback(null, made)\n        })\n        break\n    }\n  })\n}\n\nmodule.exports = mkdirs\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst invalidWin32Path = require('./win32').invalidWin32Path\n\nconst o777 = parseInt('0777', 8)\n\nfunction mkdirsSync (p, opts, made) {\n  if (!opts || typeof opts !== 'object') {\n    opts = { mode: opts }\n  }\n\n  let mode = opts.mode\n  const xfs = opts.fs || fs\n\n  if (process.platform === 'win32' && invalidWin32Path(p)) {\n    const errInval = new Error(p + ' contains invalid WIN32 path characters.')\n    errInval.code = 'EINVAL'\n    throw errInval\n  }\n\n  if (mode === undefined) {\n    mode = o777 & (~process.umask())\n  }\n  if (!made) made = null\n\n  p = path.resolve(p)\n\n  try {\n    xfs.mkdirSync(p, mode)\n    made = made || p\n  } catch (err0) {\n    switch (err0.code) {\n      case 'ENOENT':\n        if (path.dirname(p) === p) throw err0\n        made = mkdirsSync(path.dirname(p), opts, made)\n        mkdirsSync(p, opts, made)\n        break\n\n      // In the case of any other error, just see if there's a dir\n      // there already.  If so, then hooray!  If not, then something\n      // is borked.\n      default:\n        let stat\n        try {\n          stat = xfs.statSync(p)\n        } catch (err1) {\n          throw err0\n        }\n        if (!stat.isDirectory()) throw err0\n        break\n    }\n  }\n\n  return made\n}\n\nmodule.exports = mkdirsSync\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copyFileSync = require('./copy-file-sync')\nconst mkdir = require('../mkdirs')\n\nfunction copySync (src, dest, options) {\n  if (typeof options === 'function' || options instanceof RegExp) {\n    options = {filter: options}\n  }\n\n  options = options || {}\n  options.recursive = !!options.recursive\n\n  // default to true for now\n  options.clobber = 'clobber' in options ? !!options.clobber : true\n  // overwrite falls back to clobber\n  options.overwrite = 'overwrite' in options ? !!options.overwrite : options.clobber\n  options.dereference = 'dereference' in options ? !!options.dereference : false\n  options.preserveTimestamps = 'preserveTimestamps' in options ? !!options.preserveTimestamps : false\n\n  options.filter = options.filter || function () { return true }\n\n  // Warn about using preserveTimestamps on 32-bit node:\n  if (options.preserveTimestamps && process.arch === 'ia32') {\n    console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)\n  }\n\n  const stats = (options.recursive && !options.dereference) ? fs.lstatSync(src) : fs.statSync(src)\n  const destFolder = path.dirname(dest)\n  const destFolderExists = fs.existsSync(destFolder)\n  let performCopy = false\n\n  if (options.filter instanceof RegExp) {\n    console.warn('Warning: fs-extra: Passing a RegExp filter is deprecated, use a function')\n    performCopy = options.filter.test(src)\n  } else if (typeof options.filter === 'function') performCopy = options.filter(src, dest)\n\n  if (stats.isFile() && performCopy) {\n    if (!destFolderExists) mkdir.mkdirsSync(destFolder)\n    copyFileSync(src, dest, {\n      overwrite: options.overwrite,\n      errorOnExist: options.errorOnExist,\n      preserveTimestamps: options.preserveTimestamps\n    })\n  } else if (stats.isDirectory() && performCopy) {\n    if (!fs.existsSync(dest)) mkdir.mkdirsSync(dest)\n    const contents = fs.readdirSync(src)\n    contents.forEach(content => {\n      const opts = options\n      opts.recursive = true\n      copySync(path.join(src, content), path.join(dest, content), opts)\n    })\n  } else if (options.recursive && stats.isSymbolicLink() && performCopy) {\n    const srcPath = fs.readlinkSync(src)\n    fs.symlinkSync(srcPath, dest)\n  }\n}\n\nmodule.exports = copySync\n","'use strict'\n\nconst fs = require('graceful-fs')\n\nconst BUF_LENGTH = 64 * 1024\nconst _buff = require('../util/buffer')(BUF_LENGTH)\n\nfunction copyFileSync (srcFile, destFile, options) {\n  const overwrite = options.overwrite\n  const errorOnExist = options.errorOnExist\n  const preserveTimestamps = options.preserveTimestamps\n\n  if (fs.existsSync(destFile)) {\n    if (overwrite) {\n      fs.unlinkSync(destFile)\n    } else if (errorOnExist) {\n      throw new Error(`${destFile} already exists`)\n    } else return\n  }\n\n  const fdr = fs.openSync(srcFile, 'r')\n  const stat = fs.fstatSync(fdr)\n  const fdw = fs.openSync(destFile, 'w', stat.mode)\n  let bytesRead = 1\n  let pos = 0\n\n  while (bytesRead > 0) {\n    bytesRead = fs.readSync(fdr, _buff, 0, BUF_LENGTH, pos)\n    fs.writeSync(fdw, _buff, 0, bytesRead)\n    pos += bytesRead\n  }\n\n  if (preserveTimestamps) {\n    fs.futimesSync(fdw, stat.atime, stat.mtime)\n  }\n\n  fs.closeSync(fdr)\n  fs.closeSync(fdw)\n}\n\nmodule.exports = copyFileSync\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst assert = require('assert')\n\nconst isWindows = (process.platform === 'win32')\n\nfunction defaults (options) {\n  const methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(m => {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n}\n\nfunction rimraf (p, options, cb) {\n  let busyTries = 0\n\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert.equal(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  rimraf_(p, options, function CB (er) {\n    if (er) {\n      if ((er.code === 'EBUSY' || er.code === 'ENOTEMPTY' || er.code === 'EPERM') &&\n          busyTries < options.maxBusyTries) {\n        busyTries++\n        let time = busyTries * 100\n        // try again, with the same exact callback as this one.\n        return setTimeout(() => rimraf_(p, options, CB), time)\n      }\n\n      // already gone\n      if (er.code === 'ENOENT') er = null\n    }\n\n    cb(er)\n  })\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nfunction rimraf_ (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, (er, st) => {\n    if (er && er.code === 'ENOENT') {\n      return cb(null)\n    }\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === 'EPERM' && isWindows) {\n      return fixWinEPERM(p, options, er, cb)\n    }\n\n    if (st && st.isDirectory()) {\n      return rmdir(p, options, er, cb)\n    }\n\n    options.unlink(p, er => {\n      if (er) {\n        if (er.code === 'ENOENT') {\n          return cb(null)\n        }\n        if (er.code === 'EPERM') {\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        }\n        if (er.code === 'EISDIR') {\n          return rmdir(p, options, er, cb)\n        }\n      }\n      return cb(er)\n    })\n  })\n}\n\nfunction fixWinEPERM (p, options, er, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n  if (er) {\n    assert(er instanceof Error)\n  }\n\n  options.chmod(p, 0o666, er2 => {\n    if (er2) {\n      cb(er2.code === 'ENOENT' ? null : er)\n    } else {\n      options.stat(p, (er3, stats) => {\n        if (er3) {\n          cb(er3.code === 'ENOENT' ? null : er)\n        } else if (stats.isDirectory()) {\n          rmdir(p, options, er, cb)\n        } else {\n          options.unlink(p, cb)\n        }\n      })\n    }\n  })\n}\n\nfunction fixWinEPERMSync (p, options, er) {\n  let stats\n\n  assert(p)\n  assert(options)\n  if (er) {\n    assert(er instanceof Error)\n  }\n\n  try {\n    options.chmodSync(p, 0o666)\n  } catch (er2) {\n    if (er2.code === 'ENOENT') {\n      return\n    } else {\n      throw er\n    }\n  }\n\n  try {\n    stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === 'ENOENT') {\n      return\n    } else {\n      throw er\n    }\n  }\n\n  if (stats.isDirectory()) {\n    rmdirSync(p, options, er)\n  } else {\n    options.unlinkSync(p)\n  }\n}\n\nfunction rmdir (p, options, originalEr, cb) {\n  assert(p)\n  assert(options)\n  if (originalEr) {\n    assert(originalEr instanceof Error)\n  }\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, er => {\n    if (er && (er.code === 'ENOTEMPTY' || er.code === 'EEXIST' || er.code === 'EPERM')) {\n      rmkids(p, options, cb)\n    } else if (er && er.code === 'ENOTDIR') {\n      cb(originalEr)\n    } else {\n      cb(er)\n    }\n  })\n}\n\nfunction rmkids (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, (er, files) => {\n    if (er) return cb(er)\n\n    let n = files.length\n    let errState\n\n    if (n === 0) return options.rmdir(p, cb)\n\n    files.forEach(f => {\n      rimraf(path.join(p, f), options, er => {\n        if (errState) {\n          return\n        }\n        if (er) return cb(errState = er)\n        if (--n === 0) {\n          options.rmdir(p, cb)\n        }\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nfunction rimrafSync (p, options) {\n  let st\n\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  try {\n    st = options.lstatSync(p)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      return\n    }\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er.code === 'EPERM' && isWindows) {\n      fixWinEPERMSync(p, options, er)\n    }\n  }\n\n  try {\n    // sunos lets the root user unlink directories, which is... weird.\n    if (st && st.isDirectory()) {\n      rmdirSync(p, options, null)\n    } else {\n      options.unlinkSync(p)\n    }\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      return\n    } else if (er.code === 'EPERM') {\n      return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n    } else if (er.code !== 'EISDIR') {\n      throw er\n    }\n    rmdirSync(p, options, er)\n  }\n}\n\nfunction rmdirSync (p, options, originalEr) {\n  assert(p)\n  assert(options)\n  if (originalEr) {\n    assert(originalEr instanceof Error)\n  }\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === 'ENOTDIR') {\n      throw originalEr\n    } else if (er.code === 'ENOTEMPTY' || er.code === 'EEXIST' || er.code === 'EPERM') {\n      rmkidsSync(p, options)\n    } else if (er.code !== 'ENOENT') {\n      throw er\n    }\n  }\n}\n\nfunction rmkidsSync (p, options) {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(f => rimrafSync(path.join(p, f), options))\n\n  // We only end up here once we got ENOTEMPTY at least once, and\n  // at this point, we are guaranteed to have removed all the kids.\n  // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n  // try really hard to delete stuff on windows, because it has a\n  // PROFOUNDLY annoying habit of not closing handles promptly when\n  // files are deleted, resulting in spurious ENOTEMPTY errors.\n  const retries = isWindows ? 100 : 1\n  let i = 0\n  do {\n    let threw = true\n    try {\n      const ret = options.rmdirSync(p, options)\n      threw = false\n      return ret\n    } finally {\n      if (++i < retries && threw) continue // eslint-disable-line\n    }\n  } while (true)\n}\n\nmodule.exports = rimraf\nrimraf.sync = rimrafSync\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst jsonFile = require('./jsonfile')\n\njsonFile.outputJson = u(require('./output-json'))\njsonFile.outputJsonSync = require('./output-json-sync')\n// aliases\njsonFile.outputJSON = jsonFile.outputJson\njsonFile.outputJSONSync = jsonFile.outputJsonSync\njsonFile.writeJSON = jsonFile.writeJson\njsonFile.writeJSONSync = jsonFile.writeJsonSync\njsonFile.readJSON = jsonFile.readJson\njsonFile.readJSONSync = jsonFile.readJsonSync\n\nmodule.exports = jsonFile\n","var _fs\ntry {\n  _fs = require('graceful-fs')\n} catch (_) {\n  _fs = require('fs')\n}\n\nfunction readFile (file, options, callback) {\n  if (callback == null) {\n    callback = options\n    options = {}\n  }\n\n  if (typeof options === 'string') {\n    options = {encoding: options}\n  }\n\n  options = options || {}\n  var fs = options.fs || _fs\n\n  var shouldThrow = true\n  if ('throws' in options) {\n    shouldThrow = options.throws\n  }\n\n  fs.readFile(file, options, function (err, data) {\n    if (err) return callback(err)\n\n    data = stripBom(data)\n\n    var obj\n    try {\n      obj = JSON.parse(data, options ? options.reviver : null)\n    } catch (err2) {\n      if (shouldThrow) {\n        err2.message = file + ': ' + err2.message\n        return callback(err2)\n      } else {\n        return callback(null, null)\n      }\n    }\n\n    callback(null, obj)\n  })\n}\n\nfunction readFileSync (file, options) {\n  options = options || {}\n  if (typeof options === 'string') {\n    options = {encoding: options}\n  }\n\n  var fs = options.fs || _fs\n\n  var shouldThrow = true\n  if ('throws' in options) {\n    shouldThrow = options.throws\n  }\n\n  try {\n    var content = fs.readFileSync(file, options)\n    content = stripBom(content)\n    return JSON.parse(content, options.reviver)\n  } catch (err) {\n    if (shouldThrow) {\n      err.message = file + ': ' + err.message\n      throw err\n    } else {\n      return null\n    }\n  }\n}\n\nfunction stringify (obj, options) {\n  var spaces\n  var EOL = '\\n'\n  if (typeof options === 'object' && options !== null) {\n    if (options.spaces) {\n      spaces = options.spaces\n    }\n    if (options.EOL) {\n      EOL = options.EOL\n    }\n  }\n\n  var str = JSON.stringify(obj, options ? options.replacer : null, spaces)\n\n  return str.replace(/\\n/g, EOL) + EOL\n}\n\nfunction writeFile (file, obj, options, callback) {\n  if (callback == null) {\n    callback = options\n    options = {}\n  }\n  options = options || {}\n  var fs = options.fs || _fs\n\n  var str = ''\n  try {\n    str = stringify(obj, options)\n  } catch (err) {\n    // Need to return whether a callback was passed or not\n    if (callback) callback(err, null)\n    return\n  }\n\n  fs.writeFile(file, str, options, callback)\n}\n\nfunction writeFileSync (file, obj, options) {\n  options = options || {}\n  var fs = options.fs || _fs\n\n  var str = stringify(obj, options)\n  // not sure if fs.writeFileSync returns anything, but just in case\n  return fs.writeFileSync(file, str, options)\n}\n\nfunction stripBom (content) {\n  // we do this because JSON.parse would convert it to a utf8 string if encoding wasn't specified\n  if (Buffer.isBuffer(content)) content = content.toString('utf8')\n  content = content.replace(/^\\uFEFF/, '')\n  return content\n}\n\nvar jsonfile = {\n  readFile: readFile,\n  readFileSync: readFileSync,\n  writeFile: writeFile,\n  writeFileSync: writeFileSync\n}\n\nmodule.exports = jsonfile\n","'use strict'\n\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\nconst jsonFile = require('./jsonfile')\n\nfunction outputJson (file, data, options, callback) {\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n\n  const dir = path.dirname(file)\n\n  pathExists(dir, (err, itDoes) => {\n    if (err) return callback(err)\n    if (itDoes) return jsonFile.writeJson(file, data, options, callback)\n\n    mkdir.mkdirs(dir, err => {\n      if (err) return callback(err)\n      jsonFile.writeJson(file, data, options, callback)\n    })\n  })\n}\n\nmodule.exports = outputJson\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst jsonFile = require('./jsonfile')\n\nfunction outputJsonSync (file, data, options) {\n  const dir = path.dirname(file)\n\n  if (!fs.existsSync(dir)) {\n    mkdir.mkdirsSync(dir)\n  }\n\n  jsonFile.writeJsonSync(file, data, options)\n}\n\nmodule.exports = outputJsonSync\n","'use strict'\n\n// most of this code was written by Andrew Kelley\n// licensed under the BSD license: see\n// https://github.com/andrewrk/node-mv/blob/master/package.json\n\n// this needs a cleanup\n\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\nconst ncp = require('../copy/ncp')\nconst path = require('path')\nconst remove = require('../remove').remove\nconst mkdirp = require('../mkdirs').mkdirs\n\nfunction move (src, dest, options, callback) {\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n\n  const overwrite = options.overwrite || options.clobber || false\n\n  isSrcSubdir(src, dest, (err, itIs) => {\n    if (err) return callback(err)\n    if (itIs) return callback(new Error(`Cannot move '${src}' to a subdirectory of itself, '${dest}'.`))\n    mkdirp(path.dirname(dest), err => {\n      if (err) return callback(err)\n      doRename()\n    })\n  })\n\n  function doRename () {\n    if (path.resolve(src) === path.resolve(dest)) {\n      fs.access(src, callback)\n    } else if (overwrite) {\n      fs.rename(src, dest, err => {\n        if (!err) return callback()\n\n        if (err.code === 'ENOTEMPTY' || err.code === 'EEXIST') {\n          remove(dest, err => {\n            if (err) return callback(err)\n            options.overwrite = false // just overwriteed it, no need to do it again\n            move(src, dest, options, callback)\n          })\n          return\n        }\n\n        // weird Windows shit\n        if (err.code === 'EPERM') {\n          setTimeout(() => {\n            remove(dest, err => {\n              if (err) return callback(err)\n              options.overwrite = false\n              move(src, dest, options, callback)\n            })\n          }, 200)\n          return\n        }\n\n        if (err.code !== 'EXDEV') return callback(err)\n        moveAcrossDevice(src, dest, overwrite, callback)\n      })\n    } else {\n      fs.link(src, dest, err => {\n        if (err) {\n          if (err.code === 'EXDEV' || err.code === 'EISDIR' || err.code === 'EPERM' || err.code === 'ENOTSUP') {\n            return moveAcrossDevice(src, dest, overwrite, callback)\n          }\n          return callback(err)\n        }\n        return fs.unlink(src, callback)\n      })\n    }\n  }\n}\n\nfunction moveAcrossDevice (src, dest, overwrite, callback) {\n  fs.stat(src, (err, stat) => {\n    if (err) return callback(err)\n\n    if (stat.isDirectory()) {\n      moveDirAcrossDevice(src, dest, overwrite, callback)\n    } else {\n      moveFileAcrossDevice(src, dest, overwrite, callback)\n    }\n  })\n}\n\nfunction moveFileAcrossDevice (src, dest, overwrite, callback) {\n  const flags = overwrite ? 'w' : 'wx'\n  const ins = fs.createReadStream(src)\n  const outs = fs.createWriteStream(dest, { flags })\n\n  ins.on('error', err => {\n    ins.destroy()\n    outs.destroy()\n    outs.removeListener('close', onClose)\n\n    // may want to create a directory but `out` line above\n    // creates an empty file for us: See #108\n    // don't care about error here\n    fs.unlink(dest, () => {\n      // note: `err` here is from the input stream errror\n      if (err.code === 'EISDIR' || err.code === 'EPERM') {\n        moveDirAcrossDevice(src, dest, overwrite, callback)\n      } else {\n        callback(err)\n      }\n    })\n  })\n\n  outs.on('error', err => {\n    ins.destroy()\n    outs.destroy()\n    outs.removeListener('close', onClose)\n    callback(err)\n  })\n\n  outs.once('close', onClose)\n  ins.pipe(outs)\n\n  function onClose () {\n    fs.unlink(src, callback)\n  }\n}\n\nfunction moveDirAcrossDevice (src, dest, overwrite, callback) {\n  const options = {\n    overwrite: false\n  }\n\n  if (overwrite) {\n    remove(dest, err => {\n      if (err) return callback(err)\n      startNcp()\n    })\n  } else {\n    startNcp()\n  }\n\n  function startNcp () {\n    ncp(src, dest, options, err => {\n      if (err) return callback(err)\n      remove(src, callback)\n    })\n  }\n}\n\n// return true if dest is a subdir of src, otherwise false.\n// extract dest base dir and check if that is the same as src basename\nfunction isSrcSubdir (src, dest, cb) {\n  fs.stat(src, (err, st) => {\n    if (err) return cb(err)\n    if (st.isDirectory()) {\n      const baseDir = dest.split(path.dirname(src) + path.sep)[1]\n      if (baseDir) {\n        const destBasename = baseDir.split(path.sep)[0]\n        if (destBasename) return cb(null, src !== dest && dest.indexOf(src) > -1 && destBasename === path.basename(src))\n        return cb(null, false)\n      }\n      return cb(null, false)\n    }\n    return cb(null, false)\n  })\n}\n\nmodule.exports = {\n  move: u(move)\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst copySync = require('../copy-sync').copySync\nconst removeSync = require('../remove').removeSync\nconst mkdirpSync = require('../mkdirs').mkdirsSync\nconst buffer = require('../util/buffer')\n\nfunction moveSync (src, dest, options) {\n  options = options || {}\n  const overwrite = options.overwrite || options.clobber || false\n\n  src = path.resolve(src)\n  dest = path.resolve(dest)\n\n  if (src === dest) return fs.accessSync(src)\n\n  if (isSrcSubdir(src, dest)) throw new Error(`Cannot move '${src}' into itself '${dest}'.`)\n\n  mkdirpSync(path.dirname(dest))\n  tryRenameSync()\n\n  function tryRenameSync () {\n    if (overwrite) {\n      try {\n        return fs.renameSync(src, dest)\n      } catch (err) {\n        if (err.code === 'ENOTEMPTY' || err.code === 'EEXIST' || err.code === 'EPERM') {\n          removeSync(dest)\n          options.overwrite = false // just overwriteed it, no need to do it again\n          return moveSync(src, dest, options)\n        }\n\n        if (err.code !== 'EXDEV') throw err\n        return moveSyncAcrossDevice(src, dest, overwrite)\n      }\n    } else {\n      try {\n        fs.linkSync(src, dest)\n        return fs.unlinkSync(src)\n      } catch (err) {\n        if (err.code === 'EXDEV' || err.code === 'EISDIR' || err.code === 'EPERM' || err.code === 'ENOTSUP') {\n          return moveSyncAcrossDevice(src, dest, overwrite)\n        }\n        throw err\n      }\n    }\n  }\n}\n\nfunction moveSyncAcrossDevice (src, dest, overwrite) {\n  const stat = fs.statSync(src)\n\n  if (stat.isDirectory()) {\n    return moveDirSyncAcrossDevice(src, dest, overwrite)\n  } else {\n    return moveFileSyncAcrossDevice(src, dest, overwrite)\n  }\n}\n\nfunction moveFileSyncAcrossDevice (src, dest, overwrite) {\n  const BUF_LENGTH = 64 * 1024\n  const _buff = buffer(BUF_LENGTH)\n\n  const flags = overwrite ? 'w' : 'wx'\n\n  const fdr = fs.openSync(src, 'r')\n  const stat = fs.fstatSync(fdr)\n  const fdw = fs.openSync(dest, flags, stat.mode)\n  let bytesRead = 1\n  let pos = 0\n\n  while (bytesRead > 0) {\n    bytesRead = fs.readSync(fdr, _buff, 0, BUF_LENGTH, pos)\n    fs.writeSync(fdw, _buff, 0, bytesRead)\n    pos += bytesRead\n  }\n\n  fs.closeSync(fdr)\n  fs.closeSync(fdw)\n  return fs.unlinkSync(src)\n}\n\nfunction moveDirSyncAcrossDevice (src, dest, overwrite) {\n  const options = {\n    overwrite: false\n  }\n\n  if (overwrite) {\n    removeSync(dest)\n    tryCopySync()\n  } else {\n    tryCopySync()\n  }\n\n  function tryCopySync () {\n    copySync(src, dest, options)\n    return removeSync(src)\n  }\n}\n\n// return true if dest is a subdir of src, otherwise false.\n// extract dest base dir and check if that is the same as src basename\nfunction isSrcSubdir (src, dest) {\n  try {\n    return fs.statSync(src).isDirectory() &&\n           src !== dest &&\n           dest.indexOf(src) > -1 &&\n           dest.split(path.dirname(src) + path.sep)[1].split(path.sep)[0] === path.basename(src)\n  } catch (e) {\n    return false\n  }\n}\n\nmodule.exports = {\n  moveSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst fs = require('fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst remove = require('../remove')\n\nconst emptyDir = u(function emptyDir (dir, callback) {\n  callback = callback || function () {}\n  fs.readdir(dir, (err, items) => {\n    if (err) return mkdir.mkdirs(dir, callback)\n\n    items = items.map(item => path.join(dir, item))\n\n    deleteItem()\n\n    function deleteItem () {\n      const item = items.pop()\n      if (!item) return callback()\n      remove.remove(item, err => {\n        if (err) return callback(err)\n        deleteItem()\n      })\n    }\n  })\n})\n\nfunction emptyDirSync (dir) {\n  let items\n  try {\n    items = fs.readdirSync(dir)\n  } catch (err) {\n    return mkdir.mkdirsSync(dir)\n  }\n\n  items.forEach(item => {\n    item = path.join(dir, item)\n    remove.removeSync(item)\n  })\n}\n\nmodule.exports = {\n  emptyDirSync,\n  emptydirSync: emptyDirSync,\n  emptyDir,\n  emptydir: emptyDir\n}\n","'use strict'\n\nconst file = require('./file')\nconst link = require('./link')\nconst symlink = require('./symlink')\n\nmodule.exports = {\n  // file\n  createFile: file.createFile,\n  createFileSync: file.createFileSync,\n  ensureFile: file.createFile,\n  ensureFileSync: file.createFileSync,\n  // link\n  createLink: link.createLink,\n  createLinkSync: link.createLinkSync,\n  ensureLink: link.createLink,\n  ensureLinkSync: link.createLinkSync,\n  // symlink\n  createSymlink: symlink.createSymlink,\n  createSymlinkSync: symlink.createSymlinkSync,\n  ensureSymlink: symlink.createSymlink,\n  ensureSymlinkSync: symlink.createSymlinkSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction createFile (file, callback) {\n  function makeFile () {\n    fs.writeFile(file, '', err => {\n      if (err) return callback(err)\n      callback()\n    })\n  }\n\n  fs.stat(file, (err, stats) => { // eslint-disable-line handle-callback-err\n    if (!err && stats.isFile()) return callback()\n    const dir = path.dirname(file)\n    pathExists(dir, (err, dirExists) => {\n      if (err) return callback(err)\n      if (dirExists) return makeFile()\n      mkdir.mkdirs(dir, err => {\n        if (err) return callback(err)\n        makeFile()\n      })\n    })\n  })\n}\n\nfunction createFileSync (file) {\n  let stats\n  try {\n    stats = fs.statSync(file)\n  } catch (e) {}\n  if (stats && stats.isFile()) return\n\n  const dir = path.dirname(file)\n  if (!fs.existsSync(dir)) {\n    mkdir.mkdirsSync(dir)\n  }\n\n  fs.writeFileSync(file, '')\n}\n\nmodule.exports = {\n  createFile: u(createFile),\n  createFileSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction createLink (srcpath, dstpath, callback) {\n  function makeLink (srcpath, dstpath) {\n    fs.link(srcpath, dstpath, err => {\n      if (err) return callback(err)\n      callback(null)\n    })\n  }\n\n  pathExists(dstpath, (err, destinationExists) => {\n    if (err) return callback(err)\n    if (destinationExists) return callback(null)\n    fs.lstat(srcpath, (err, stat) => {\n      if (err) {\n        err.message = err.message.replace('lstat', 'ensureLink')\n        return callback(err)\n      }\n\n      const dir = path.dirname(dstpath)\n      pathExists(dir, (err, dirExists) => {\n        if (err) return callback(err)\n        if (dirExists) return makeLink(srcpath, dstpath)\n        mkdir.mkdirs(dir, err => {\n          if (err) return callback(err)\n          makeLink(srcpath, dstpath)\n        })\n      })\n    })\n  })\n}\n\nfunction createLinkSync (srcpath, dstpath, callback) {\n  const destinationExists = fs.existsSync(dstpath)\n  if (destinationExists) return undefined\n\n  try {\n    fs.lstatSync(srcpath)\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink')\n    throw err\n  }\n\n  const dir = path.dirname(dstpath)\n  const dirExists = fs.existsSync(dir)\n  if (dirExists) return fs.linkSync(srcpath, dstpath)\n  mkdir.mkdirsSync(dir)\n\n  return fs.linkSync(srcpath, dstpath)\n}\n\nmodule.exports = {\n  createLink: u(createLink),\n  createLinkSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst _mkdirs = require('../mkdirs')\nconst mkdirs = _mkdirs.mkdirs\nconst mkdirsSync = _mkdirs.mkdirsSync\n\nconst _symlinkPaths = require('./symlink-paths')\nconst symlinkPaths = _symlinkPaths.symlinkPaths\nconst symlinkPathsSync = _symlinkPaths.symlinkPathsSync\n\nconst _symlinkType = require('./symlink-type')\nconst symlinkType = _symlinkType.symlinkType\nconst symlinkTypeSync = _symlinkType.symlinkTypeSync\n\nconst pathExists = require('../path-exists').pathExists\n\nfunction createSymlink (srcpath, dstpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n\n  pathExists(dstpath, (err, destinationExists) => {\n    if (err) return callback(err)\n    if (destinationExists) return callback(null)\n    symlinkPaths(srcpath, dstpath, (err, relative) => {\n      if (err) return callback(err)\n      srcpath = relative.toDst\n      symlinkType(relative.toCwd, type, (err, type) => {\n        if (err) return callback(err)\n        const dir = path.dirname(dstpath)\n        pathExists(dir, (err, dirExists) => {\n          if (err) return callback(err)\n          if (dirExists) return fs.symlink(srcpath, dstpath, type, callback)\n          mkdirs(dir, err => {\n            if (err) return callback(err)\n            fs.symlink(srcpath, dstpath, type, callback)\n          })\n        })\n      })\n    })\n  })\n}\n\nfunction createSymlinkSync (srcpath, dstpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n\n  const destinationExists = fs.existsSync(dstpath)\n  if (destinationExists) return undefined\n\n  const relative = symlinkPathsSync(srcpath, dstpath)\n  srcpath = relative.toDst\n  type = symlinkTypeSync(relative.toCwd, type)\n  const dir = path.dirname(dstpath)\n  const exists = fs.existsSync(dir)\n  if (exists) return fs.symlinkSync(srcpath, dstpath, type)\n  mkdirsSync(dir)\n  return fs.symlinkSync(srcpath, dstpath, type)\n}\n\nmodule.exports = {\n  createSymlink: u(createSymlink),\n  createSymlinkSync\n}\n","'use strict'\n\nconst path = require('path')\nconst fs = require('graceful-fs')\nconst pathExists = require('../path-exists').pathExists\n\n/**\n * Function that returns two types of paths, one relative to symlink, and one\n * relative to the current working directory. Checks if path is absolute or\n * relative. If the path is relative, this function checks if the path is\n * relative to symlink or relative to current working directory. This is an\n * initiative to find a smarter `srcpath` to supply when building symlinks.\n * This allows you to determine which path to use out of one of three possible\n * types of source paths. The first is an absolute path. This is detected by\n * `path.isAbsolute()`. When an absolute path is provided, it is checked to\n * see if it exists. If it does it's used, if not an error is returned\n * (callback)/ thrown (sync). The other two options for `srcpath` are a\n * relative url. By default Node's `fs.symlink` works by creating a symlink\n * using `dstpath` and expects the `srcpath` to be relative to the newly\n * created symlink. If you provide a `srcpath` that does not exist on the file\n * system it results in a broken symlink. To minimize this, the function\n * checks to see if the 'relative to symlink' source file exists, and if it\n * does it will use it. If it does not, it checks if there's a file that\n * exists that is relative to the current working directory, if does its used.\n * This preserves the expectations of the original fs.symlink spec and adds\n * the ability to pass in `relative to current working direcotry` paths.\n */\n\nfunction symlinkPaths (srcpath, dstpath, callback) {\n  if (path.isAbsolute(srcpath)) {\n    return fs.lstat(srcpath, (err, stat) => {\n      if (err) {\n        err.message = err.message.replace('lstat', 'ensureSymlink')\n        return callback(err)\n      }\n      return callback(null, {\n        'toCwd': srcpath,\n        'toDst': srcpath\n      })\n    })\n  } else {\n    const dstdir = path.dirname(dstpath)\n    const relativeToDst = path.join(dstdir, srcpath)\n    return pathExists(relativeToDst, (err, exists) => {\n      if (err) return callback(err)\n      if (exists) {\n        return callback(null, {\n          'toCwd': relativeToDst,\n          'toDst': srcpath\n        })\n      } else {\n        return fs.lstat(srcpath, (err, stat) => {\n          if (err) {\n            err.message = err.message.replace('lstat', 'ensureSymlink')\n            return callback(err)\n          }\n          return callback(null, {\n            'toCwd': srcpath,\n            'toDst': path.relative(dstdir, srcpath)\n          })\n        })\n      }\n    })\n  }\n}\n\nfunction symlinkPathsSync (srcpath, dstpath) {\n  let exists\n  if (path.isAbsolute(srcpath)) {\n    exists = fs.existsSync(srcpath)\n    if (!exists) throw new Error('absolute srcpath does not exist')\n    return {\n      'toCwd': srcpath,\n      'toDst': srcpath\n    }\n  } else {\n    const dstdir = path.dirname(dstpath)\n    const relativeToDst = path.join(dstdir, srcpath)\n    exists = fs.existsSync(relativeToDst)\n    if (exists) {\n      return {\n        'toCwd': relativeToDst,\n        'toDst': srcpath\n      }\n    } else {\n      exists = fs.existsSync(srcpath)\n      if (!exists) throw new Error('relative srcpath does not exist')\n      return {\n        'toCwd': srcpath,\n        'toDst': path.relative(dstdir, srcpath)\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  symlinkPaths,\n  symlinkPathsSync\n}\n","'use strict'\n\nconst fs = require('graceful-fs')\n\nfunction symlinkType (srcpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n  if (type) return callback(null, type)\n  fs.lstat(srcpath, (err, stats) => {\n    if (err) return callback(null, 'file')\n    type = (stats && stats.isDirectory()) ? 'dir' : 'file'\n    callback(null, type)\n  })\n}\n\nfunction symlinkTypeSync (srcpath, type) {\n  let stats\n\n  if (type) return type\n  try {\n    stats = fs.lstatSync(srcpath)\n  } catch (e) {\n    return 'file'\n  }\n  return (stats && stats.isDirectory()) ? 'dir' : 'file'\n}\n\nmodule.exports = {\n  symlinkType,\n  symlinkTypeSync\n}\n","'use strict'\n\nconst u = require('universalify').fromCallback\nconst fs = require('graceful-fs')\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\n\nfunction outputFile (file, data, encoding, callback) {\n  if (typeof encoding === 'function') {\n    callback = encoding\n    encoding = 'utf8'\n  }\n\n  const dir = path.dirname(file)\n  pathExists(dir, (err, itDoes) => {\n    if (err) return callback(err)\n    if (itDoes) return fs.writeFile(file, data, encoding, callback)\n\n    mkdir.mkdirs(dir, err => {\n      if (err) return callback(err)\n\n      fs.writeFile(file, data, encoding, callback)\n    })\n  })\n}\n\nfunction outputFileSync (file, data, encoding) {\n  const dir = path.dirname(file)\n  if (fs.existsSync(dir)) {\n    return fs.writeFileSync.apply(fs, arguments)\n  }\n  mkdir.mkdirsSync(dir)\n  fs.writeFileSync.apply(fs, arguments)\n}\n\nmodule.exports = {\n  outputFile: u(outputFile),\n  outputFileSync\n}\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ee = require(\"events\");\nconst messages_1 = require(\"./messages\");\nclass ProtocolServer extends ee.EventEmitter {\n    constructor() {\n        super();\n        this._pendingRequests = new Map();\n    }\n    start(inStream, outStream) {\n        this._sequence = 1;\n        this._writableStream = outStream;\n        this._rawData = new Buffer(0);\n        inStream.on('data', (data) => this._handleData(data));\n        inStream.on('close', () => {\n            this._emitEvent(new messages_1.Event('close'));\n        });\n        inStream.on('error', (error) => {\n            this._emitEvent(new messages_1.Event('error', 'inStream error: ' + (error && error.message)));\n        });\n        outStream.on('error', (error) => {\n            this._emitEvent(new messages_1.Event('error', 'outStream error: ' + (error && error.message)));\n        });\n        inStream.resume();\n    }\n    stop() {\n        if (this._writableStream) {\n            this._writableStream.end();\n        }\n    }\n    sendEvent(event) {\n        this._send('event', event);\n    }\n    sendResponse(response) {\n        if (response.seq > 0) {\n            console.error(`attempt to send more than one response for command ${response.command}`);\n        }\n        else {\n            this._send('response', response);\n        }\n    }\n    sendRequest(command, args, timeout, cb) {\n        const request = {\n            command: command\n        };\n        if (args && Object.keys(args).length > 0) {\n            request.arguments = args;\n        }\n        if (!this._writableStream) {\n            this._emitEvent(new messages_1.Event('error', 'sendRequest: No writableStream'));\n            return;\n        }\n        this._send('request', request);\n        if (cb) {\n            this._pendingRequests.set(request.seq, cb);\n            const timer = setTimeout(() => {\n                clearTimeout(timer);\n                const clb = this._pendingRequests.get(request.seq);\n                if (clb) {\n                    this._pendingRequests.delete(request.seq);\n                    clb(new messages_1.Response(request, 'timeout'));\n                }\n            }, timeout);\n        }\n    }\n    // ---- protected ----------------------------------------------------------\n    dispatchRequest(request) {\n    }\n    // ---- private ------------------------------------------------------------\n    _emitEvent(event) {\n        this.emit(event.event, event);\n    }\n    _send(typ, message) {\n        message.type = typ;\n        message.seq = this._sequence++;\n        if (this._writableStream) {\n            const json = JSON.stringify(message);\n            this._writableStream.write(`Content-Length: ${Buffer.byteLength(json, 'utf8')}\\r\\n\\r\\n${json}`, 'utf8');\n        }\n    }\n    _handleData(data) {\n        this._rawData = Buffer.concat([this._rawData, data]);\n        while (true) {\n            if (this._contentLength >= 0) {\n                if (this._rawData.length >= this._contentLength) {\n                    const message = this._rawData.toString('utf8', 0, this._contentLength);\n                    this._rawData = this._rawData.slice(this._contentLength);\n                    this._contentLength = -1;\n                    if (message.length > 0) {\n                        try {\n                            let msg = JSON.parse(message);\n                            if (msg.type === 'request') {\n                                this.dispatchRequest(msg);\n                            }\n                            else if (msg.type === 'response') {\n                                const response = msg;\n                                const clb = this._pendingRequests.get(response.request_seq);\n                                if (clb) {\n                                    this._pendingRequests.delete(response.request_seq);\n                                    clb(response);\n                                }\n                            }\n                        }\n                        catch (e) {\n                            this._emitEvent(new messages_1.Event('error', 'Error handling data: ' + (e && e.message)));\n                        }\n                    }\n                    continue; // there may be more complete messages to process\n                }\n            }\n            else {\n                const idx = this._rawData.indexOf(ProtocolServer.TWO_CRLF);\n                if (idx !== -1) {\n                    const header = this._rawData.toString('utf8', 0, idx);\n                    const lines = header.split('\\r\\n');\n                    for (let i = 0; i < lines.length; i++) {\n                        const pair = lines[i].split(/: +/);\n                        if (pair[0] == 'Content-Length') {\n                            this._contentLength = +pair[1];\n                        }\n                    }\n                    this._rawData = this._rawData.slice(idx + ProtocolServer.TWO_CRLF.length);\n                    continue;\n                }\n            }\n            break;\n        }\n    }\n}\nProtocolServer.TWO_CRLF = '\\r\\n\\r\\n';\nexports.ProtocolServer = ProtocolServer;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdG9jb2wuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvcHJvdG9jb2wudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Z0dBR2dHOztBQUVoRyw2QkFBNkI7QUFFN0IseUNBQTZDO0FBRzdDLE1BQWEsY0FBZSxTQUFRLEVBQUUsQ0FBQyxZQUFZO0lBVWxEO1FBQ0MsS0FBSyxFQUFFLENBQUM7UUFIRCxxQkFBZ0IsR0FBRyxJQUFJLEdBQUcsRUFBc0QsQ0FBQztJQUl6RixDQUFDO0lBRU0sS0FBSyxDQUFDLFFBQStCLEVBQUUsU0FBZ0M7UUFDN0UsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLGVBQWUsR0FBRyxTQUFTLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU5QixRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQVksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRTlELFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtZQUN6QixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksZ0JBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO1FBQ0gsUUFBUSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUM5QixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksZ0JBQUssQ0FBQyxPQUFPLEVBQUUsa0JBQWtCLEdBQUcsQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwRixDQUFDLENBQUMsQ0FBQztRQUVILFNBQVMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDL0Is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QUFDLEdBQUcsR0FBRyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUMxRSxTQUFTO2lCQUNUO2FBQ0Q7WUFDRCxNQUFNO1NBQ047SUFDRixDQUFDOztBQXRKYyx1QkFBUSxHQUFHLFVBQVUsQ0FBQztBQUZ0Qyx3Q0F5SkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0ICogYXMgZWUgZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IERlYnVnUHJvdG9jb2wgfSBmcm9tICd2c2NvZGUtZGVidWdwcm90b2NvbCc7XG5pbXBvcnQgeyBSZXNwb25zZSwgRXZlbnQgfSBmcm9tICcuL21lc3NhZ2VzJztcblxuXG5leHBvcnQgY2xhc3MgUHJvdG9jb2xTZXJ2ZXIgZXh0ZW5kcyBlZS5FdmVudEVtaXR0ZXIge1xuXG5cdHByaXZhdGUgc3RhdGljIFRXT19DUkxGID0gJ1xcclxcblxcclxcbic7XG5cblx0cHJpdmF0ZSBfcmF3RGF0YTogQnVmZmVyO1xuXHRwcml2YXRlIF9jb250ZW50TGVuZ3RoOiBudW1iZXI7XG5cdHByaXZhdGUgX3NlcXVlbmNlOiBudW1iZXI7XG5cdHByaXZhdGUgX3dyaXRhYmxlU3RyZWFtOiBOb2RlSlMuV3JpdGFibGVTdHJlYW07XG5cdHByaXZhdGUgX3BlbmRpbmdSZXF1ZXN0cyA9IG5ldyBNYXA8bnVtYmVyLCAocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmVzcG9uc2UpID0+IHZvaWQ+KCk7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblx0fVxuXG5cdHB1YmxpYyBzdGFydChpblN0cmVhbTogTm9kZUpTLlJlYWRhYmxlU3RyZWFtLCBvdXRTdHJlYW06IE5vZGVKUy5Xcml0YWJsZVN0cmVhbSk6IHZvaWQge1xuXHRcdHRoaXMuX3NlcXVlbmNlID0gMTtcblx0XHR0aGlzLl93cml0YWJsZVN0cmVhbSA9IG91dFN0cmVhbTtcblx0XHR0aGlzLl9yYXdEYXRhID0gbmV3IEJ1ZmZlcigwKTtcblxuXHRcdGluU3RyZWFtLm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4gdGhpcy5faGFuZGxlRGF0YShkYXRhKSk7XG5cblx0XHRpblN0cmVhbS5vbignY2xvc2UnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLl9lbWl0RXZlbnQobmV3IEV2ZW50KCdjbG9zZScpKTtcblx0XHR9KTtcblx0XHRpblN0cmVhbS5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcblx0XHRcdHRoaXMuX2VtaXRFdmVudChuZXcgRXZlbnQoJ2Vycm9yJywgJ2luU3RyZWFtIGVycm9yOiAnICsgKGVycm9yICYmIGVycm9yLm1lc3NhZ2UpKSk7XG5cdFx0fSk7XG5cblx0XHRvdXRTdHJlYW0ub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG5cdFx0XHR0aGlzLl9lbWl0RXZlbnQobmV3IEV2ZW50KCdlcnJvcicsICdvdXRTdHJlYW0gZXJyb3I6ICcgKyAoZXJyb3IgJiYgZXJyb3IubWVzc2FnZSkpKTtcblx0XHR9KTtcblxuXHRcdGluU3RyZWFtLnJlc3VtZSgpO1xuXHR9XG5cblx0cHVibGljIHN0b3AoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuX3dyaXRhYmxlU3RyZWFtKSB7XG5cdFx0XHR0aGlzLl93cml0YWJsZVN0cmVhbS5lbmQoKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgc2VuZEV2ZW50KGV2ZW50OiBEZWJ1Z1Byb3RvY29sLkV2ZW50KTogdm9pZCB7XG5cdFx0dGhpcy5fc2VuZCgnZXZlbnQnLCBldmVudCk7XG5cdH1cblxuXHRwdWJsaWMgc2VuZFJlc3BvbnNlKHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlKTogdm9pZCB7XG5cdFx0aWYgKHJlc3BvbnNlLnNlcSA+IDApIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYGF0dGVtcHQgdG8gc2VuZCBtb3JlIHRoYW4gb25lIHJlc3BvbnNlIGZvciBjb21tYW5kICR7cmVzcG9uc2UuY29tbWFuZH1gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fc2VuZCgncmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHNlbmRSZXF1ZXN0KGNvbW1hbmQ6IHN0cmluZywgYXJnczogYW55LCB0aW1lb3V0OiBudW1iZXIsIGNiOiAocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmVzcG9uc2UpID0+IHZvaWQpIDogdm9pZCB7XG5cblx0XHRjb25zdCByZXF1ZXN0OiBhbnkgPSB7XG5cdFx0XHRjb21tYW5kOiBjb21tYW5kXG5cdFx0fTtcblx0XHRpZiAoYXJncyAmJiBPYmplY3Qua2V5cyhhcmdzKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRyZXF1ZXN0LmFyZ3VtZW50cyA9IGFyZ3M7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLl93cml0YWJsZVN0cmVhbSkge1xuXHRcdFx0dGhpcy5fZW1pdEV2ZW50KG5ldyBFdmVudCgnZXJyb3InLCAnc2VuZFJlcXVlc3Q6IE5vIHdyaXRhYmxlU3RyZWFtJykpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3NlbmQoJ3JlcXVlc3QnLCByZXF1ZXN0KTtcblxuXHRcdGlmIChjYikge1xuXHRcdFx0dGhpcy5fcGVuZGluZ1JlcXVlc3RzLnNldChyZXF1ZXN0LnNlcSwgY2IpO1xuXG5cdFx0XHRjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdFx0XHRjb25zdCBjbGIgPSB0aGlzLl9wZW5kaW5nUmVxdWVzdHMuZ2V0KHJlcXVlc3Quc2VxKTtcblx0XHRcdFx0aWYgKGNsYikge1xuXHRcdFx0XHRcdHRoaXMuX3BlbmRpbmdSZXF1ZXN0cy5kZWxldGUocmVxdWVzdC5zZXEpO1xuXHRcdFx0XHRcdGNsYihuZXcgUmVzcG9uc2UocmVxdWVzdCwgJ3RpbWVvdXQnKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRpbWVvdXQpO1xuXHRcdH1cblx0fVxuXG5cdC8vIC0tLS0gcHJvdGVjdGVkIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRwcm90ZWN0ZWQgZGlzcGF0Y2hSZXF1ZXN0KHJlcXVlc3Q6IERlYnVnUHJvdG9jb2wuUmVxdWVzdCk6IHZvaWQge1xuXHR9XG5cblx0Ly8gLS0tLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdHByaXZhdGUgX2VtaXRFdmVudChldmVudDogRGVidWdQcm90b2NvbC5FdmVudCkge1xuXHRcdHRoaXMuZW1pdChldmVudC5ldmVudCwgZXZlbnQpO1xuXHR9XG5cblx0cHJpdmF0ZSBfc2VuZCh0eXA6ICdyZXF1ZXN0JyB8ICdyZXNwb25zZScgfCAnZXZlbnQnLCBtZXNzYWdlOiBEZWJ1Z1Byb3RvY29sLlByb3RvY29sTWVzc2FnZSk6IHZvaWQge1xuXG5cdFx0bWVzc2FnZS50eXBlID0gdHlwO1xuXHRcdG1lc3NhZ2Uuc2VxID0gdGhpcy5fc2VxdWVuY2UrKztcblxuXHRcdGlmICh0aGlzLl93cml0YWJsZVN0cmVhbSkge1xuXHRcdFx0Y29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpO1xuXHRcdFx0dGhpcy5fd3JpdGFibGVTdHJlYW0ud3JpdGUoYENvbnRlbnQtTGVuZ3RoOiAke0J1ZmZlci5ieXRlTGVuZ3RoKGpzb24sICd1dGY4Jyl9XFxyXFxuXFxyXFxuJHtqc29ufWAsICd1dGY4Jyk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBfaGFuZGxlRGF0YShkYXRhOiBCdWZmZXIpOiB2b2lkIHtcblxuXHRcdHRoaXMuX3Jhd0RhdGEgPSBCdWZmZXIuY29uY2F0KFt0aGlzLl9yYXdEYXRhLCBkYXRhXSk7XG5cblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0aWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggPj0gMCkge1xuXHRcdFx0XHRpZiAodGhpcy5fcmF3RGF0YS5sZW5ndGggPj0gdGhpcy5fY29udGVudExlbmd0aCkge1xuXHRcdFx0XHRcdGNvbnN0IG1lc3NhZ2UgPSB0aGlzLl9yYXdEYXRhLnRvU3RyaW5nKCd1dGY4JywgMCwgdGhpcy5fY29udGVudExlbmd0aCk7XG5cdFx0XHRcdFx0dGhpcy5fcmF3RGF0YSA9IHRoaXMuX3Jhd0RhdGEuc2xpY2UodGhpcy5fY29udGVudExlbmd0aCk7XG5cdFx0XHRcdFx0dGhpcy5fY29udGVudExlbmd0aCA9IC0xO1xuXHRcdFx0XHRcdGlmIChtZXNzYWdlLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGxldCBtc2c6IERlYnVnUHJvdG9jb2wuUHJvdG9jb2xNZXNzYWdlID0gSlNPTi5wYXJzZShtZXNzYWdlKTtcblx0XHRcdFx0XHRcdFx0aWYgKG1zZy50eXBlID09PSAncmVxdWVzdCcpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BhdGNoUmVxdWVzdCg8RGVidWdQcm90b2NvbC5SZXF1ZXN0PiBtc2cpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKG1zZy50eXBlID09PSAncmVzcG9uc2UnKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSA8RGVidWdQcm90b2NvbC5SZXNwb25zZT4gbXNnO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGNsYiA9IHRoaXMuX3BlbmRpbmdSZXF1ZXN0cy5nZXQocmVzcG9uc2UucmVxdWVzdF9zZXEpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChjbGIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuX3BlbmRpbmdSZXF1ZXN0cy5kZWxldGUocmVzcG9uc2UucmVxdWVzdF9zZXEpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2xiKHJlc3BvbnNlKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2VtaXRFdmVudChuZXcgRXZlbnQoJ2Vycm9yJywgJ0Vycm9yIGhhbmRsaW5nIGRhdGE6ICcgKyAoZSAmJiBlLm1lc3NhZ2UpKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1x0Ly8gdGhlcmUgbWF5IGJlIG1vcmUgY29tcGxldGUgbWVzc2FnZXMgdG8gcHJvY2Vzc1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBpZHggPSB0aGlzLl9yYXdEYXRhLmluZGV4T2YoUHJvdG9jb2xTZXJ2ZXIuVFdPX0NSTEYpO1xuXHRcdFx0XHRpZiAoaWR4ICE9PSAtMSkge1xuXHRcdFx0XHRcdGNvbnN0IGhlYWRlciA9IHRoaXMuX3Jhd0RhdGEudG9TdHJpbmcoJ3V0ZjgnLCAwLCBpZHgpO1xuXHRcdFx0XHRcdGNvbnN0IGxpbmVzID0gaGVhZGVyLnNwbGl0KCdcXHJcXG4nKTtcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBwYWlyID0gbGluZXNbaV0uc3BsaXQoLzogKy8pO1xuXHRcdFx0XHRcdFx0aWYgKHBhaXJbMF0gPT0gJ0NvbnRlbnQtTGVuZ3RoJykge1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9jb250ZW50TGVuZ3RoID0gK3BhaXJbMV07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuX3Jhd0RhdGEgPSB0aGlzLl9yYXdEYXRhLnNsaWNlKGlkeCArIFByb3RvY29sU2VydmVyLlRXT19DUkxGLmxlbmd0aCk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxufVxuIl19","module.exports = require(\"url\");","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Logger = require(\"./logger\");\nconst logger = Logger.logger;\nconst debugSession_1 = require(\"./debugSession\");\nclass LoggingDebugSession extends debugSession_1.DebugSession {\n    constructor(obsolete_logFilePath, obsolete_debuggerLinesAndColumnsStartAt1, obsolete_isServer) {\n        super(obsolete_debuggerLinesAndColumnsStartAt1, obsolete_isServer);\n        this.obsolete_logFilePath = obsolete_logFilePath;\n        this.on('error', (event) => {\n            logger.error(event.body);\n        });\n    }\n    start(inStream, outStream) {\n        super.start(inStream, outStream);\n        logger.init(e => this.sendEvent(e), this.obsolete_logFilePath, this._isServer);\n    }\n    /**\n     * Overload sendEvent to log\n     */\n    sendEvent(event) {\n        if (!(event instanceof Logger.LogOutputEvent)) {\n            // Don't create an infinite loop...\n            logger.verbose(`To client: ${JSON.stringify(event)}`);\n        }\n        super.sendEvent(event);\n    }\n    /**\n     * Overload sendRequest to log\n     */\n    sendRequest(command, args, timeout, cb) {\n        logger.verbose(`To client: ${JSON.stringify(command)}(${JSON.stringify(args)}), timeout: ${timeout}`);\n        super.sendRequest(command, args, timeout, cb);\n    }\n    /**\n     * Overload sendResponse to log\n     */\n    sendResponse(response) {\n        logger.verbose(`To client: ${JSON.stringify(response)}`);\n        super.sendResponse(response);\n    }\n    dispatchRequest(request) {\n        logger.verbose(`From client: ${request.command}(${JSON.stringify(request.arguments)})`);\n        super.dispatchRequest(request);\n    }\n}\nexports.LoggingDebugSession = LoggingDebugSession;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2luZ0RlYnVnU2Vzc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9sb2dnaW5nRGVidWdTZXNzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7O2dHQUdnRzs7QUFJaEcsbUNBQW1DO0FBQ25DLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFDN0IsaURBQTRDO0FBRTVDLE1BQWEsbUJBQW9CLFNBQVEsMkJBQVk7SUFDcEQsWUFBMkIsb0JBQTZCLEVBQUUsd0NBQWtELEVBQUUsaUJBQTJCO1FBQ3hJLEtBQUssQ0FBQyx3Q0FBd0MsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBRHpDLHlCQUFvQixHQUFwQixvQkFBb0IsQ0FBUztRQUd2RCxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLEtBQTBCLEVBQUUsRUFBRTtZQUMvQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQixDQUFDLENBQUMsQ0FBQztJQUNKLENBQUM7SUFFTSxLQUFLLENBQUMsUUFBK0IsRUFBRSxTQUFnQztRQUM3RSxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUNqQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2hGLENBQUM7SUFFRDs7T0FFRztJQUNJLFNBQVMsQ0FBQyxLQUEwQjtRQUMxQyxJQUFJLENBQUMsQ0FBQyxLQUFLLFlBQVksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQzlDLG1DQUFtQztZQUNuQyxNQUFNLENBQUMsT0FBTyxDQUFDLGNBQWMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDdEQ7UUFFRCxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFFRDs7T0FFRztJQUNJLFdBQVcsQ0FBQyxPQUFlLEVBQUUsSUFBUyxFQUFFLE9BQWUsRUFBRSxFQUE4QztRQUM3RyxNQUFNLENBQUMsT0FBTyxDQUFDLGNBQWMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxlQUFlLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDdEcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUQ7O09BRUc7SUFDSSxZQUFZLENBQUMsUUFBZ0M7UUFDbkQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxjQUFjLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3pELEtBQUssQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVTLGVBQWUsQ0FBQyxPQUE4QjtRQUN2RCxNQUFNLENBQUMsT0FBTyxDQUFDLGdCQUFnQixPQUFPLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBRSxHQUFHLENBQUMsQ0FBQztRQUN6RixLQUFLLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2hDLENBQUM7Q0FDRDtBQTlDRCxrREE4Q0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHtEZWJ1Z1Byb3RvY29sfSBmcm9tICd2c2NvZGUtZGVidWdwcm90b2NvbCc7XG5cbmltcG9ydCAqIGFzIExvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5jb25zdCBsb2dnZXIgPSBMb2dnZXIubG9nZ2VyO1xuaW1wb3J0IHtEZWJ1Z1Nlc3Npb259IGZyb20gJy4vZGVidWdTZXNzaW9uJztcblxuZXhwb3J0IGNsYXNzIExvZ2dpbmdEZWJ1Z1Nlc3Npb24gZXh0ZW5kcyBEZWJ1Z1Nlc3Npb24ge1xuXHRwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBvYnNvbGV0ZV9sb2dGaWxlUGF0aD86IHN0cmluZywgb2Jzb2xldGVfZGVidWdnZXJMaW5lc0FuZENvbHVtbnNTdGFydEF0MT86IGJvb2xlYW4sIG9ic29sZXRlX2lzU2VydmVyPzogYm9vbGVhbikge1xuXHRcdHN1cGVyKG9ic29sZXRlX2RlYnVnZ2VyTGluZXNBbmRDb2x1bW5zU3RhcnRBdDEsIG9ic29sZXRlX2lzU2VydmVyKTtcblxuXHRcdHRoaXMub24oJ2Vycm9yJywgKGV2ZW50OiBEZWJ1Z1Byb3RvY29sLkV2ZW50KSA9PiB7XG5cdFx0XHRsb2dnZXIuZXJyb3IoZXZlbnQuYm9keSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgc3RhcnQoaW5TdHJlYW06IE5vZGVKUy5SZWFkYWJsZVN0cmVhbSwgb3V0U3RyZWFtOiBOb2RlSlMuV3JpdGFibGVTdHJlYW0pOiB2b2lkIHtcblx0XHRzdXBlci5zdGFydChpblN0cmVhbSwgb3V0U3RyZWFtKTtcblx0XHRsb2dnZXIuaW5pdChlID0+IHRoaXMuc2VuZEV2ZW50KGUpLCB0aGlzLm9ic29sZXRlX2xvZ0ZpbGVQYXRoLCB0aGlzLl9pc1NlcnZlcik7XG5cdH1cblxuXHQvKipcblx0ICogT3ZlcmxvYWQgc2VuZEV2ZW50IHRvIGxvZ1xuXHQgKi9cblx0cHVibGljIHNlbmRFdmVudChldmVudDogRGVidWdQcm90b2NvbC5FdmVudCk6IHZvaWQge1xuXHRcdGlmICghKGV2ZW50IGluc3RhbmNlb2YgTG9nZ2VyLkxvZ091dHB1dEV2ZW50KSkge1xuXHRcdFx0Ly8gRG9uJ3QgY3JlYXRlIGFuIGluZmluaXRlIGxvb3AuLi5cblx0XHRcdGxvZ2dlci52ZXJib3NlKGBUbyBjbGllbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZXZlbnQpfWApO1xuXHRcdH1cblxuXHRcdHN1cGVyLnNlbmRFdmVudChldmVudCk7XG5cdH1cblxuXHQvKipcblx0ICogT3ZlcmxvYWQgc2VuZFJlcXVlc3QgdG8gbG9nXG5cdCAqL1xuXHRwdWJsaWMgc2VuZFJlcXVlc3QoY29tbWFuZDogc3RyaW5nLCBhcmdzOiBhbnksIHRpbWVvdXQ6IG51bWJlciwgY2I6IChyZXNwb25zZTogRGVidWdQcm90b2NvbC5SZXNwb25zZSkgPT4gdm9pZCk6IHZvaWQge1xuXHRcdGxvZ2dlci52ZXJib3NlKGBUbyBjbGllbnQ6ICR7SlNPTi5zdHJpbmdpZnkoY29tbWFuZCl9KCR7SlNPTi5zdHJpbmdpZnkoYXJncyl9KSwgdGltZW91dDogJHt0aW1lb3V0fWApO1xuXHRcdHN1cGVyLnNlbmRSZXF1ZXN0KGNvbW1hbmQsIGFyZ3MsIHRpbWVvdXQsIGNiKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBPdmVybG9hZCBzZW5kUmVzcG9uc2UgdG8gbG9nXG5cdCAqL1xuXHRwdWJsaWMgc2VuZFJlc3BvbnNlKHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlKTogdm9pZCB7XG5cdFx0bG9nZ2VyLnZlcmJvc2UoYFRvIGNsaWVudDogJHtKU09OLnN0cmluZ2lmeShyZXNwb25zZSl9YCk7XG5cdFx0c3VwZXIuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBkaXNwYXRjaFJlcXVlc3QocmVxdWVzdDogRGVidWdQcm90b2NvbC5SZXF1ZXN0KTogdm9pZCB7XG5cdFx0bG9nZ2VyLnZlcmJvc2UoYEZyb20gY2xpZW50OiAke3JlcXVlc3QuY29tbWFuZH0oJHtKU09OLnN0cmluZ2lmeShyZXF1ZXN0LmFyZ3VtZW50cykgfSlgKTtcblx0XHRzdXBlci5kaXNwYXRjaFJlcXVlc3QocmVxdWVzdCk7XG5cdH1cbn1cbiJdfQ==","var path = require('path');\nvar fs = require('fs');\nvar _0777 = parseInt('0777', 8);\n\nmodule.exports = mkdirP.mkdirp = mkdirP.mkdirP = mkdirP;\n\nfunction mkdirP (p, opts, f, made) {\n    if (typeof opts === 'function') {\n        f = opts;\n        opts = {};\n    }\n    else if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777 & (~process.umask());\n    }\n    if (!made) made = null;\n    \n    var cb = f || function () {};\n    p = path.resolve(p);\n    \n    xfs.mkdir(p, mode, function (er) {\n        if (!er) {\n            made = made || p;\n            return cb(null, made);\n        }\n        switch (er.code) {\n            case 'ENOENT':\n                mkdirP(path.dirname(p), opts, function (er, made) {\n                    if (er) cb(er, made);\n                    else mkdirP(p, opts, cb, made);\n                });\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                xfs.stat(p, function (er2, stat) {\n                    // if the stat fails, then that's super weird.\n                    // let the original error be the failure reason.\n                    if (er2 || !stat.isDirectory()) cb(er, made)\n                    else cb(null, made);\n                });\n                break;\n        }\n    });\n}\n\nmkdirP.sync = function sync (p, opts, made) {\n    if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777 & (~process.umask());\n    }\n    if (!made) made = null;\n\n    p = path.resolve(p);\n\n    try {\n        xfs.mkdirSync(p, mode);\n        made = made || p;\n    }\n    catch (err0) {\n        switch (err0.code) {\n            case 'ENOENT' :\n                made = sync(path.dirname(p), opts, made);\n                sync(p, opts, made);\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                var stat;\n                try {\n                    stat = xfs.statSync(p);\n                }\n                catch (err1) {\n                    throw err0;\n                }\n                if (!stat.isDirectory()) throw err0;\n                break;\n        }\n    }\n\n    return made;\n};\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Handles {\n    constructor(startHandle) {\n        this.START_HANDLE = 1000;\n        this._handleMap = new Map();\n        this._nextHandle = typeof startHandle === 'number' ? startHandle : this.START_HANDLE;\n    }\n    reset() {\n        this._nextHandle = this.START_HANDLE;\n        this._handleMap = new Map();\n    }\n    create(value) {\n        var handle = this._nextHandle++;\n        this._handleMap.set(handle, value);\n        return handle;\n    }\n    get(handle, dflt) {\n        return this._handleMap.get(handle) || dflt;\n    }\n}\nexports.Handles = Handles;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9oYW5kbGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7O2dHQUdnRzs7QUFFaEcsTUFBYSxPQUFPO0lBT25CLFlBQW1CLFdBQW9CO1FBTC9CLGlCQUFZLEdBQUcsSUFBSSxDQUFDO1FBR3BCLGVBQVUsR0FBRyxJQUFJLEdBQUcsRUFBYSxDQUFDO1FBR3pDLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxXQUFXLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDdEYsQ0FBQztJQUVNLEtBQUs7UUFDWCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDckMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLEdBQUcsRUFBYSxDQUFDO0lBQ3hDLENBQUM7SUFFTSxNQUFNLENBQUMsS0FBUTtRQUNyQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDaEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ25DLE9BQU8sTUFBTSxDQUFDO0lBQ2YsQ0FBQztJQUVNLEdBQUcsQ0FBQyxNQUFjLEVBQUUsSUFBUTtRQUNsQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQztJQUM1QyxDQUFDO0NBQ0Q7QUF6QkQsMEJBeUJDIiwic291cmNlc0NvbnRlbnQiOlsiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmV4cG9ydCBjbGFzcyBIYW5kbGVzPFQ+IHtcblxuXHRwcml2YXRlIFNUQVJUX0hBTkRMRSA9IDEwMDA7XG5cblx0cHJpdmF0ZSBfbmV4dEhhbmRsZSA6IG51bWJlcjtcblx0cHJpdmF0ZSBfaGFuZGxlTWFwID0gbmV3IE1hcDxudW1iZXIsIFQ+KCk7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHN0YXJ0SGFuZGxlPzogbnVtYmVyKSB7XG5cdFx0dGhpcy5fbmV4dEhhbmRsZSA9IHR5cGVvZiBzdGFydEhhbmRsZSA9PT0gJ251bWJlcicgPyBzdGFydEhhbmRsZSA6IHRoaXMuU1RBUlRfSEFORExFO1xuXHR9XG5cblx0cHVibGljIHJlc2V0KCk6IHZvaWQge1xuXHRcdHRoaXMuX25leHRIYW5kbGUgPSB0aGlzLlNUQVJUX0hBTkRMRTtcblx0XHR0aGlzLl9oYW5kbGVNYXAgPSBuZXcgTWFwPG51bWJlciwgVD4oKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUodmFsdWU6IFQpOiBudW1iZXIge1xuXHRcdHZhciBoYW5kbGUgPSB0aGlzLl9uZXh0SGFuZGxlKys7XG5cdFx0dGhpcy5faGFuZGxlTWFwLnNldChoYW5kbGUsIHZhbHVlKTtcblx0XHRyZXR1cm4gaGFuZGxlO1xuXHR9XG5cblx0cHVibGljIGdldChoYW5kbGU6IG51bWJlciwgZGZsdD86IFQpOiBUIHtcblx0XHRyZXR1cm4gdGhpcy5faGFuZGxlTWFwLmdldChoYW5kbGUpIHx8IGRmbHQ7XG5cdH1cbn1cbiJdfQ==","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\nimport * as path from 'path';\n\n// This file is also used by the debug adapter.\n// When bundling, the bundle file for the debug adapter ends up elsewhere.\nconst folderName = path.basename(__dirname);\nexport const EXTENSION_ROOT_DIR = folderName === 'client' ? path.join(__dirname, '..', '..') : path.join(__dirname, '..', '..', '..', '..');\n\nexport const HiddenFileFormatString = '_HiddenFile_{0}.py';\nexport const HiddenFilePrefix = '_HiddenFile_';\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n/**\n * @typedef {Object} SplitLinesOptions\n * @property {boolean} [trim=true] - Whether to trim the lines.\n * @property {boolean} [removeEmptyEntries=true] - Whether to remove empty entries.\n */\n\n// https://stackoverflow.com/questions/39877156/how-to-extend-string-prototype-and-use-it-next-in-typescript\n// tslint:disable-next-line:interface-name\ndeclare interface String {\n    /**\n     * Split a string using the cr and lf characters and return them as an array.\n     * By default lines are trimmed and empty lines are removed.\n     * @param {SplitLinesOptions=} splitOptions - Options used for splitting the string.\n     */\n    splitLines(splitOptions?: { trim: boolean; removeEmptyEntries?: boolean }): string[];\n    /**\n     * Appropriately formats a string so it can be used as an argument for a command in a shell.\n     * E.g. if an argument contains a space, then it will be enclosed within double quotes.\n     */\n    toCommandArgument(): string;\n    /**\n     * Appropriately formats a a file path so it can be used as an argument for a command in a shell.\n     * E.g. if an argument contains a space, then it will be enclosed within double quotes.\n     */\n    fileToCommandArgument(): string;\n    /**\n     * String.format() implementation.\n     * Tokens such as {0}, {1} will be replaced with corresponding positional arguments.\n     */\n    format(...args: string[]): string;\n\n    /**\n     * String.trimQuotes implementation\n     * Removes leading and trailing quotes from a string\n     */\n    trimQuotes(): string;\n}\n\n/**\n * Split a string using the cr and lf characters and return them as an array.\n * By default lines are trimmed and empty lines are removed.\n * @param {SplitLinesOptions=} splitOptions - Options used for splitting the string.\n */\nString.prototype.splitLines = function(this: string, splitOptions: { trim: boolean; removeEmptyEntries: boolean } = { removeEmptyEntries: true, trim: true }): string[] {\n    let lines = this.split(/\\r?\\n/g);\n    if (splitOptions && splitOptions.trim) {\n        lines = lines.map(line => line.trim());\n    }\n    if (splitOptions && splitOptions.removeEmptyEntries) {\n        lines = lines.filter(line => line.length > 0);\n    }\n    return lines;\n};\n\n/**\n * Appropriately formats a string so it can be used as an argument for a command in a shell.\n * E.g. if an argument contains a space, then it will be enclosed within double quotes.\n * @param {String} value.\n */\nString.prototype.toCommandArgument = function(this: string): string {\n    if (!this) {\n        return this;\n    }\n    return this.indexOf(' ') >= 0 && !this.startsWith('\"') && !this.endsWith('\"') ? `\"${this}\"` : this.toString();\n};\n\n/**\n * Appropriately formats a a file path so it can be used as an argument for a command in a shell.\n * E.g. if an argument contains a space, then it will be enclosed within double quotes.\n */\nString.prototype.fileToCommandArgument = function(this: string): string {\n    if (!this) {\n        return this;\n    }\n    return this.toCommandArgument().replace(/\\\\/g, '/');\n};\n\n/**\n * String.trimQuotes implementation\n * Removes leading and trailing quotes from a string\n */\nString.prototype.trimQuotes = function(this: string): string {\n    if (!this) {\n        return this;\n    }\n    return this.replace(/(^['\"])|(['\"]$)/g, '');\n};\n\n// tslint:disable-next-line:interface-name\ndeclare interface Promise<T> {\n    /**\n     * Catches task error and ignores them.\n     */\n    ignoreErrors(): void;\n}\n\n/**\n * Explicitly tells that promise should be run asynchonously.\n */\nPromise.prototype.ignoreErrors = function<T>(this: Promise<T>) {\n    // tslint:disable-next-line:no-empty\n    this.catch(() => {});\n};\n\nif (!String.prototype.format) {\n    String.prototype.format = function(this: string) {\n        const args = arguments;\n        return this.replace(/{(\\d+)}/g, (match, number) => (args[number] === undefined ? match : args[number]));\n    };\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\nimport { isTestExecution } from './constants';\nimport { ModuleNotInstalledError } from './errors/moduleNotInstalledError';\n\nexport function isNotInstalledError(error: Error): boolean {\n    const isError = typeof error === 'object' && error !== null;\n    // tslint:disable-next-line:no-any\n    const errorObj = <any>error;\n    if (!isError) {\n        return false;\n    }\n    if (error instanceof ModuleNotInstalledError) {\n        return true;\n    }\n\n    const isModuleNoInstalledError = error.message.indexOf('No module named') >= 0;\n    return errorObj.code === 'ENOENT' || errorObj.code === 127 || isModuleNoInstalledError;\n}\n\nexport function skipIfTest(isAsyncFunction: boolean) {\n    // tslint:disable-next-line:no-function-expression no-any\n    return function(_: Object, __: string, descriptor: TypedPropertyDescriptor<any>) {\n        const originalMethod = descriptor.value;\n        // tslint:disable-next-line:no-function-expression no-any\n        descriptor.value = function(...args: any[]) {\n            if (isTestExecution()) {\n                return isAsyncFunction ? Promise.resolve() : undefined;\n            }\n            // tslint:disable-next-line:no-invalid-this no-use-before-declare no-unsafe-any\n            return originalMethod.apply(this, args);\n        };\n\n        return descriptor;\n    };\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nexport class ModuleNotInstalledError extends Error {\n    constructor(moduleName: string) {\n        super(`Module '${moduleName}' not installed.`);\n    }\n}\n","import { DebugSession } from 'vscode-debugadapter';\nimport { AttachRequestArguments, LaunchRequestArguments } from '../../types';\nimport { ILocalDebugLauncherScriptProvider } from '../types';\nimport { DebugClient } from './DebugClient';\nimport { DebuggerLauncherScriptProvider, NoDebugLauncherScriptProvider } from './launcherProvider';\nimport { LocalDebugClient } from './LocalDebugClient';\nimport { LocalDebugClientV2 } from './localDebugClientV2';\nimport { NonDebugClientV2 } from './nonDebugClientV2';\nimport { RemoteDebugClient } from './RemoteDebugClient';\n\nexport function CreateLaunchDebugClient(launchRequestOptions: LaunchRequestArguments, debugSession: DebugSession, canLaunchTerminal: boolean): DebugClient<{}> {\n    let launchScriptProvider: ILocalDebugLauncherScriptProvider;\n    let debugClientClass: typeof LocalDebugClient;\n    if (launchRequestOptions.noDebug === true) {\n        launchScriptProvider = new NoDebugLauncherScriptProvider();\n        debugClientClass = NonDebugClientV2;\n    } else {\n        launchScriptProvider = new DebuggerLauncherScriptProvider();\n        debugClientClass = LocalDebugClientV2;\n    }\n    return new debugClientClass(launchRequestOptions, debugSession, canLaunchTerminal, launchScriptProvider);\n}\nexport function CreateAttachDebugClient(attachRequestOptions: AttachRequestArguments, debugSession: DebugSession): DebugClient<{}> {\n    return new RemoteDebugClient(attachRequestOptions, debugSession);\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\n// tslint:disable:max-classes-per-file\n\nimport { optional } from 'inversify';\nimport * as path from 'path';\nimport { EXTENSION_ROOT_DIR } from '../../../common/constants';\nimport { IDebugLauncherScriptProvider, IRemoteDebugLauncherScriptProvider, LocalDebugOptions, RemoteDebugOptions } from '../types';\n\nconst pathToScript = path.join(EXTENSION_ROOT_DIR, 'pythonFiles', 'ptvsd_launcher.py');\nexport class NoDebugLauncherScriptProvider implements IDebugLauncherScriptProvider<LocalDebugOptions> {\n    constructor(@optional() private script: string = pathToScript) {}\n    public getLauncherArgs(options: LocalDebugOptions): string[] {\n        const customDebugger = options.customDebugger ? '--custom' : '--default';\n        return [this.script, customDebugger, '--nodebug', '--client', '--host', options.host, '--port', options.port.toString()];\n    }\n}\n\nexport class DebuggerLauncherScriptProvider implements IDebugLauncherScriptProvider<LocalDebugOptions> {\n    constructor(@optional() private script: string = pathToScript) {}\n    public getLauncherArgs(options: LocalDebugOptions): string[] {\n        const customDebugger = options.customDebugger ? '--custom' : '--default';\n        return [this.script, customDebugger, '--client', '--host', options.host, '--port', options.port.toString()];\n    }\n}\n\n/**\n * This class is used to provide the launch scripts so external code can launch the debugger.\n * As we're passing command arguments, we need to ensure the file paths are quoted.\n * @export\n * @class RemoteDebuggerExternalLauncherScriptProvider\n * @implements {IRemoteDebugLauncherScriptProvider}\n */\nexport class RemoteDebuggerExternalLauncherScriptProvider implements IRemoteDebugLauncherScriptProvider {\n    constructor(@optional() private script: string = pathToScript) {}\n    public getLauncherArgs(options: RemoteDebugOptions): string[] {\n        const waitArgs = options.waitUntilDebuggerAttaches ? ['--wait'] : [];\n        return [this.script.fileToCommandArgument(), '--default', '--host', options.host, '--port', options.port.toString()].concat(waitArgs);\n    }\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_1 = require(\"../bindings/binding\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_reader_1 = require(\"../planning/metadata_reader\");\nvar planner_1 = require(\"../planning/planner\");\nvar resolver_1 = require(\"../resolution/resolver\");\nvar binding_to_syntax_1 = require(\"../syntax/binding_to_syntax\");\nvar guid_1 = require(\"../utils/guid\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar container_snapshot_1 = require(\"./container_snapshot\");\nvar lookup_1 = require(\"./lookup\");\nvar Container = (function () {\n    function Container(containerOptions) {\n        var options = containerOptions || {};\n        if (typeof options !== \"object\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);\n        }\n        if (options.defaultScope === undefined) {\n            options.defaultScope = literal_types_1.BindingScopeEnum.Transient;\n        }\n        else if (options.defaultScope !== literal_types_1.BindingScopeEnum.Singleton &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Transient &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Request) {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);\n        }\n        if (options.autoBindInjectable === undefined) {\n            options.autoBindInjectable = false;\n        }\n        else if (typeof options.autoBindInjectable !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);\n        }\n        if (options.skipBaseClassChecks === undefined) {\n            options.skipBaseClassChecks = false;\n        }\n        else if (typeof options.skipBaseClassChecks !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);\n        }\n        this.options = {\n            autoBindInjectable: options.autoBindInjectable,\n            defaultScope: options.defaultScope,\n            skipBaseClassChecks: options.skipBaseClassChecks\n        };\n        this.guid = guid_1.guid();\n        this._bindingDictionary = new lookup_1.Lookup();\n        this._snapshots = [];\n        this._middleware = null;\n        this.parent = null;\n        this._metadataReader = new metadata_reader_1.MetadataReader();\n    }\n    Container.merge = function (container1, container2) {\n        var container = new Container();\n        var bindingDictionary = planner_1.getBindingDictionary(container);\n        var bindingDictionary1 = planner_1.getBindingDictionary(container1);\n        var bindingDictionary2 = planner_1.getBindingDictionary(container2);\n        function copyDictionary(origin, destination) {\n            origin.traverse(function (key, value) {\n                value.forEach(function (binding) {\n                    destination.add(binding.serviceIdentifier, binding.clone());\n                });\n            });\n        }\n        copyDictionary(bindingDictionary1, bindingDictionary);\n        copyDictionary(bindingDictionary2, bindingDictionary);\n        return container;\n    };\n    Container.prototype.load = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var getHelpers = this._getContainerModuleHelpersFactory();\n        for (var _a = 0, modules_1 = modules; _a < modules_1.length; _a++) {\n            var currentModule = modules_1[_a];\n            var containerModuleHelpers = getHelpers(currentModule.guid);\n            currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction);\n        }\n    };\n    Container.prototype.loadAsync = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            var getHelpers, _a, modules_2, currentModule, containerModuleHelpers;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        getHelpers = this._getContainerModuleHelpersFactory();\n                        _a = 0, modules_2 = modules;\n                        _b.label = 1;\n                    case 1:\n                        if (!(_a < modules_2.length)) return [3, 4];\n                        currentModule = modules_2[_a];\n                        containerModuleHelpers = getHelpers(currentModule.guid);\n                        return [4, currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction)];\n                    case 2:\n                        _b.sent();\n                        _b.label = 3;\n                    case 3:\n                        _a++;\n                        return [3, 1];\n                    case 4: return [2];\n                }\n            });\n        });\n    };\n    Container.prototype.unload = function () {\n        var _this = this;\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var conditionFactory = function (expected) { return function (item) {\n            return item.moduleId === expected;\n        }; };\n        modules.forEach(function (module) {\n            var condition = conditionFactory(module.guid);\n            _this._bindingDictionary.removeByCondition(condition);\n        });\n    };\n    Container.prototype.bind = function (serviceIdentifier) {\n        var scope = this.options.defaultScope || literal_types_1.BindingScopeEnum.Transient;\n        var binding = new binding_1.Binding(serviceIdentifier, scope);\n        this._bindingDictionary.add(serviceIdentifier, binding);\n        return new binding_to_syntax_1.BindingToSyntax(binding);\n    };\n    Container.prototype.rebind = function (serviceIdentifier) {\n        this.unbind(serviceIdentifier);\n        return this.bind(serviceIdentifier);\n    };\n    Container.prototype.unbind = function (serviceIdentifier) {\n        try {\n            this._bindingDictionary.remove(serviceIdentifier);\n        }\n        catch (e) {\n            throw new Error(ERROR_MSGS.CANNOT_UNBIND + \" \" + serialization_1.getServiceIdentifierAsString(serviceIdentifier));\n        }\n    };\n    Container.prototype.unbindAll = function () {\n        this._bindingDictionary = new lookup_1.Lookup();\n    };\n    Container.prototype.isBound = function (serviceIdentifier) {\n        var bound = this._bindingDictionary.hasKey(serviceIdentifier);\n        if (!bound && this.parent) {\n            bound = this.parent.isBound(serviceIdentifier);\n        }\n        return bound;\n    };\n    Container.prototype.isBoundNamed = function (serviceIdentifier, named) {\n        return this.isBoundTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.isBoundTagged = function (serviceIdentifier, key, value) {\n        var bound = false;\n        if (this._bindingDictionary.hasKey(serviceIdentifier)) {\n            var bindings = this._bindingDictionary.get(serviceIdentifier);\n            var request_1 = planner_1.createMockRequest(this, serviceIdentifier, key, value);\n            bound = bindings.some(function (b) { return b.constraint(request_1); });\n        }\n        if (!bound && this.parent) {\n            bound = this.parent.isBoundTagged(serviceIdentifier, key, value);\n        }\n        return bound;\n    };\n    Container.prototype.snapshot = function () {\n        this._snapshots.push(container_snapshot_1.ContainerSnapshot.of(this._bindingDictionary.clone(), this._middleware));\n    };\n    Container.prototype.restore = function () {\n        var snapshot = this._snapshots.pop();\n        if (snapshot === undefined) {\n            throw new Error(ERROR_MSGS.NO_MORE_SNAPSHOTS_AVAILABLE);\n        }\n        this._bindingDictionary = snapshot.bindings;\n        this._middleware = snapshot.middleware;\n    };\n    Container.prototype.createChild = function (containerOptions) {\n        var child = new Container(containerOptions);\n        child.parent = this;\n        return child;\n    };\n    Container.prototype.applyMiddleware = function () {\n        var middlewares = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            middlewares[_i] = arguments[_i];\n        }\n        var initial = (this._middleware) ? this._middleware : this._planAndResolve();\n        this._middleware = middlewares.reduce(function (prev, curr) { return curr(prev); }, initial);\n    };\n    Container.prototype.applyCustomMetadataReader = function (metadataReader) {\n        this._metadataReader = metadataReader;\n    };\n    Container.prototype.get = function (serviceIdentifier) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getNamed = function (serviceIdentifier, named) {\n        return this.getTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.getAll = function (serviceIdentifier) {\n        return this._get(true, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getAllTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getAllNamed = function (serviceIdentifier, named) {\n        return this.getAllTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.resolve = function (constructorFunction) {\n        var tempContainer = new Container();\n        tempContainer.bind(constructorFunction).toSelf();\n        tempContainer.parent = this;\n        return tempContainer.get(constructorFunction);\n    };\n    Container.prototype._getContainerModuleHelpersFactory = function () {\n        var _this = this;\n        var setModuleId = function (bindingToSyntax, moduleId) {\n            bindingToSyntax._binding.moduleId = moduleId;\n        };\n        var getBindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _bind = _this.bind.bind(_this);\n                var bindingToSyntax = _bind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        var getUnbindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _unbind = _this.unbind.bind(_this);\n                _unbind(serviceIdentifier);\n            };\n        };\n        var getIsboundFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _isBound = _this.isBound.bind(_this);\n                return _isBound(serviceIdentifier);\n            };\n        };\n        var getRebindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _rebind = _this.rebind.bind(_this);\n                var bindingToSyntax = _rebind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        return function (mId) { return ({\n            bindFunction: getBindFunction(mId),\n            isboundFunction: getIsboundFunction(mId),\n            rebindFunction: getRebindFunction(mId),\n            unbindFunction: getUnbindFunction(mId)\n        }); };\n    };\n    Container.prototype._get = function (avoidConstraints, isMultiInject, targetType, serviceIdentifier, key, value) {\n        var result = null;\n        var defaultArgs = {\n            avoidConstraints: avoidConstraints,\n            contextInterceptor: function (context) { return context; },\n            isMultiInject: isMultiInject,\n            key: key,\n            serviceIdentifier: serviceIdentifier,\n            targetType: targetType,\n            value: value\n        };\n        if (this._middleware) {\n            result = this._middleware(defaultArgs);\n            if (result === undefined || result === null) {\n                throw new Error(ERROR_MSGS.INVALID_MIDDLEWARE_RETURN);\n            }\n        }\n        else {\n            result = this._planAndResolve()(defaultArgs);\n        }\n        return result;\n    };\n    Container.prototype._planAndResolve = function () {\n        var _this = this;\n        return function (args) {\n            var context = planner_1.plan(_this._metadataReader, _this, args.isMultiInject, args.targetType, args.serviceIdentifier, args.key, args.value, args.avoidConstraints);\n            context = args.contextInterceptor(context);\n            var result = resolver_1.resolve(context);\n            return result;\n        };\n    };\n    return Container;\n}());\nexports.Container = Container;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar guid_1 = require(\"../utils/guid\");\nvar Binding = (function () {\n    function Binding(serviceIdentifier, scope) {\n        this.guid = guid_1.guid();\n        this.activated = false;\n        this.serviceIdentifier = serviceIdentifier;\n        this.scope = scope;\n        this.type = literal_types_1.BindingTypeEnum.Invalid;\n        this.constraint = function (request) { return true; };\n        this.implementationType = null;\n        this.cache = null;\n        this.factory = null;\n        this.provider = null;\n        this.onActivation = null;\n        this.dynamicValue = null;\n    }\n    Binding.prototype.clone = function () {\n        var clone = new Binding(this.serviceIdentifier, this.scope);\n        clone.activated = false;\n        clone.implementationType = this.implementationType;\n        clone.dynamicValue = this.dynamicValue;\n        clone.scope = this.scope;\n        clone.type = this.type;\n        clone.factory = this.factory;\n        clone.provider = this.provider;\n        clone.constraint = this.constraint;\n        clone.onActivation = this.onActivation;\n        clone.cache = this.cache;\n        return clone;\n    };\n    return Binding;\n}());\nexports.Binding = Binding;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_count_1 = require(\"../bindings/binding_count\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar context_1 = require(\"./context\");\nvar metadata_1 = require(\"./metadata\");\nvar plan_1 = require(\"./plan\");\nvar reflection_utils_1 = require(\"./reflection_utils\");\nvar request_1 = require(\"./request\");\nvar target_1 = require(\"./target\");\nfunction getBindingDictionary(cntnr) {\n    return cntnr._bindingDictionary;\n}\nexports.getBindingDictionary = getBindingDictionary;\nfunction _createTarget(isMultiInject, targetType, serviceIdentifier, name, key, value) {\n    var metadataKey = isMultiInject ? METADATA_KEY.MULTI_INJECT_TAG : METADATA_KEY.INJECT_TAG;\n    var injectMetadata = new metadata_1.Metadata(metadataKey, serviceIdentifier);\n    var target = new target_1.Target(targetType, name, serviceIdentifier, injectMetadata);\n    if (key !== undefined) {\n        var tagMetadata = new metadata_1.Metadata(key, value);\n        target.metadata.push(tagMetadata);\n    }\n    return target;\n}\nfunction _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target) {\n    var bindings = getBindings(context.container, target.serviceIdentifier);\n    var activeBindings = [];\n    if (bindings.length === binding_count_1.BindingCount.NoBindingsAvailable &&\n        context.container.options.autoBindInjectable &&\n        typeof target.serviceIdentifier === \"function\" &&\n        metadataReader.getConstructorMetadata(target.serviceIdentifier).compilerGeneratedMetadata) {\n        context.container.bind(target.serviceIdentifier).toSelf();\n        bindings = getBindings(context.container, target.serviceIdentifier);\n    }\n    if (!avoidConstraints) {\n        activeBindings = bindings.filter(function (binding) {\n            var request = new request_1.Request(binding.serviceIdentifier, context, parentRequest, binding, target);\n            return binding.constraint(request);\n        });\n    }\n    else {\n        activeBindings = bindings;\n    }\n    _validateActiveBindingCount(target.serviceIdentifier, activeBindings, target, context.container);\n    return activeBindings;\n}\nfunction _validateActiveBindingCount(serviceIdentifier, bindings, target, container) {\n    switch (bindings.length) {\n        case binding_count_1.BindingCount.NoBindingsAvailable:\n            if (target.isOptional()) {\n                return bindings;\n            }\n            else {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.NOT_REGISTERED;\n                msg += serialization_1.listMetadataForTarget(serviceIdentifierString, target);\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n        case binding_count_1.BindingCount.OnlyOneBindingAvailable:\n            if (!target.isArray()) {\n                return bindings;\n            }\n        case binding_count_1.BindingCount.MultipleBindingsAvailable:\n        default:\n            if (!target.isArray()) {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.AMBIGUOUS_MATCH + \" \" + serviceIdentifierString;\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n            else {\n                return bindings;\n            }\n    }\n}\nfunction _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, parentRequest, target) {\n    var activeBindings;\n    var childRequest;\n    if (parentRequest === null) {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, null, target);\n        childRequest = new request_1.Request(serviceIdentifier, context, null, activeBindings, target);\n        var thePlan = new plan_1.Plan(context, childRequest);\n        context.addPlan(thePlan);\n    }\n    else {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target);\n        childRequest = parentRequest.addChildRequest(target.serviceIdentifier, activeBindings, target);\n    }\n    activeBindings.forEach(function (binding) {\n        var subChildRequest = null;\n        if (target.isArray()) {\n            subChildRequest = childRequest.addChildRequest(binding.serviceIdentifier, binding, target);\n        }\n        else {\n            if (binding.cache) {\n                return;\n            }\n            subChildRequest = childRequest;\n        }\n        if (binding.type === literal_types_1.BindingTypeEnum.Instance && binding.implementationType !== null) {\n            var dependencies = reflection_utils_1.getDependencies(metadataReader, binding.implementationType);\n            if (!context.container.options.skipBaseClassChecks) {\n                var baseClassDependencyCount = reflection_utils_1.getBaseClassDependencyCount(metadataReader, binding.implementationType);\n                if (dependencies.length < baseClassDependencyCount) {\n                    var error = ERROR_MSGS.ARGUMENTS_LENGTH_MISMATCH(reflection_utils_1.getFunctionName(binding.implementationType));\n                    throw new Error(error);\n                }\n            }\n            dependencies.forEach(function (dependency) {\n                _createSubRequests(metadataReader, false, dependency.serviceIdentifier, context, subChildRequest, dependency);\n            });\n        }\n    });\n}\nfunction getBindings(container, serviceIdentifier) {\n    var bindings = [];\n    var bindingDictionary = getBindingDictionary(container);\n    if (bindingDictionary.hasKey(serviceIdentifier)) {\n        bindings = bindingDictionary.get(serviceIdentifier);\n    }\n    else if (container.parent !== null) {\n        bindings = getBindings(container.parent, serviceIdentifier);\n    }\n    return bindings;\n}\nfunction plan(metadataReader, container, isMultiInject, targetType, serviceIdentifier, key, value, avoidConstraints) {\n    if (avoidConstraints === void 0) { avoidConstraints = false; }\n    var context = new context_1.Context(container);\n    var target = _createTarget(isMultiInject, targetType, serviceIdentifier, \"\", key, value);\n    try {\n        _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, null, target);\n        return context;\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            if (context.plan) {\n                serialization_1.circularDependencyToException(context.plan.rootRequest);\n            }\n        }\n        throw error;\n    }\n}\nexports.plan = plan;\nfunction createMockRequest(container, serviceIdentifier, key, value) {\n    var target = new target_1.Target(literal_types_1.TargetTypeEnum.Variable, \"\", serviceIdentifier, new metadata_1.Metadata(key, value));\n    var context = new context_1.Context(container);\n    var request = new request_1.Request(serviceIdentifier, context, null, [], target);\n    return request;\n}\nexports.createMockRequest = createMockRequest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BindingCount = {\n    MultipleBindingsAvailable: 2,\n    NoBindingsAvailable: 0,\n    OnlyOneBindingAvailable: 1\n};\nexports.BindingCount = BindingCount;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar guid_1 = require(\"../utils/guid\");\nvar Context = (function () {\n    function Context(container) {\n        this.guid = guid_1.guid();\n        this.container = container;\n    }\n    Context.prototype.addPlan = function (plan) {\n        this.plan = plan;\n    };\n    Context.prototype.setCurrentRequest = function (currentRequest) {\n        this.currentRequest = currentRequest;\n    };\n    return Context;\n}());\nexports.Context = Context;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Plan = (function () {\n    function Plan(parentContext, rootRequest) {\n        this.parentContext = parentContext;\n        this.rootRequest = rootRequest;\n    }\n    return Plan;\n}());\nexports.Plan = Plan;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inject_1 = require(\"../annotation/inject\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar serialization_1 = require(\"../utils/serialization\");\nexports.getFunctionName = serialization_1.getFunctionName;\nvar target_1 = require(\"./target\");\nfunction getDependencies(metadataReader, func) {\n    var constructorName = serialization_1.getFunctionName(func);\n    var targets = getTargets(metadataReader, constructorName, func, false);\n    return targets;\n}\nexports.getDependencies = getDependencies;\nfunction getTargets(metadataReader, constructorName, func, isBaseClass) {\n    var metadata = metadataReader.getConstructorMetadata(func);\n    var serviceIdentifiers = metadata.compilerGeneratedMetadata;\n    if (serviceIdentifiers === undefined) {\n        var msg = ERROR_MSGS.MISSING_INJECTABLE_ANNOTATION + \" \" + constructorName + \".\";\n        throw new Error(msg);\n    }\n    var constructorArgsMetadata = metadata.userGeneratedMetadata;\n    var keys = Object.keys(constructorArgsMetadata);\n    var hasUserDeclaredUnknownInjections = (func.length === 0 && keys.length > 0);\n    var iterations = (hasUserDeclaredUnknownInjections) ? keys.length : func.length;\n    var constructorTargets = getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations);\n    var propertyTargets = getClassPropsAsTargets(metadataReader, func);\n    var targets = constructorTargets.concat(propertyTargets);\n    return targets;\n}\nfunction getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata) {\n    var targetMetadata = constructorArgsMetadata[index.toString()] || [];\n    var metadata = formatTargetMetadata(targetMetadata);\n    var isManaged = metadata.unmanaged !== true;\n    var serviceIdentifier = serviceIdentifiers[index];\n    var injectIdentifier = (metadata.inject || metadata.multiInject);\n    serviceIdentifier = (injectIdentifier) ? (injectIdentifier) : serviceIdentifier;\n    if (serviceIdentifier instanceof inject_1.LazyServiceIdentifer) {\n        serviceIdentifier = serviceIdentifier.unwrap();\n    }\n    if (isManaged) {\n        var isObject = serviceIdentifier === Object;\n        var isFunction = serviceIdentifier === Function;\n        var isUndefined = serviceIdentifier === undefined;\n        var isUnknownType = (isObject || isFunction || isUndefined);\n        if (!isBaseClass && isUnknownType) {\n            var msg = ERROR_MSGS.MISSING_INJECT_ANNOTATION + \" argument \" + index + \" in class \" + constructorName + \".\";\n            throw new Error(msg);\n        }\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ConstructorArgument, metadata.targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        return target;\n    }\n    return null;\n}\nfunction getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations) {\n    var targets = [];\n    for (var i = 0; i < iterations; i++) {\n        var index = i;\n        var target = getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata);\n        if (target !== null) {\n            targets.push(target);\n        }\n    }\n    return targets;\n}\nfunction getClassPropsAsTargets(metadataReader, constructorFunc) {\n    var classPropsMetadata = metadataReader.getPropertiesMetadata(constructorFunc);\n    var targets = [];\n    var keys = Object.keys(classPropsMetadata);\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        var targetMetadata = classPropsMetadata[key];\n        var metadata = formatTargetMetadata(classPropsMetadata[key]);\n        var targetName = metadata.targetName || key;\n        var serviceIdentifier = (metadata.inject || metadata.multiInject);\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ClassProperty, targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        targets.push(target);\n    }\n    var baseConstructor = Object.getPrototypeOf(constructorFunc.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseTargets = getClassPropsAsTargets(metadataReader, baseConstructor);\n        targets = targets.concat(baseTargets);\n    }\n    return targets;\n}\nfunction getBaseClassDependencyCount(metadataReader, func) {\n    var baseConstructor = Object.getPrototypeOf(func.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseConstructorName = serialization_1.getFunctionName(baseConstructor);\n        var targets = getTargets(metadataReader, baseConstructorName, baseConstructor, true);\n        var metadata = targets.map(function (t) {\n            return t.metadata.filter(function (m) {\n                return m.key === METADATA_KEY.UNMANAGED_TAG;\n            });\n        });\n        var unmanagedCount = [].concat.apply([], metadata).length;\n        var dependencyCount = targets.length - unmanagedCount;\n        if (dependencyCount > 0) {\n            return dependencyCount;\n        }\n        else {\n            return getBaseClassDependencyCount(metadataReader, baseConstructor);\n        }\n    }\n    else {\n        return 0;\n    }\n}\nexports.getBaseClassDependencyCount = getBaseClassDependencyCount;\nfunction formatTargetMetadata(targetMetadata) {\n    var targetMetadataMap = {};\n    targetMetadata.forEach(function (m) {\n        targetMetadataMap[m.key.toString()] = m.value;\n    });\n    return {\n        inject: targetMetadataMap[METADATA_KEY.INJECT_TAG],\n        multiInject: targetMetadataMap[METADATA_KEY.MULTI_INJECT_TAG],\n        targetName: targetMetadataMap[METADATA_KEY.NAME_TAG],\n        unmanaged: targetMetadataMap[METADATA_KEY.UNMANAGED_TAG]\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar QueryableString = (function () {\n    function QueryableString(str) {\n        this.str = str;\n    }\n    QueryableString.prototype.startsWith = function (searchString) {\n        return this.str.indexOf(searchString) === 0;\n    };\n    QueryableString.prototype.endsWith = function (searchString) {\n        var reverseString = \"\";\n        var reverseSearchString = searchString.split(\"\").reverse().join(\"\");\n        reverseString = this.str.split(\"\").reverse().join(\"\");\n        return this.startsWith.call({ str: reverseString }, reverseSearchString);\n    };\n    QueryableString.prototype.contains = function (searchString) {\n        return (this.str.indexOf(searchString) !== -1);\n    };\n    QueryableString.prototype.equals = function (compareString) {\n        return this.str === compareString;\n    };\n    QueryableString.prototype.value = function () {\n        return this.str;\n    };\n    return QueryableString;\n}());\nexports.QueryableString = QueryableString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar guid_1 = require(\"../utils/guid\");\nvar Request = (function () {\n    function Request(serviceIdentifier, parentContext, parentRequest, bindings, target) {\n        this.guid = guid_1.guid();\n        this.serviceIdentifier = serviceIdentifier;\n        this.parentContext = parentContext;\n        this.parentRequest = parentRequest;\n        this.target = target;\n        this.childRequests = [];\n        this.bindings = (Array.isArray(bindings) ? bindings : [bindings]);\n        this.requestScope = parentRequest === null\n            ? new Map()\n            : null;\n    }\n    Request.prototype.addChildRequest = function (serviceIdentifier, bindings, target) {\n        var child = new Request(serviceIdentifier, this.parentContext, this, bindings, target);\n        this.childRequests.push(child);\n        return child;\n    };\n    return Request;\n}());\nexports.Request = Request;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar instantiation_1 = require(\"./instantiation\");\nvar invokeFactory = function (factoryType, serviceIdentifier, fn) {\n    try {\n        return fn();\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY_IN_FACTORY(factoryType, serviceIdentifier.toString()));\n        }\n        else {\n            throw error;\n        }\n    }\n};\nvar _resolveRequest = function (requestScope) {\n    return function (request) {\n        request.parentContext.setCurrentRequest(request);\n        var bindings = request.bindings;\n        var childRequests = request.childRequests;\n        var targetIsAnArray = request.target && request.target.isArray();\n        var targetParentIsNotAnArray = !request.parentRequest ||\n            !request.parentRequest.target ||\n            !request.target ||\n            !request.parentRequest.target.matchesArray(request.target.serviceIdentifier);\n        if (targetIsAnArray && targetParentIsNotAnArray) {\n            return childRequests.map(function (childRequest) {\n                var _f = _resolveRequest(requestScope);\n                return _f(childRequest);\n            });\n        }\n        else {\n            var result = null;\n            if (request.target.isOptional() && bindings.length === 0) {\n                return undefined;\n            }\n            var binding_1 = bindings[0];\n            var isSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Singleton;\n            var isRequestSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Request;\n            if (isSingleton && binding_1.activated) {\n                return binding_1.cache;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                requestScope.has(binding_1.guid)) {\n                return requestScope.get(binding_1.guid);\n            }\n            if (binding_1.type === literal_types_1.BindingTypeEnum.ConstantValue) {\n                result = binding_1.cache;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Function) {\n                result = binding_1.cache;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Constructor) {\n                result = binding_1.implementationType;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.DynamicValue && binding_1.dynamicValue !== null) {\n                result = invokeFactory(\"toDynamicValue\", binding_1.serviceIdentifier, function () { return binding_1.dynamicValue(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Factory && binding_1.factory !== null) {\n                result = invokeFactory(\"toFactory\", binding_1.serviceIdentifier, function () { return binding_1.factory(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Provider && binding_1.provider !== null) {\n                result = invokeFactory(\"toProvider\", binding_1.serviceIdentifier, function () { return binding_1.provider(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Instance && binding_1.implementationType !== null) {\n                result = instantiation_1.resolveInstance(binding_1.implementationType, childRequests, _resolveRequest(requestScope));\n            }\n            else {\n                var serviceIdentifier = serialization_1.getServiceIdentifierAsString(request.serviceIdentifier);\n                throw new Error(ERROR_MSGS.INVALID_BINDING_TYPE + \" \" + serviceIdentifier);\n            }\n            if (typeof binding_1.onActivation === \"function\") {\n                result = binding_1.onActivation(request.parentContext, result);\n            }\n            if (isSingleton) {\n                binding_1.cache = result;\n                binding_1.activated = true;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                !requestScope.has(binding_1.guid)) {\n                requestScope.set(binding_1.guid, result);\n            }\n            return result;\n        }\n    };\n};\nfunction resolve(context) {\n    var _f = _resolveRequest(context.plan.rootRequest.requestScope);\n    return _f(context.plan.rootRequest);\n}\nexports.resolve = resolve;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction _injectProperties(instance, childRequests, resolveRequest) {\n    var propertyInjectionsRequests = childRequests.filter(function (childRequest) {\n        return (childRequest.target !== null &&\n            childRequest.target.type === literal_types_1.TargetTypeEnum.ClassProperty);\n    });\n    var propertyInjections = propertyInjectionsRequests.map(resolveRequest);\n    propertyInjectionsRequests.forEach(function (r, index) {\n        var propertyName = \"\";\n        propertyName = r.target.name.value();\n        var injection = propertyInjections[index];\n        instance[propertyName] = injection;\n    });\n    return instance;\n}\nfunction _createInstance(Func, injections) {\n    return new (Func.bind.apply(Func, [void 0].concat(injections)))();\n}\nfunction _postConstruct(constr, result) {\n    if (Reflect.hasMetadata(METADATA_KEY.POST_CONSTRUCT, constr)) {\n        var data = Reflect.getMetadata(METADATA_KEY.POST_CONSTRUCT, constr);\n        try {\n            result[data.value]();\n        }\n        catch (e) {\n            throw new Error(error_msgs_1.POST_CONSTRUCT_ERROR(constr.name, e.message));\n        }\n    }\n}\nfunction resolveInstance(constr, childRequests, resolveRequest) {\n    var result = null;\n    if (childRequests.length > 0) {\n        var constructorInjectionsRequests = childRequests.filter(function (childRequest) {\n            return (childRequest.target !== null && childRequest.target.type === literal_types_1.TargetTypeEnum.ConstructorArgument);\n        });\n        var constructorInjections = constructorInjectionsRequests.map(resolveRequest);\n        result = _createInstance(constr, constructorInjections);\n        result = _injectProperties(result, childRequests, resolveRequest);\n    }\n    else {\n        result = new constr();\n    }\n    _postConstruct(constr, result);\n    return result;\n}\nexports.resolveInstance = resolveInstance;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_in_when_on_syntax_1 = require(\"./binding_in_when_on_syntax\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingToSyntax = (function () {\n    function BindingToSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingToSyntax.prototype.to = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Instance;\n        this._binding.implementationType = constructor;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toSelf = function () {\n        if (typeof this._binding.serviceIdentifier !== \"function\") {\n            throw new Error(\"\" + ERROR_MSGS.INVALID_TO_SELF_VALUE);\n        }\n        var self = this._binding.serviceIdentifier;\n        return this.to(self);\n    };\n    BindingToSyntax.prototype.toConstantValue = function (value) {\n        this._binding.type = literal_types_1.BindingTypeEnum.ConstantValue;\n        this._binding.cache = value;\n        this._binding.dynamicValue = null;\n        this._binding.implementationType = null;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toDynamicValue = function (func) {\n        this._binding.type = literal_types_1.BindingTypeEnum.DynamicValue;\n        this._binding.cache = null;\n        this._binding.dynamicValue = func;\n        this._binding.implementationType = null;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toConstructor = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Constructor;\n        this._binding.implementationType = constructor;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFactory = function (factory) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = factory;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFunction = function (func) {\n        if (typeof func !== \"function\") {\n            throw new Error(ERROR_MSGS.INVALID_FUNCTION_BINDING);\n        }\n        var bindingWhenOnSyntax = this.toConstantValue(func);\n        this._binding.type = literal_types_1.BindingTypeEnum.Function;\n        return bindingWhenOnSyntax;\n    };\n    BindingToSyntax.prototype.toAutoFactory = function (serviceIdentifier) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = function (context) {\n            var autofactory = function () { return context.container.get(serviceIdentifier); };\n            return autofactory;\n        };\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toProvider = function (provider) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Provider;\n        this._binding.provider = provider;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toService = function (service) {\n        this.toDynamicValue(function (context) { return context.container.get(service); });\n    };\n    return BindingToSyntax;\n}());\nexports.BindingToSyntax = BindingToSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_in_syntax_1 = require(\"./binding_in_syntax\");\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingInWhenOnSyntax = (function () {\n    function BindingInWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n        this._bindingInSyntax = new binding_in_syntax_1.BindingInSyntax(binding);\n    }\n    BindingInWhenOnSyntax.prototype.inRequestScope = function () {\n        return this._bindingInSyntax.inRequestScope();\n    };\n    BindingInWhenOnSyntax.prototype.inSingletonScope = function () {\n        return this._bindingInSyntax.inSingletonScope();\n    };\n    BindingInWhenOnSyntax.prototype.inTransientScope = function () {\n        return this._bindingInSyntax.inTransientScope();\n    };\n    BindingInWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingInWhenOnSyntax;\n}());\nexports.BindingInWhenOnSyntax = BindingInWhenOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingInSyntax = (function () {\n    function BindingInSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingInSyntax.prototype.inRequestScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Request;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inSingletonScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inTransientScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Transient;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    return BindingInSyntax;\n}());\nexports.BindingInSyntax = BindingInSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ContainerSnapshot = (function () {\n    function ContainerSnapshot() {\n    }\n    ContainerSnapshot.of = function (bindings, middleware) {\n        var snapshot = new ContainerSnapshot();\n        snapshot.bindings = bindings;\n        snapshot.middleware = middleware;\n        return snapshot;\n    };\n    return ContainerSnapshot;\n}());\nexports.ContainerSnapshot = ContainerSnapshot;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar Lookup = (function () {\n    function Lookup() {\n        this._map = new Map();\n    }\n    Lookup.prototype.getMap = function () {\n        return this._map;\n    };\n    Lookup.prototype.add = function (serviceIdentifier, value) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (value === null || value === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            entry.push(value);\n            this._map.set(serviceIdentifier, entry);\n        }\n        else {\n            this._map.set(serviceIdentifier, [value]);\n        }\n    };\n    Lookup.prototype.get = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            return entry;\n        }\n        else {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.remove = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (!this._map.delete(serviceIdentifier)) {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.removeByCondition = function (condition) {\n        var _this = this;\n        this._map.forEach(function (entries, key) {\n            var updatedEntries = entries.filter(function (entry) { return !condition(entry); });\n            if (updatedEntries.length > 0) {\n                _this._map.set(key, updatedEntries);\n            }\n            else {\n                _this._map.delete(key);\n            }\n        });\n    };\n    Lookup.prototype.hasKey = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        return this._map.has(serviceIdentifier);\n    };\n    Lookup.prototype.clone = function () {\n        var copy = new Lookup();\n        this._map.forEach(function (value, key) {\n            value.forEach(function (b) { return copy.add(key, b.clone()); });\n        });\n        return copy;\n    };\n    Lookup.prototype.traverse = function (func) {\n        this._map.forEach(function (value, key) {\n            func(key, value);\n        });\n    };\n    return Lookup;\n}());\nexports.Lookup = Lookup;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar guid_1 = require(\"../utils/guid\");\nvar ContainerModule = (function () {\n    function ContainerModule(registry) {\n        this.guid = guid_1.guid();\n        this.registry = registry;\n    }\n    return ContainerModule;\n}());\nexports.ContainerModule = ContainerModule;\nvar AsyncContainerModule = (function () {\n    function AsyncContainerModule(registry) {\n        this.guid = guid_1.guid();\n        this.registry = registry;\n    }\n    return AsyncContainerModule;\n}());\nexports.AsyncContainerModule = AsyncContainerModule;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction injectable() {\n    return function (target) {\n        if (Reflect.hasOwnMetadata(METADATA_KEY.PARAM_TYPES, target)) {\n            throw new Error(ERRORS_MSGS.DUPLICATED_INJECTABLE_DECORATOR);\n        }\n        var types = Reflect.getMetadata(METADATA_KEY.DESIGN_PARAM_TYPES, target) || [];\n        Reflect.defineMetadata(METADATA_KEY.PARAM_TYPES, types, target);\n        return target;\n    };\n}\nexports.injectable = injectable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction tagged(metadataKey, metadataValue) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(metadataKey, metadataValue);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.tagged = tagged;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction named(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, name);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.named = named;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction optional() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.OPTIONAL_TAG, true);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.optional = optional;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction unmanaged() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.UNMANAGED_TAG, true);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.unmanaged = unmanaged;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction multiInject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.MULTI_INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.multiInject = multiInject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction targetName(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAME_TAG, name);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.targetName = targetName;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nfunction postConstruct() {\n    return function (target, propertyKey, descriptor) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.POST_CONSTRUCT, propertyKey);\n        if (Reflect.hasOwnMetadata(METADATA_KEY.POST_CONSTRUCT, target.constructor)) {\n            throw new Error(ERRORS_MSGS.MULTIPLE_POST_CONSTRUCT_METHODS);\n        }\n        Reflect.defineMetadata(METADATA_KEY.POST_CONSTRUCT, metadata, target.constructor);\n    };\n}\nexports.postConstruct = postConstruct;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiBindToService = function (container) {\n    return function (service) {\n        return function () {\n            var types = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                types[_i] = arguments[_i];\n            }\n            return types.forEach(function (t) { return container.bind(t).toService(service); });\n        };\n    };\n};\n","import { ChildProcess, spawn } from 'child_process';\nimport * as path from 'path';\nimport { DebugSession, OutputEvent } from 'vscode-debugadapter';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { open } from '../../../common/open';\nimport { noop } from '../../../common/utils/misc';\nimport { IServiceContainer } from '../../../ioc/types';\nimport { LaunchRequestArguments } from '../../types';\nimport { IDebugServer } from '../Common/Contracts';\nimport { BaseDebugServer } from '../DebugServers/BaseDebugServer';\nimport { LocalDebugServerV2 } from '../DebugServers/LocalDebugServerV2';\nimport { ILocalDebugLauncherScriptProvider } from '../types';\nimport { DebugClient, DebugType } from './DebugClient';\n\nenum DebugServerStatus {\n    Unknown = 1,\n    Running = 2,\n    NotRunning = 3\n}\n\nexport class LocalDebugClient extends DebugClient<LaunchRequestArguments> {\n    protected pyProc: ChildProcess | undefined;\n    protected debugServer: BaseDebugServer | undefined;\n    private get debugServerStatus(): DebugServerStatus {\n        if (this.debugServer && this.debugServer!.IsRunning) {\n            return DebugServerStatus.Running;\n        }\n        if (this.debugServer && !this.debugServer!.IsRunning) {\n            return DebugServerStatus.NotRunning;\n        }\n        return DebugServerStatus.Unknown;\n    }\n    constructor(args: LaunchRequestArguments, debugSession: DebugSession, private canLaunchTerminal: boolean, protected launcherScriptProvider: ILocalDebugLauncherScriptProvider) {\n        super(args, debugSession);\n    }\n\n    public CreateDebugServer(serviceContainer?: IServiceContainer): BaseDebugServer {\n        this.debugServer = new LocalDebugServerV2(this.debugSession, this.args, serviceContainer!);\n        return this.debugServer;\n    }\n\n    public get DebugType(): DebugType {\n        return DebugType.Local;\n    }\n\n    public Stop() {\n        if (this.debugServer) {\n            this.debugServer!.Stop();\n            this.debugServer = undefined;\n        }\n        if (this.pyProc) {\n            this.pyProc.kill();\n            this.pyProc = undefined;\n        }\n    }\n    // tslint:disable-next-line:no-any\n    private displayError(error: any) {\n        const errorMsg = typeof error === 'string' ? error : error.message && error.message.length > 0 ? error.message : '';\n        if (errorMsg.length > 0) {\n            this.debugSession.sendEvent(new OutputEvent(errorMsg, 'stderr'));\n        }\n    }\n    // tslint:disable-next-line:max-func-body-length member-ordering no-any\n    public async LaunchApplicationToDebug(dbgServer: IDebugServer): Promise<any> {\n        // tslint:disable-next-line:max-func-body-length cyclomatic-complexity no-any\n        return new Promise<any>((resolve, reject) => {\n            const fileDir = this.args && this.args.program ? path.dirname(this.args.program) : '';\n            let processCwd = fileDir;\n            if (typeof this.args.cwd === 'string' && this.args.cwd.length > 0 && this.args.cwd !== 'null') {\n                processCwd = this.args.cwd;\n            }\n            let pythonPath = 'python';\n            if (typeof this.args.pythonPath === 'string' && this.args.pythonPath.trim().length > 0) {\n                pythonPath = this.args.pythonPath;\n            }\n            const args = this.buildLaunchArguments(processCwd, dbgServer.port);\n            const envVars = this.args.env ? { ...this.args.env } : {};\n            switch (this.args.console) {\n                case 'externalTerminal':\n                case 'integratedTerminal': {\n                    const isSudo = Array.isArray(this.args.debugOptions) && this.args.debugOptions.some(opt => opt === 'Sudo');\n                    this.launchExternalTerminal(isSudo, processCwd, pythonPath, args, envVars)\n                        .then(resolve)\n                        .catch(reject);\n                    break;\n                }\n                default: {\n                    this.pyProc = spawn(pythonPath, args, { cwd: processCwd, env: envVars });\n                    this.handleProcessOutput(this.pyProc!, reject);\n\n                    // Here we wait for the application to connect to the socket server.\n                    // Only once connected do we know that the application has successfully launched.\n                    this.debugServer!.DebugClientConnected.then(resolve)\n                        // tslint:disable-next-line: no-console\n                        .catch(ex => console.error('Python Extension: debugServer.DebugClientConnected', ex));\n                }\n            }\n        });\n    }\n    // tslint:disable-next-line:member-ordering\n    protected handleProcessOutput(proc: ChildProcess, failedToLaunch: (error: Error | string | Buffer) => void) {\n        proc.on('error', error => {\n            // If debug server has started, then don't display errors.\n            // The debug adapter will get this info from the debugger (e.g. ptvsd lib).\n            const status = this.debugServerStatus;\n            if (status === DebugServerStatus.Running) {\n                return;\n            }\n            if (status === DebugServerStatus.NotRunning && typeof error === 'object' && error !== null) {\n                return failedToLaunch(error);\n            }\n            // This could happen when the debugger didn't launch at all, e.g. python doesn't exist.\n            this.displayError(error);\n        });\n        proc.stderr.setEncoding('utf8');\n        proc.stderr.on('data', noop);\n        proc.stdout.on('data', _ => {\n            // This is necessary so we read the stdout of the python process,\n            // Else it just keep building up (related to issue #203 and #52).\n            // tslint:disable-next-line:prefer-const no-unused-variable\n            noop();\n        });\n    }\n    private buildLaunchArguments(cwd: string, debugPort: number): string[] {\n        return [...this.buildDebugArguments(cwd, debugPort), ...this.buildStandardArguments()];\n    }\n\n    // tslint:disable-next-line:member-ordering\n    protected buildDebugArguments(_cwd: string, _debugPort: number): string[] {\n        throw new Error('Not Implemented');\n    }\n    // tslint:disable-next-line:member-ordering\n    protected buildStandardArguments() {\n        const programArgs = Array.isArray(this.args.args) && this.args.args.length > 0 ? this.args.args : [];\n        if (typeof this.args.module === 'string' && this.args.module.length > 0) {\n            return ['-m', this.args.module, ...programArgs];\n        }\n        if (this.args.program && this.args.program.length > 0) {\n            return [this.args.program, ...programArgs];\n        }\n        return programArgs;\n    }\n    private launchExternalTerminal(sudo: boolean, cwd: string, pythonPath: string, args: string[], env: {}) {\n        return new Promise((resolve, reject) => {\n            if (this.canLaunchTerminal) {\n                const command = sudo ? 'sudo' : pythonPath;\n                const commandArgs = sudo ? [pythonPath].concat(args) : args;\n                const isExternalTerminal = this.args.console === 'externalTerminal';\n                const consoleKind = isExternalTerminal ? 'external' : 'integrated';\n                const termArgs: DebugProtocol.RunInTerminalRequestArguments = {\n                    kind: consoleKind,\n                    title: 'Python Debug Console',\n                    cwd,\n                    args: [command].concat(commandArgs),\n                    env\n                };\n                this.debugSession.runInTerminalRequest(termArgs, 5000, response => {\n                    if (response.success) {\n                        resolve();\n                    } else {\n                        reject(response);\n                    }\n                });\n            } else {\n                open({ wait: false, app: [pythonPath].concat(args), cwd, env, sudo: sudo }).then(\n                    proc => {\n                        this.pyProc = proc;\n                        resolve();\n                    },\n                    error => {\n                        if (this.debugServerStatus === DebugServerStatus.Running) {\n                            return;\n                        }\n                        reject(error);\n                    }\n                );\n            }\n        });\n    }\n}\n","'use strict';\n\n//https://github.com/sindresorhus/opn/blob/master/index.js\n//Modified as this uses target as an argument\n\nimport * as childProcess from 'child_process';\n\n// tslint:disable:no-any no-function-expression prefer-template\nexport function open(opts: any): Promise<childProcess.ChildProcess> {\n    // opts = objectAssign({wait: true}, opts);\n    if (!opts.hasOwnProperty('wait')) {\n        (<any>opts).wait = true;\n    }\n\n    let cmd;\n    let appArgs = [];\n    let args: string[] = [];\n    const cpOpts: any = {};\n    if (opts.cwd && typeof opts.cwd === 'string' && opts.cwd.length > 0) {\n        cpOpts.cwd = opts.cwd;\n    }\n    if (opts.env && Object.keys(opts.env).length > 0) {\n        cpOpts.env = opts.env;\n    }\n\n    if (Array.isArray(opts.app)) {\n        appArgs = opts.app.slice(1);\n        opts.app = opts.app[0];\n    }\n\n    if (process.platform === 'darwin') {\n        const sudoPrefix = opts.sudo === true ? 'sudo ' : '';\n        cmd = 'osascript';\n        args = ['-e', 'tell application \"terminal\"', '-e', 'activate', '-e', 'do script \"' + sudoPrefix + [opts.app].concat(appArgs).join(' ') + '\"', '-e', 'end tell'];\n    } else if (process.platform === 'win32') {\n        cmd = 'cmd';\n        args.push('/c', 'start');\n\n        if (opts.wait) {\n            args.push('/wait');\n        }\n\n        if (opts.app) {\n            args.push(opts.app);\n        }\n\n        if (appArgs.length > 0) {\n            args = args.concat(appArgs);\n        }\n    } else {\n        cmd = 'gnome-terminal';\n        const sudoPrefix = opts.sudo === true ? 'sudo ' : '';\n        args = ['-x', 'sh', '-c', `\"${sudoPrefix}${opts.app}\" ${appArgs.join(' ')}`];\n    }\n\n    const cp = childProcess.spawn(cmd, args, cpOpts);\n\n    if (opts.wait) {\n        return new Promise(function(resolve, reject) {\n            cp.once('error', reject);\n\n            cp.once('close', function(code) {\n                if (code > 0) {\n                    reject(new Error(`Exited with code ${code}`));\n                    return;\n                }\n\n                resolve(cp);\n            });\n        });\n    }\n\n    cp.unref();\n\n    return Promise.resolve(cp);\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\nimport * as net from 'net';\nimport { DebugSession } from 'vscode-debugadapter';\nimport { ISocketServer } from '../../../common/types';\nimport { createDeferred } from '../../../common/utils/async';\nimport { IServiceContainer } from '../../../ioc/types';\nimport { LaunchRequestArguments } from '../../types';\nimport { IDebugServer } from '../Common/Contracts';\nimport { BaseDebugServer } from './BaseDebugServer';\n\nexport class LocalDebugServerV2 extends BaseDebugServer {\n    private socketServer?: ISocketServer;\n\n    constructor(debugSession: DebugSession, private args: LaunchRequestArguments, private serviceContainer: IServiceContainer) {\n        super(debugSession);\n        this.clientSocket = createDeferred<net.Socket>();\n    }\n\n    public Stop() {\n        if (this.socketServer) {\n            try {\n                this.socketServer.dispose();\n                // tslint:disable-next-line:no-empty\n            } catch {}\n            this.socketServer = undefined;\n        }\n    }\n\n    public async Start(): Promise<IDebugServer> {\n        const host = typeof this.args.host === 'string' && this.args.host.trim().length > 0 ? this.args.host!.trim() : 'localhost';\n        const socketServer = (this.socketServer = this.serviceContainer.get<ISocketServer>(ISocketServer));\n        const port = await socketServer.Start({ port: this.args.port, host });\n        socketServer.client\n            .then(socket => {\n                // This is required to prevent the launcher from aborting if the PTVSD process spits out any errors in stderr stream.\n                this.isRunning = true;\n                this.debugClientConnected.resolve(true);\n                this.clientSocket.resolve(socket);\n            })\n            .catch(ex => {\n                this.debugClientConnected.reject(ex);\n                this.clientSocket.reject(ex);\n            });\n        return { port, host };\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\nimport { ChildProcess } from 'child_process';\nimport { DebugSession } from 'vscode-debugadapter';\nimport { LaunchRequestArguments } from '../../types';\nimport { ILocalDebugLauncherScriptProvider } from '../types';\nimport { DebugType } from './DebugClient';\nimport { LocalDebugClientV2 } from './localDebugClientV2';\n\nexport class NonDebugClientV2 extends LocalDebugClientV2 {\n    constructor(args: LaunchRequestArguments, debugSession: DebugSession, canLaunchTerminal: boolean, launcherScriptProvider: ILocalDebugLauncherScriptProvider) {\n        super(args, debugSession, canLaunchTerminal, launcherScriptProvider);\n    }\n\n    public get DebugType(): DebugType {\n        return DebugType.RunLocal;\n    }\n\n    public Stop() {\n        super.Stop();\n        if (this.pyProc) {\n            try {\n                this.pyProc!.kill();\n                // tslint:disable-next-line:no-empty\n            } catch {}\n            this.pyProc = undefined;\n        }\n    }\n    protected handleProcessOutput(_proc: ChildProcess, _failedToLaunch: (error: Error | string | Buffer) => void) {\n        // Do nothing\n    }\n}\n","import { DebugSession } from 'vscode-debugadapter';\nimport { AttachRequestArguments, LaunchRequestArguments } from '../../types';\nimport { BaseDebugServer } from '../DebugServers/BaseDebugServer';\nimport { RemoteDebugServerV2 } from '../DebugServers/RemoteDebugServerv2';\nimport { DebugClient, DebugType } from './DebugClient';\n\nexport class RemoteDebugClient<T extends AttachRequestArguments | LaunchRequestArguments> extends DebugClient<T> {\n    private debugServer?: BaseDebugServer;\n    // tslint:disable-next-line:no-any\n    constructor(args: T, debugSession: DebugSession) {\n        super(args, debugSession);\n    }\n\n    public CreateDebugServer(): BaseDebugServer {\n        this.debugServer = new RemoteDebugServerV2(this.debugSession, this.args);\n        return this.debugServer;\n    }\n    public get DebugType(): DebugType {\n        return DebugType.Remote;\n    }\n\n    public Stop() {\n        if (this.debugServer) {\n            this.debugServer.Stop();\n            this.debugServer = undefined;\n        }\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\nimport { Socket } from 'net';\nimport { DebugSession } from 'vscode-debugadapter';\nimport { AttachRequestArguments } from '../../types';\nimport { IDebugServer } from '../Common/Contracts';\nimport { BaseDebugServer } from './BaseDebugServer';\n\nexport class RemoteDebugServerV2 extends BaseDebugServer {\n    private args: AttachRequestArguments;\n    private socket?: Socket;\n    constructor(debugSession: DebugSession, args: AttachRequestArguments) {\n        super(debugSession);\n        this.args = args;\n    }\n\n    public Stop() {\n        if (this.socket) {\n            this.socket.destroy();\n        }\n    }\n    public Start(): Promise<IDebugServer> {\n        return new Promise<IDebugServer>((resolve, reject) => {\n            const port = this.args.port!;\n            const options = { port };\n            if (typeof this.args.host === 'string' && this.args.host.length > 0) {\n                // tslint:disable-next-line:no-any\n                (<any>options).host = this.args.host;\n            }\n            try {\n                let connected = false;\n                const socket = new Socket();\n                socket.on('error', ex => {\n                    if (connected) {\n                        return;\n                    }\n                    reject(ex);\n                });\n                socket.connect(options, () => {\n                    connected = true;\n                    this.socket = socket;\n                    this.clientSocket.resolve(socket);\n                    resolve(options);\n                });\n            } catch (ex) {\n                reject(ex);\n            }\n        });\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\nimport { Container } from 'inversify';\nimport { SocketServer } from '../../common/net/socket/socketServer';\nimport { CurrentProcess } from '../../common/process/currentProcess';\nimport { BufferDecoder } from '../../common/process/decoder';\nimport { IBufferDecoder, IProcessServiceFactory } from '../../common/process/types';\nimport { ICurrentProcess, IDisposableRegistry, ISocketServer } from '../../common/types';\nimport { ServiceContainer } from '../../ioc/container';\nimport { ServiceManager } from '../../ioc/serviceManager';\nimport { IServiceContainer, IServiceManager } from '../../ioc/types';\nimport { DebugStreamProvider } from './Common/debugStreamProvider';\nimport { DebuggerProcessServiceFactory } from './Common/processServiceFactory';\nimport { ProtocolLogger } from './Common/protocolLogger';\nimport { ProtocolParser } from './Common/protocolParser';\nimport { ProtocolMessageWriter } from './Common/protocolWriter';\nimport { IDebugStreamProvider, IProtocolLogger, IProtocolMessageWriter, IProtocolParser } from './types';\n\nexport function initializeIoc(): IServiceContainer {\n    const cont = new Container();\n    const serviceManager = new ServiceManager(cont);\n    const serviceContainer = new ServiceContainer(cont);\n    serviceManager.addSingletonInstance<IServiceContainer>(IServiceContainer, serviceContainer);\n    registerTypes(serviceManager);\n    return serviceContainer;\n}\n\nexport function registerTypes(serviceManager: IServiceManager) {\n    serviceManager.addSingleton<ICurrentProcess>(ICurrentProcess, CurrentProcess);\n    serviceManager.addSingletonInstance<IDisposableRegistry>(IDisposableRegistry, []);\n    serviceManager.addSingleton<IDebugStreamProvider>(IDebugStreamProvider, DebugStreamProvider);\n    serviceManager.addSingleton<IProtocolLogger>(IProtocolLogger, ProtocolLogger);\n    serviceManager.add<IProtocolParser>(IProtocolParser, ProtocolParser);\n    serviceManager.addSingleton<ISocketServer>(ISocketServer, SocketServer);\n    serviceManager.addSingleton<IProtocolMessageWriter>(IProtocolMessageWriter, ProtocolMessageWriter);\n    serviceManager.addSingleton<IBufferDecoder>(IBufferDecoder, BufferDecoder);\n    serviceManager.addSingleton<IProcessServiceFactory>(IProcessServiceFactory, DebuggerProcessServiceFactory);\n}\n","import { EventEmitter } from 'events';\nimport { injectable } from 'inversify';\nimport * as net from 'net';\nimport { ISocketServer } from '../../types';\nimport { createDeferred, Deferred } from '../../utils/async';\nimport { noop } from '../../utils/misc';\n\n@injectable()\nexport class SocketServer extends EventEmitter implements ISocketServer {\n    private socketServer: net.Server | undefined;\n    private clientSocket: Deferred<net.Socket>;\n    public get client(): Promise<net.Socket> {\n        return this.clientSocket.promise;\n    }\n    constructor() {\n        super();\n        this.clientSocket = createDeferred<net.Socket>();\n    }\n    public dispose() {\n        this.Stop();\n    }\n    public Stop() {\n        if (!this.socketServer) {\n            return;\n        }\n        try {\n            this.socketServer.close();\n            // tslint:disable-next-line:no-empty\n        } catch (ex) {}\n        this.socketServer = undefined;\n    }\n\n    public Start(options: { port?: number; host?: string } = {}): Promise<number> {\n        const def = createDeferred<number>();\n        this.socketServer = net.createServer(this.connectionListener.bind(this));\n\n        const port = typeof options.port === 'number' ? options.port! : 0;\n        const host = typeof options.host === 'string' ? options.host! : 'localhost';\n        this.socketServer!.on('error', ex => {\n            // tslint:disable-next-line: no-console\n            console.error('Error in Socket Server', ex);\n            const msg = `Failed to start the socket server. (Error: ${ex.message})`;\n\n            def.reject(msg);\n        });\n        this.socketServer!.listen({ port, host }, () => {\n            def.resolve((this.socketServer!.address() as net.AddressInfo).port);\n        });\n\n        return def.promise;\n    }\n\n    private connectionListener(client: net.Socket) {\n        if (!this.clientSocket.completed) {\n            this.clientSocket.resolve(client);\n        }\n        client.on('close', () => {\n            this.emit('close', client);\n        });\n        client.on('data', (data: Buffer) => {\n            this.emit('data', client, data);\n        });\n        client.on('error', () => noop);\n\n        client.on('timeout', () => {\n            // let msg = \"Debugger client timedout, \" + d;\n        });\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n'use strict';\n\n// tslint:disable:no-any\n\nimport { injectable } from 'inversify';\nimport { ICurrentProcess } from '../types';\nimport { EnvironmentVariables } from '../variables/types';\n\n@injectable()\nexport class CurrentProcess implements ICurrentProcess {\n    public on = (event: string | symbol, listener: Function): this => {\n        process.on(event as any, listener as any);\n        return process as any;\n    };\n    public get env(): EnvironmentVariables {\n        return (process.env as any) as EnvironmentVariables;\n    }\n    public get argv(): string[] {\n        return process.argv;\n    }\n    public get stdout(): NodeJS.WriteStream {\n        return process.stdout;\n    }\n    public get stdin(): NodeJS.ReadStream {\n        return process.stdin;\n    }\n\n    public get execPath(): string {\n        return process.execPath;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport * as iconv from 'iconv-lite';\nimport { injectable } from 'inversify';\nimport { DEFAULT_ENCODING } from './constants';\nimport { IBufferDecoder } from './types';\n\n@injectable()\nexport class BufferDecoder implements IBufferDecoder {\n    public decode(buffers: Buffer[], encoding: string = DEFAULT_ENCODING): string {\n        encoding = iconv.encodingExists(encoding) ? encoding : DEFAULT_ENCODING;\n        return iconv.decode(Buffer.concat(buffers), encoding);\n    }\n}\n","\"use strict\";\n\n// Some environments don't have global Buffer (e.g. React Native).\n// Solution would be installing npm modules \"buffer\" and \"stream\" explicitly.\nvar Buffer = require(\"safer-buffer\").Buffer;\n\nvar bomHandling = require(\"./bom-handling\"),\n    iconv = module.exports;\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\niconv.encodings = null;\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = '';\niconv.defaultCharSingleByte = '?';\n\n// Public API.\niconv.encode = function encode(str, encoding, options) {\n    str = \"\" + (str || \"\"); // Ensure string.\n\n    var encoder = iconv.getEncoder(encoding, options);\n\n    var res = encoder.write(str);\n    var trail = encoder.end();\n    \n    return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res;\n}\n\niconv.decode = function decode(buf, encoding, options) {\n    if (typeof buf === 'string') {\n        if (!iconv.skipDecodeWarning) {\n            console.error('Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding');\n            iconv.skipDecodeWarning = true;\n        }\n\n        buf = Buffer.from(\"\" + (buf || \"\"), \"binary\"); // Ensure buffer.\n    }\n\n    var decoder = iconv.getDecoder(encoding, options);\n\n    var res = decoder.write(buf);\n    var trail = decoder.end();\n\n    return trail ? (res + trail) : res;\n}\n\niconv.encodingExists = function encodingExists(enc) {\n    try {\n        iconv.getCodec(enc);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode;\niconv.fromEncoding = iconv.decode;\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = {};\niconv.getCodec = function getCodec(encoding) {\n    if (!iconv.encodings)\n        iconv.encodings = require(\"../encodings\"); // Lazy load all encoding definitions.\n    \n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    var enc = iconv._canonicalizeEncoding(encoding);\n\n    // Traverse iconv.encodings to find actual codec.\n    var codecOptions = {};\n    while (true) {\n        var codec = iconv._codecDataCache[enc];\n        if (codec)\n            return codec;\n\n        var codecDef = iconv.encodings[enc];\n\n        switch (typeof codecDef) {\n            case \"string\": // Direct alias to other encoding.\n                enc = codecDef;\n                break;\n\n            case \"object\": // Alias with options. Can be layered.\n                for (var key in codecDef)\n                    codecOptions[key] = codecDef[key];\n\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n                \n                enc = codecDef.type;\n                break;\n\n            case \"function\": // Codec itself.\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n\n                // The codec function must load all tables and return object with .encoder and .decoder methods.\n                // It'll be called only once (for each different options object).\n                codec = new codecDef(codecOptions, iconv);\n\n                iconv._codecDataCache[codecOptions.encodingName] = codec; // Save it to be reused later.\n                return codec;\n\n            default:\n                throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\"+enc+\"')\");\n        }\n    }\n}\n\niconv._canonicalizeEncoding = function(encoding) {\n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    return (''+encoding).toLowerCase().replace(/:\\d{4}$|[^0-9a-z]/g, \"\");\n}\n\niconv.getEncoder = function getEncoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        encoder = new codec.encoder(options, codec);\n\n    if (codec.bomAware && options && options.addBOM)\n        encoder = new bomHandling.PrependBOM(encoder, options);\n\n    return encoder;\n}\n\niconv.getDecoder = function getDecoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        decoder = new codec.decoder(options, codec);\n\n    if (codec.bomAware && !(options && options.stripBOM === false))\n        decoder = new bomHandling.StripBOM(decoder, options);\n\n    return decoder;\n}\n\n\n// Load extensions in Node. All of them are omitted in Browserify build via 'browser' field in package.json.\nvar nodeVer = typeof process !== 'undefined' && process.versions && process.versions.node;\nif (nodeVer) {\n\n    // Load streaming support in Node v0.10+\n    var nodeVerArr = nodeVer.split(\".\").map(Number);\n    if (nodeVerArr[0] > 0 || nodeVerArr[1] >= 10) {\n        require(\"./streams\")(iconv);\n    }\n\n    // Load Node primitive extensions.\n    require(\"./extend-node\")(iconv);\n}\n\nif (\"\" != \"\\u0100\") {\n    console.error(\"iconv-lite warning: javascript files use encoding different from utf-8. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.\");\n}\n","\"use strict\";\n\nvar BOMChar = '\\uFEFF';\n\nexports.PrependBOM = PrependBOMWrapper\nfunction PrependBOMWrapper(encoder, options) {\n    this.encoder = encoder;\n    this.addBOM = true;\n}\n\nPrependBOMWrapper.prototype.write = function(str) {\n    if (this.addBOM) {\n        str = BOMChar + str;\n        this.addBOM = false;\n    }\n\n    return this.encoder.write(str);\n}\n\nPrependBOMWrapper.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n\nexports.StripBOM = StripBOMWrapper;\nfunction StripBOMWrapper(decoder, options) {\n    this.decoder = decoder;\n    this.pass = false;\n    this.options = options || {};\n}\n\nStripBOMWrapper.prototype.write = function(buf) {\n    var res = this.decoder.write(buf);\n    if (this.pass || !res)\n        return res;\n\n    if (res[0] === BOMChar) {\n        res = res.slice(1);\n        if (typeof this.options.stripBOM === 'function')\n            this.options.stripBOM();\n    }\n\n    this.pass = true;\n    return res;\n}\n\nStripBOMWrapper.prototype.end = function() {\n    return this.decoder.end();\n}\n\n","\"use strict\";\n\n// Update this array if you add/rename/remove files in this directory.\n// We support Browserify by skipping automatic module discovery and requiring modules directly.\nvar modules = [\n    require(\"./internal\"),\n    require(\"./utf16\"),\n    require(\"./utf7\"),\n    require(\"./sbcs-codec\"),\n    require(\"./sbcs-data\"),\n    require(\"./sbcs-data-generated\"),\n    require(\"./dbcs-codec\"),\n    require(\"./dbcs-data\"),\n];\n\n// Put all encoding/alias/codec definitions to single object and export it. \nfor (var i = 0; i < modules.length; i++) {\n    var module = modules[i];\n    for (var enc in module)\n        if (Object.prototype.hasOwnProperty.call(module, enc))\n            exports[enc] = module[enc];\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Export Node.js internal encodings.\n\nmodule.exports = {\n    // Encodings\n    utf8:   { type: \"_internal\", bomAware: true},\n    cesu8:  { type: \"_internal\", bomAware: true},\n    unicode11utf8: \"utf8\",\n\n    ucs2:   { type: \"_internal\", bomAware: true},\n    utf16le: \"ucs2\",\n\n    binary: { type: \"_internal\" },\n    base64: { type: \"_internal\" },\n    hex:    { type: \"_internal\" },\n\n    // Codec.\n    _internal: InternalCodec,\n};\n\n//------------------------------------------------------------------------------\n\nfunction InternalCodec(codecOptions, iconv) {\n    this.enc = codecOptions.encodingName;\n    this.bomAware = codecOptions.bomAware;\n\n    if (this.enc === \"base64\")\n        this.encoder = InternalEncoderBase64;\n    else if (this.enc === \"cesu8\") {\n        this.enc = \"utf8\"; // Use utf8 for decoding.\n        this.encoder = InternalEncoderCesu8;\n\n        // Add decoder for versions of Node not supporting CESU-8\n        if (Buffer.from('eda0bdedb2a9', 'hex').toString() !== '') {\n            this.decoder = InternalDecoderCesu8;\n            this.defaultCharUnicode = iconv.defaultCharUnicode;\n        }\n    }\n}\n\nInternalCodec.prototype.encoder = InternalEncoder;\nInternalCodec.prototype.decoder = InternalDecoder;\n\n//------------------------------------------------------------------------------\n\n// We use node.js internal decoder. Its signature is the same as ours.\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nif (!StringDecoder.prototype.end) // Node v0.8 doesn't have this method.\n    StringDecoder.prototype.end = function() {};\n\n\nfunction InternalDecoder(options, codec) {\n    StringDecoder.call(this, codec.enc);\n}\n\nInternalDecoder.prototype = StringDecoder.prototype;\n\n\n//------------------------------------------------------------------------------\n// Encoder is mostly trivial\n\nfunction InternalEncoder(options, codec) {\n    this.enc = codec.enc;\n}\n\nInternalEncoder.prototype.write = function(str) {\n    return Buffer.from(str, this.enc);\n}\n\nInternalEncoder.prototype.end = function() {\n}\n\n\n//------------------------------------------------------------------------------\n// Except base64 encoder, which must keep its state.\n\nfunction InternalEncoderBase64(options, codec) {\n    this.prevStr = '';\n}\n\nInternalEncoderBase64.prototype.write = function(str) {\n    str = this.prevStr + str;\n    var completeQuads = str.length - (str.length % 4);\n    this.prevStr = str.slice(completeQuads);\n    str = str.slice(0, completeQuads);\n\n    return Buffer.from(str, \"base64\");\n}\n\nInternalEncoderBase64.prototype.end = function() {\n    return Buffer.from(this.prevStr, \"base64\");\n}\n\n\n//------------------------------------------------------------------------------\n// CESU-8 encoder is also special.\n\nfunction InternalEncoderCesu8(options, codec) {\n}\n\nInternalEncoderCesu8.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length * 3), bufIdx = 0;\n    for (var i = 0; i < str.length; i++) {\n        var charCode = str.charCodeAt(i);\n        // Naive implementation, but it works because CESU-8 is especially easy\n        // to convert from UTF-16 (which all JS strings are encoded in).\n        if (charCode < 0x80)\n            buf[bufIdx++] = charCode;\n        else if (charCode < 0x800) {\n            buf[bufIdx++] = 0xC0 + (charCode >>> 6);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n        else { // charCode will always be < 0x10000 in javascript.\n            buf[bufIdx++] = 0xE0 + (charCode >>> 12);\n            buf[bufIdx++] = 0x80 + ((charCode >>> 6) & 0x3f);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n    }\n    return buf.slice(0, bufIdx);\n}\n\nInternalEncoderCesu8.prototype.end = function() {\n}\n\n//------------------------------------------------------------------------------\n// CESU-8 decoder is not implemented in Node v4.0+\n\nfunction InternalDecoderCesu8(options, codec) {\n    this.acc = 0;\n    this.contBytes = 0;\n    this.accBytes = 0;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n}\n\nInternalDecoderCesu8.prototype.write = function(buf) {\n    var acc = this.acc, contBytes = this.contBytes, accBytes = this.accBytes, \n        res = '';\n    for (var i = 0; i < buf.length; i++) {\n        var curByte = buf[i];\n        if ((curByte & 0xC0) !== 0x80) { // Leading byte\n            if (contBytes > 0) { // Previous code is invalid\n                res += this.defaultCharUnicode;\n                contBytes = 0;\n            }\n\n            if (curByte < 0x80) { // Single-byte code\n                res += String.fromCharCode(curByte);\n            } else if (curByte < 0xE0) { // Two-byte code\n                acc = curByte & 0x1F;\n                contBytes = 1; accBytes = 1;\n            } else if (curByte < 0xF0) { // Three-byte code\n                acc = curByte & 0x0F;\n                contBytes = 2; accBytes = 1;\n            } else { // Four or more are not supported for CESU-8.\n                res += this.defaultCharUnicode;\n            }\n        } else { // Continuation byte\n            if (contBytes > 0) { // We're waiting for it.\n                acc = (acc << 6) | (curByte & 0x3f);\n                contBytes--; accBytes++;\n                if (contBytes === 0) {\n                    // Check for overlong encoding, but support Modified UTF-8 (encoding NULL as C0 80)\n                    if (accBytes === 2 && acc < 0x80 && acc > 0)\n                        res += this.defaultCharUnicode;\n                    else if (accBytes === 3 && acc < 0x800)\n                        res += this.defaultCharUnicode;\n                    else\n                        // Actually add character.\n                        res += String.fromCharCode(acc);\n                }\n            } else { // Unexpected continuation byte\n                res += this.defaultCharUnicode;\n            }\n        }\n    }\n    this.acc = acc; this.contBytes = contBytes; this.accBytes = accBytes;\n    return res;\n}\n\nInternalDecoderCesu8.prototype.end = function() {\n    var res = 0;\n    if (this.contBytes > 0)\n        res += this.defaultCharUnicode;\n    return res;\n}\n","module.exports = require(\"string_decoder\");","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Note: UTF16-LE (or UCS2) codec is Node.js native. See encodings/internal.js\n\n// == UTF16-BE codec. ==========================================================\n\nexports.utf16be = Utf16BECodec;\nfunction Utf16BECodec() {\n}\n\nUtf16BECodec.prototype.encoder = Utf16BEEncoder;\nUtf16BECodec.prototype.decoder = Utf16BEDecoder;\nUtf16BECodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf16BEEncoder() {\n}\n\nUtf16BEEncoder.prototype.write = function(str) {\n    var buf = Buffer.from(str, 'ucs2');\n    for (var i = 0; i < buf.length; i += 2) {\n        var tmp = buf[i]; buf[i] = buf[i+1]; buf[i+1] = tmp;\n    }\n    return buf;\n}\n\nUtf16BEEncoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf16BEDecoder() {\n    this.overflowByte = -1;\n}\n\nUtf16BEDecoder.prototype.write = function(buf) {\n    if (buf.length == 0)\n        return '';\n\n    var buf2 = Buffer.alloc(buf.length + 1),\n        i = 0, j = 0;\n\n    if (this.overflowByte !== -1) {\n        buf2[0] = buf[0];\n        buf2[1] = this.overflowByte;\n        i = 1; j = 2;\n    }\n\n    for (; i < buf.length-1; i += 2, j+= 2) {\n        buf2[j] = buf[i+1];\n        buf2[j+1] = buf[i];\n    }\n\n    this.overflowByte = (i == buf.length-1) ? buf[buf.length-1] : -1;\n\n    return buf2.slice(0, j).toString('ucs2');\n}\n\nUtf16BEDecoder.prototype.end = function() {\n}\n\n\n// == UTF-16 codec =============================================================\n// Decoder chooses automatically from UTF-16LE and UTF-16BE using BOM and space-based heuristic.\n// Defaults to UTF-16LE, as it's prevalent and default in Node.\n// http://en.wikipedia.org/wiki/UTF-16 and http://encoding.spec.whatwg.org/#utf-16le\n// Decoder default can be changed: iconv.decode(buf, 'utf16', {defaultEncoding: 'utf-16be'});\n\n// Encoder uses UTF-16LE and prepends BOM (which can be overridden with addBOM: false).\n\nexports.utf16 = Utf16Codec;\nfunction Utf16Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n}\n\nUtf16Codec.prototype.encoder = Utf16Encoder;\nUtf16Codec.prototype.decoder = Utf16Decoder;\n\n\n// -- Encoding (pass-through)\n\nfunction Utf16Encoder(options, codec) {\n    options = options || {};\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n    this.encoder = codec.iconv.getEncoder('utf-16le', options);\n}\n\nUtf16Encoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n}\n\nUtf16Encoder.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n// -- Decoding\n\nfunction Utf16Decoder(options, codec) {\n    this.decoder = null;\n    this.initialBytes = [];\n    this.initialBytesLen = 0;\n\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf16Decoder.prototype.write = function(buf) {\n    if (!this.decoder) {\n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBytes.push(buf);\n        this.initialBytesLen += buf.length;\n        \n        if (this.initialBytesLen < 16) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var buf = Buffer.concat(this.initialBytes),\n            encoding = detectEncoding(buf, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n        this.initialBytes.length = this.initialBytesLen = 0;\n    }\n\n    return this.decoder.write(buf);\n}\n\nUtf16Decoder.prototype.end = function() {\n    if (!this.decoder) {\n        var buf = Buffer.concat(this.initialBytes),\n            encoding = detectEncoding(buf, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var res = this.decoder.write(buf),\n            trail = this.decoder.end();\n\n        return trail ? (res + trail) : res;\n    }\n    return this.decoder.end();\n}\n\nfunction detectEncoding(buf, defaultEncoding) {\n    var enc = defaultEncoding || 'utf-16le';\n\n    if (buf.length >= 2) {\n        // Check BOM.\n        if (buf[0] == 0xFE && buf[1] == 0xFF) // UTF-16BE BOM\n            enc = 'utf-16be';\n        else if (buf[0] == 0xFF && buf[1] == 0xFE) // UTF-16LE BOM\n            enc = 'utf-16le';\n        else {\n            // No BOM found. Try to deduce encoding from initial content.\n            // Most of the time, the content has ASCII chars (U+00**), but the opposite (U+**00) is uncommon.\n            // So, we count ASCII as if it was LE or BE, and decide from that.\n            var asciiCharsLE = 0, asciiCharsBE = 0, // Counts of chars in both positions\n                _len = Math.min(buf.length - (buf.length % 2), 64); // Len is always even.\n\n            for (var i = 0; i < _len; i += 2) {\n                if (buf[i] === 0 && buf[i+1] !== 0) asciiCharsBE++;\n                if (buf[i] !== 0 && buf[i+1] === 0) asciiCharsLE++;\n            }\n\n            if (asciiCharsBE > asciiCharsLE)\n                enc = 'utf-16be';\n            else if (asciiCharsBE < asciiCharsLE)\n                enc = 'utf-16le';\n        }\n    }\n\n    return enc;\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// UTF-7 codec, according to https://tools.ietf.org/html/rfc2152\n// See also below a UTF-7-IMAP codec, according to http://tools.ietf.org/html/rfc3501#section-5.1.3\n\nexports.utf7 = Utf7Codec;\nexports.unicode11utf7 = 'utf7'; // Alias UNICODE-1-1-UTF-7\nfunction Utf7Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7Codec.prototype.encoder = Utf7Encoder;\nUtf7Codec.prototype.decoder = Utf7Decoder;\nUtf7Codec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nvar nonDirectChars = /[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g;\n\nfunction Utf7Encoder(options, codec) {\n    this.iconv = codec.iconv;\n}\n\nUtf7Encoder.prototype.write = function(str) {\n    // Naive implementation.\n    // Non-direct chars are encoded as \"+<base64>-\"; single \"+\" char is encoded as \"+-\".\n    return Buffer.from(str.replace(nonDirectChars, function(chunk) {\n        return \"+\" + (chunk === '+' ? '' : \n            this.iconv.encode(chunk, 'utf16-be').toString('base64').replace(/=+$/, '')) \n            + \"-\";\n    }.bind(this)));\n}\n\nUtf7Encoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf7Decoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64Regex = /[A-Za-z0-9\\/+]/;\nvar base64Chars = [];\nfor (var i = 0; i < 256; i++)\n    base64Chars[i] = base64Regex.test(String.fromCharCode(i));\n\nvar plusChar = '+'.charCodeAt(0), \n    minusChar = '-'.charCodeAt(0),\n    andChar = '&'.charCodeAt(0);\n\nUtf7Decoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '+'\n            if (buf[i] == plusChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64Chars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) {// \"+-\" -> \"+\"\n                    res += \"+\";\n                } else {\n                    var b64str = base64Accum + buf.slice(lastI, i).toString();\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus is absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + buf.slice(lastI).toString();\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7Decoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n// UTF-7-IMAP codec.\n// RFC3501 Sec. 5.1.3 Modified UTF-7 (http://tools.ietf.org/html/rfc3501#section-5.1.3)\n// Differences:\n//  * Base64 part is started by \"&\" instead of \"+\"\n//  * Direct characters are 0x20-0x7E, except \"&\" (0x26)\n//  * In Base64, \",\" is used instead of \"/\"\n//  * Base64 must not be used to represent direct characters.\n//  * No implicit shift back from Base64 (should always end with '-')\n//  * String must end in non-shifted position.\n//  * \"-&\" while in base64 is not allowed.\n\n\nexports.utf7imap = Utf7IMAPCodec;\nfunction Utf7IMAPCodec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7IMAPCodec.prototype.encoder = Utf7IMAPEncoder;\nUtf7IMAPCodec.prototype.decoder = Utf7IMAPDecoder;\nUtf7IMAPCodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf7IMAPEncoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = Buffer.alloc(6);\n    this.base64AccumIdx = 0;\n}\n\nUtf7IMAPEncoder.prototype.write = function(str) {\n    var inBase64 = this.inBase64,\n        base64Accum = this.base64Accum,\n        base64AccumIdx = this.base64AccumIdx,\n        buf = Buffer.alloc(str.length*5 + 10), bufIdx = 0;\n\n    for (var i = 0; i < str.length; i++) {\n        var uChar = str.charCodeAt(i);\n        if (0x20 <= uChar && uChar <= 0x7E) { // Direct character or '&'.\n            if (inBase64) {\n                if (base64AccumIdx > 0) {\n                    bufIdx += buf.write(base64Accum.slice(0, base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n                    base64AccumIdx = 0;\n                }\n\n                buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n                inBase64 = false;\n            }\n\n            if (!inBase64) {\n                buf[bufIdx++] = uChar; // Write direct character\n\n                if (uChar === andChar)  // Ampersand -> '&-'\n                    buf[bufIdx++] = minusChar;\n            }\n\n        } else { // Non-direct character\n            if (!inBase64) {\n                buf[bufIdx++] = andChar; // Write '&', then go to base64 mode.\n                inBase64 = true;\n            }\n            if (inBase64) {\n                base64Accum[base64AccumIdx++] = uChar >> 8;\n                base64Accum[base64AccumIdx++] = uChar & 0xFF;\n\n                if (base64AccumIdx == base64Accum.length) {\n                    bufIdx += buf.write(base64Accum.toString('base64').replace(/\\//g, ','), bufIdx);\n                    base64AccumIdx = 0;\n                }\n            }\n        }\n    }\n\n    this.inBase64 = inBase64;\n    this.base64AccumIdx = base64AccumIdx;\n\n    return buf.slice(0, bufIdx);\n}\n\nUtf7IMAPEncoder.prototype.end = function() {\n    var buf = Buffer.alloc(10), bufIdx = 0;\n    if (this.inBase64) {\n        if (this.base64AccumIdx > 0) {\n            bufIdx += buf.write(this.base64Accum.slice(0, this.base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n            this.base64AccumIdx = 0;\n        }\n\n        buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n        this.inBase64 = false;\n    }\n\n    return buf.slice(0, bufIdx);\n}\n\n\n// -- Decoding\n\nfunction Utf7IMAPDecoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64IMAPChars = base64Chars.slice();\nbase64IMAPChars[','.charCodeAt(0)] = true;\n\nUtf7IMAPDecoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n    // It is forgiving, closer to standard UTF-7 (for example, '-' is optional at the end).\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '&'\n            if (buf[i] == andChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64IMAPChars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) { // \"&-\" -> \"&\"\n                    res += \"&\";\n                } else {\n                    var b64str = base64Accum + buf.slice(lastI, i).toString().replace(/,/g, '/');\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus may be absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + buf.slice(lastI).toString().replace(/,/g, '/');\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7IMAPDecoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Single-byte codec. Needs a 'chars' string parameter that contains 256 or 128 chars that\n// correspond to encoded bytes (if 128 - then lower half is ASCII). \n\nexports._sbcs = SBCSCodec;\nfunction SBCSCodec(codecOptions, iconv) {\n    if (!codecOptions)\n        throw new Error(\"SBCS codec is called without the data.\")\n    \n    // Prepare char buffer for decoding.\n    if (!codecOptions.chars || (codecOptions.chars.length !== 128 && codecOptions.chars.length !== 256))\n        throw new Error(\"Encoding '\"+codecOptions.type+\"' has incorrect 'chars' (must be of len 128 or 256)\");\n    \n    if (codecOptions.chars.length === 128) {\n        var asciiString = \"\";\n        for (var i = 0; i < 128; i++)\n            asciiString += String.fromCharCode(i);\n        codecOptions.chars = asciiString + codecOptions.chars;\n    }\n\n    this.decodeBuf = Buffer.from(codecOptions.chars, 'ucs2');\n    \n    // Encoding buffer.\n    var encodeBuf = Buffer.alloc(65536, iconv.defaultCharSingleByte.charCodeAt(0));\n\n    for (var i = 0; i < codecOptions.chars.length; i++)\n        encodeBuf[codecOptions.chars.charCodeAt(i)] = i;\n\n    this.encodeBuf = encodeBuf;\n}\n\nSBCSCodec.prototype.encoder = SBCSEncoder;\nSBCSCodec.prototype.decoder = SBCSDecoder;\n\n\nfunction SBCSEncoder(options, codec) {\n    this.encodeBuf = codec.encodeBuf;\n}\n\nSBCSEncoder.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length);\n    for (var i = 0; i < str.length; i++)\n        buf[i] = this.encodeBuf[str.charCodeAt(i)];\n    \n    return buf;\n}\n\nSBCSEncoder.prototype.end = function() {\n}\n\n\nfunction SBCSDecoder(options, codec) {\n    this.decodeBuf = codec.decodeBuf;\n}\n\nSBCSDecoder.prototype.write = function(buf) {\n    // Strings are immutable in JS -> we use ucs2 buffer to speed up computations.\n    var decodeBuf = this.decodeBuf;\n    var newBuf = Buffer.alloc(buf.length*2);\n    var idx1 = 0, idx2 = 0;\n    for (var i = 0; i < buf.length; i++) {\n        idx1 = buf[i]*2; idx2 = i*2;\n        newBuf[idx2] = decodeBuf[idx1];\n        newBuf[idx2+1] = decodeBuf[idx1+1];\n    }\n    return newBuf.toString('ucs2');\n}\n\nSBCSDecoder.prototype.end = function() {\n}\n","\"use strict\";\n\n// Manually added data to be used by sbcs codec in addition to generated one.\n\nmodule.exports = {\n    // Not supported by iconv, not sure why.\n    \"10029\": \"maccenteuro\",\n    \"maccenteuro\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"808\": \"cp808\",\n    \"ibm808\": \"cp808\",\n    \"cp808\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"mik\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    // Aliases of generated encodings.\n    \"ascii8bit\": \"ascii\",\n    \"usascii\": \"ascii\",\n    \"ansix34\": \"ascii\",\n    \"ansix341968\": \"ascii\",\n    \"ansix341986\": \"ascii\",\n    \"csascii\": \"ascii\",\n    \"cp367\": \"ascii\",\n    \"ibm367\": \"ascii\",\n    \"isoir6\": \"ascii\",\n    \"iso646us\": \"ascii\",\n    \"iso646irv\": \"ascii\",\n    \"us\": \"ascii\",\n\n    \"latin1\": \"iso88591\",\n    \"latin2\": \"iso88592\",\n    \"latin3\": \"iso88593\",\n    \"latin4\": \"iso88594\",\n    \"latin5\": \"iso88599\",\n    \"latin6\": \"iso885910\",\n    \"latin7\": \"iso885913\",\n    \"latin8\": \"iso885914\",\n    \"latin9\": \"iso885915\",\n    \"latin10\": \"iso885916\",\n\n    \"csisolatin1\": \"iso88591\",\n    \"csisolatin2\": \"iso88592\",\n    \"csisolatin3\": \"iso88593\",\n    \"csisolatin4\": \"iso88594\",\n    \"csisolatincyrillic\": \"iso88595\",\n    \"csisolatinarabic\": \"iso88596\",\n    \"csisolatingreek\" : \"iso88597\",\n    \"csisolatinhebrew\": \"iso88598\",\n    \"csisolatin5\": \"iso88599\",\n    \"csisolatin6\": \"iso885910\",\n\n    \"l1\": \"iso88591\",\n    \"l2\": \"iso88592\",\n    \"l3\": \"iso88593\",\n    \"l4\": \"iso88594\",\n    \"l5\": \"iso88599\",\n    \"l6\": \"iso885910\",\n    \"l7\": \"iso885913\",\n    \"l8\": \"iso885914\",\n    \"l9\": \"iso885915\",\n    \"l10\": \"iso885916\",\n\n    \"isoir14\": \"iso646jp\",\n    \"isoir57\": \"iso646cn\",\n    \"isoir100\": \"iso88591\",\n    \"isoir101\": \"iso88592\",\n    \"isoir109\": \"iso88593\",\n    \"isoir110\": \"iso88594\",\n    \"isoir144\": \"iso88595\",\n    \"isoir127\": \"iso88596\",\n    \"isoir126\": \"iso88597\",\n    \"isoir138\": \"iso88598\",\n    \"isoir148\": \"iso88599\",\n    \"isoir157\": \"iso885910\",\n    \"isoir166\": \"tis620\",\n    \"isoir179\": \"iso885913\",\n    \"isoir199\": \"iso885914\",\n    \"isoir203\": \"iso885915\",\n    \"isoir226\": \"iso885916\",\n\n    \"cp819\": \"iso88591\",\n    \"ibm819\": \"iso88591\",\n\n    \"cyrillic\": \"iso88595\",\n\n    \"arabic\": \"iso88596\",\n    \"arabic8\": \"iso88596\",\n    \"ecma114\": \"iso88596\",\n    \"asmo708\": \"iso88596\",\n\n    \"greek\" : \"iso88597\",\n    \"greek8\" : \"iso88597\",\n    \"ecma118\" : \"iso88597\",\n    \"elot928\" : \"iso88597\",\n\n    \"hebrew\": \"iso88598\",\n    \"hebrew8\": \"iso88598\",\n\n    \"turkish\": \"iso88599\",\n    \"turkish8\": \"iso88599\",\n\n    \"thai\": \"iso885911\",\n    \"thai8\": \"iso885911\",\n\n    \"celtic\": \"iso885914\",\n    \"celtic8\": \"iso885914\",\n    \"isoceltic\": \"iso885914\",\n\n    \"tis6200\": \"tis620\",\n    \"tis62025291\": \"tis620\",\n    \"tis62025330\": \"tis620\",\n\n    \"10000\": \"macroman\",\n    \"10006\": \"macgreek\",\n    \"10007\": \"maccyrillic\",\n    \"10079\": \"maciceland\",\n    \"10081\": \"macturkish\",\n\n    \"cspc8codepage437\": \"cp437\",\n    \"cspc775baltic\": \"cp775\",\n    \"cspc850multilingual\": \"cp850\",\n    \"cspcp852\": \"cp852\",\n    \"cspc862latinhebrew\": \"cp862\",\n    \"cpgr\": \"cp869\",\n\n    \"msee\": \"cp1250\",\n    \"mscyrl\": \"cp1251\",\n    \"msansi\": \"cp1252\",\n    \"msgreek\": \"cp1253\",\n    \"msturk\": \"cp1254\",\n    \"mshebr\": \"cp1255\",\n    \"msarab\": \"cp1256\",\n    \"winbaltrim\": \"cp1257\",\n\n    \"cp20866\": \"koi8r\",\n    \"20866\": \"koi8r\",\n    \"ibm878\": \"koi8r\",\n    \"cskoi8r\": \"koi8r\",\n\n    \"cp21866\": \"koi8u\",\n    \"21866\": \"koi8u\",\n    \"ibm1168\": \"koi8u\",\n\n    \"strk10482002\": \"rk1048\",\n\n    \"tcvn5712\": \"tcvn\",\n    \"tcvn57121\": \"tcvn\",\n\n    \"gb198880\": \"iso646cn\",\n    \"cn\": \"iso646cn\",\n\n    \"csiso14jisc6220ro\": \"iso646jp\",\n    \"jisc62201969ro\": \"iso646jp\",\n    \"jp\": \"iso646jp\",\n\n    \"cshproman8\": \"hproman8\",\n    \"r8\": \"hproman8\",\n    \"roman8\": \"hproman8\",\n    \"xroman8\": \"hproman8\",\n    \"ibm1051\": \"hproman8\",\n\n    \"mac\": \"macintosh\",\n    \"csmacintosh\": \"macintosh\",\n};\n\n","\"use strict\";\n\n// Generated data for sbcs codec. Don't edit manually. Regenerate using generation/gen-sbcs.js script.\nmodule.exports = {\n  \"437\": \"cp437\",\n  \"737\": \"cp737\",\n  \"775\": \"cp775\",\n  \"850\": \"cp850\",\n  \"852\": \"cp852\",\n  \"855\": \"cp855\",\n  \"856\": \"cp856\",\n  \"857\": \"cp857\",\n  \"858\": \"cp858\",\n  \"860\": \"cp860\",\n  \"861\": \"cp861\",\n  \"862\": \"cp862\",\n  \"863\": \"cp863\",\n  \"864\": \"cp864\",\n  \"865\": \"cp865\",\n  \"866\": \"cp866\",\n  \"869\": \"cp869\",\n  \"874\": \"windows874\",\n  \"922\": \"cp922\",\n  \"1046\": \"cp1046\",\n  \"1124\": \"cp1124\",\n  \"1125\": \"cp1125\",\n  \"1129\": \"cp1129\",\n  \"1133\": \"cp1133\",\n  \"1161\": \"cp1161\",\n  \"1162\": \"cp1162\",\n  \"1163\": \"cp1163\",\n  \"1250\": \"windows1250\",\n  \"1251\": \"windows1251\",\n  \"1252\": \"windows1252\",\n  \"1253\": \"windows1253\",\n  \"1254\": \"windows1254\",\n  \"1255\": \"windows1255\",\n  \"1256\": \"windows1256\",\n  \"1257\": \"windows1257\",\n  \"1258\": \"windows1258\",\n  \"28591\": \"iso88591\",\n  \"28592\": \"iso88592\",\n  \"28593\": \"iso88593\",\n  \"28594\": \"iso88594\",\n  \"28595\": \"iso88595\",\n  \"28596\": \"iso88596\",\n  \"28597\": \"iso88597\",\n  \"28598\": \"iso88598\",\n  \"28599\": \"iso88599\",\n  \"28600\": \"iso885910\",\n  \"28601\": \"iso885911\",\n  \"28603\": \"iso885913\",\n  \"28604\": \"iso885914\",\n  \"28605\": \"iso885915\",\n  \"28606\": \"iso885916\",\n  \"windows874\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win874\": \"windows874\",\n  \"cp874\": \"windows874\",\n  \"windows1250\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1250\": \"windows1250\",\n  \"cp1250\": \"windows1250\",\n  \"windows1251\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1251\": \"windows1251\",\n  \"cp1251\": \"windows1251\",\n  \"windows1252\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1252\": \"windows1252\",\n  \"cp1252\": \"windows1252\",\n  \"windows1253\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1253\": \"windows1253\",\n  \"cp1253\": \"windows1253\",\n  \"windows1254\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1254\": \"windows1254\",\n  \"cp1254\": \"windows1254\",\n  \"windows1255\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1255\": \"windows1255\",\n  \"cp1255\": \"windows1255\",\n  \"windows1256\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1256\": \"windows1256\",\n  \"cp1256\": \"windows1256\",\n  \"windows1257\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1257\": \"windows1257\",\n  \"cp1257\": \"windows1257\",\n  \"windows1258\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1258\": \"windows1258\",\n  \"cp1258\": \"windows1258\",\n  \"iso88591\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28591\": \"iso88591\",\n  \"iso88592\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28592\": \"iso88592\",\n  \"iso88593\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28593\": \"iso88593\",\n  \"iso88594\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28594\": \"iso88594\",\n  \"iso88595\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28595\": \"iso88595\",\n  \"iso88596\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28596\": \"iso88596\",\n  \"iso88597\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28597\": \"iso88597\",\n  \"iso88598\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28598\": \"iso88598\",\n  \"iso88599\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28599\": \"iso88599\",\n  \"iso885910\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28600\": \"iso885910\",\n  \"iso885911\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28601\": \"iso885911\",\n  \"iso885913\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28603\": \"iso885913\",\n  \"iso885914\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28604\": \"iso885914\",\n  \"iso885915\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28605\": \"iso885915\",\n  \"iso885916\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28606\": \"iso885916\",\n  \"cp437\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm437\": \"cp437\",\n  \"csibm437\": \"cp437\",\n  \"cp737\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm737\": \"cp737\",\n  \"csibm737\": \"cp737\",\n  \"cp775\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm775\": \"cp775\",\n  \"csibm775\": \"cp775\",\n  \"cp850\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm850\": \"cp850\",\n  \"csibm850\": \"cp850\",\n  \"cp852\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm852\": \"cp852\",\n  \"csibm852\": \"cp852\",\n  \"cp855\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm855\": \"cp855\",\n  \"csibm855\": \"cp855\",\n  \"cp856\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm856\": \"cp856\",\n  \"csibm856\": \"cp856\",\n  \"cp857\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm857\": \"cp857\",\n  \"csibm857\": \"cp857\",\n  \"cp858\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm858\": \"cp858\",\n  \"csibm858\": \"cp858\",\n  \"cp860\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm860\": \"cp860\",\n  \"csibm860\": \"cp860\",\n  \"cp861\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm861\": \"cp861\",\n  \"csibm861\": \"cp861\",\n  \"cp862\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm862\": \"cp862\",\n  \"csibm862\": \"cp862\",\n  \"cp863\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm863\": \"cp863\",\n  \"csibm863\": \"cp863\",\n  \"cp864\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"ibm864\": \"cp864\",\n  \"csibm864\": \"cp864\",\n  \"cp865\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm865\": \"cp865\",\n  \"csibm865\": \"cp865\",\n  \"cp866\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm866\": \"cp866\",\n  \"csibm866\": \"cp866\",\n  \"cp869\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm869\": \"cp869\",\n  \"csibm869\": \"cp869\",\n  \"cp922\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm922\": \"cp922\",\n  \"csibm922\": \"cp922\",\n  \"cp1046\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1046\": \"cp1046\",\n  \"csibm1046\": \"cp1046\",\n  \"cp1124\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1124\": \"cp1124\",\n  \"csibm1124\": \"cp1124\",\n  \"cp1125\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1125\": \"cp1125\",\n  \"csibm1125\": \"cp1125\",\n  \"cp1129\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1129\": \"cp1129\",\n  \"csibm1129\": \"cp1129\",\n  \"cp1133\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1133\": \"cp1133\",\n  \"csibm1133\": \"cp1133\",\n  \"cp1161\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1161\": \"cp1161\",\n  \"csibm1161\": \"cp1161\",\n  \"cp1162\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1162\": \"cp1162\",\n  \"csibm1162\": \"cp1162\",\n  \"cp1163\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1163\": \"cp1163\",\n  \"csibm1163\": \"cp1163\",\n  \"maccroatian\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maccyrillic\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macgreek\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maciceland\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macroman\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macromania\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macthai\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macturkish\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macukraine\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8r\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8u\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8ru\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8t\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"armscii8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \")(.,-\"\n  },\n  \"rk1048\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tcvn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0003\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"georgianacademy\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"georgianps\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"pt154\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"viscii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0003\\u0004\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0015\\u0016\\u0017\\u0018\\u001a\\u001b\\u001c\\u001d\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"iso646cn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"iso646jp\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"hproman8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macintosh\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ascii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tis620\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  }\n}","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Multibyte codec. In this scheme, a character is represented by 1 or more bytes.\n// Our codec supports UTF-16 surrogates, extensions for GB18030 and unicode sequences.\n// To save memory and loading time, we read table files only when requested.\n\nexports._dbcs = DBCSCodec;\n\nvar UNASSIGNED = -1,\n    GB18030_CODE = -2,\n    SEQ_START  = -10,\n    NODE_START = -1000,\n    UNASSIGNED_NODE = new Array(0x100),\n    DEF_CHAR = -1;\n\nfor (var i = 0; i < 0x100; i++)\n    UNASSIGNED_NODE[i] = UNASSIGNED;\n\n\n// Class DBCSCodec reads and initializes mapping tables.\nfunction DBCSCodec(codecOptions, iconv) {\n    this.encodingName = codecOptions.encodingName;\n    if (!codecOptions)\n        throw new Error(\"DBCS codec is called without the data.\")\n    if (!codecOptions.table)\n        throw new Error(\"Encoding '\" + this.encodingName + \"' has no data.\");\n\n    // Load tables.\n    var mappingTable = codecOptions.table();\n\n\n    // Decode tables: MBCS -> Unicode.\n\n    // decodeTables is a trie, encoded as an array of arrays of integers. Internal arrays are trie nodes and all have len = 256.\n    // Trie root is decodeTables[0].\n    // Values: >=  0 -> unicode character code. can be > 0xFFFF\n    //         == UNASSIGNED -> unknown/unassigned sequence.\n    //         == GB18030_CODE -> this is the end of a GB18030 4-byte sequence.\n    //         <= NODE_START -> index of the next node in our trie to process next byte.\n    //         <= SEQ_START  -> index of the start of a character code sequence, in decodeTableSeq.\n    this.decodeTables = [];\n    this.decodeTables[0] = UNASSIGNED_NODE.slice(0); // Create root node.\n\n    // Sometimes a MBCS char corresponds to a sequence of unicode chars. We store them as arrays of integers here. \n    this.decodeTableSeq = [];\n\n    // Actual mapping tables consist of chunks. Use them to fill up decode tables.\n    for (var i = 0; i < mappingTable.length; i++)\n        this._addDecodeChunk(mappingTable[i]);\n\n    this.defaultCharUnicode = iconv.defaultCharUnicode;\n\n    \n    // Encode tables: Unicode -> DBCS.\n\n    // `encodeTable` is array mapping from unicode char to encoded char. All its values are integers for performance.\n    // Because it can be sparse, it is represented as array of buckets by 256 chars each. Bucket can be null.\n    // Values: >=  0 -> it is a normal char. Write the value (if <=256 then 1 byte, if <=65536 then 2 bytes, etc.).\n    //         == UNASSIGNED -> no conversion found. Output a default char.\n    //         <= SEQ_START  -> it's an index in encodeTableSeq, see below. The character starts a sequence.\n    this.encodeTable = [];\n    \n    // `encodeTableSeq` is used when a sequence of unicode characters is encoded as a single code. We use a tree of\n    // objects where keys correspond to characters in sequence and leafs are the encoded dbcs values. A special DEF_CHAR key\n    // means end of sequence (needed when one sequence is a strict subsequence of another).\n    // Objects are kept separately from encodeTable to increase performance.\n    this.encodeTableSeq = [];\n\n    // Some chars can be decoded, but need not be encoded.\n    var skipEncodeChars = {};\n    if (codecOptions.encodeSkipVals)\n        for (var i = 0; i < codecOptions.encodeSkipVals.length; i++) {\n            var val = codecOptions.encodeSkipVals[i];\n            if (typeof val === 'number')\n                skipEncodeChars[val] = true;\n            else\n                for (var j = val.from; j <= val.to; j++)\n                    skipEncodeChars[j] = true;\n        }\n        \n    // Use decode trie to recursively fill out encode tables.\n    this._fillEncodeTable(0, 0, skipEncodeChars);\n\n    // Add more encoding pairs when needed.\n    if (codecOptions.encodeAdd) {\n        for (var uChar in codecOptions.encodeAdd)\n            if (Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd, uChar))\n                this._setEncodeChar(uChar.charCodeAt(0), codecOptions.encodeAdd[uChar]);\n    }\n\n    this.defCharSB  = this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = this.encodeTable[0]['?'];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = \"?\".charCodeAt(0);\n\n\n    // Load & create GB18030 tables when needed.\n    if (typeof codecOptions.gb18030 === 'function') {\n        this.gb18030 = codecOptions.gb18030(); // Load GB18030 ranges.\n\n        // Add GB18030 decode tables.\n        var thirdByteNodeIdx = this.decodeTables.length;\n        var thirdByteNode = this.decodeTables[thirdByteNodeIdx] = UNASSIGNED_NODE.slice(0);\n\n        var fourthByteNodeIdx = this.decodeTables.length;\n        var fourthByteNode = this.decodeTables[fourthByteNodeIdx] = UNASSIGNED_NODE.slice(0);\n\n        for (var i = 0x81; i <= 0xFE; i++) {\n            var secondByteNodeIdx = NODE_START - this.decodeTables[0][i];\n            var secondByteNode = this.decodeTables[secondByteNodeIdx];\n            for (var j = 0x30; j <= 0x39; j++)\n                secondByteNode[j] = NODE_START - thirdByteNodeIdx;\n        }\n        for (var i = 0x81; i <= 0xFE; i++)\n            thirdByteNode[i] = NODE_START - fourthByteNodeIdx;\n        for (var i = 0x30; i <= 0x39; i++)\n            fourthByteNode[i] = GB18030_CODE\n    }        \n}\n\nDBCSCodec.prototype.encoder = DBCSEncoder;\nDBCSCodec.prototype.decoder = DBCSDecoder;\n\n// Decoder helpers\nDBCSCodec.prototype._getDecodeTrieNode = function(addr) {\n    var bytes = [];\n    for (; addr > 0; addr >>= 8)\n        bytes.push(addr & 0xFF);\n    if (bytes.length == 0)\n        bytes.push(0);\n\n    var node = this.decodeTables[0];\n    for (var i = bytes.length-1; i > 0; i--) { // Traverse nodes deeper into the trie.\n        var val = node[bytes[i]];\n\n        if (val == UNASSIGNED) { // Create new node.\n            node[bytes[i]] = NODE_START - this.decodeTables.length;\n            this.decodeTables.push(node = UNASSIGNED_NODE.slice(0));\n        }\n        else if (val <= NODE_START) { // Existing node.\n            node = this.decodeTables[NODE_START - val];\n        }\n        else\n            throw new Error(\"Overwrite byte in \" + this.encodingName + \", addr: \" + addr.toString(16));\n    }\n    return node;\n}\n\n\nDBCSCodec.prototype._addDecodeChunk = function(chunk) {\n    // First element of chunk is the hex mbcs code where we start.\n    var curAddr = parseInt(chunk[0], 16);\n\n    // Choose the decoding node where we'll write our chars.\n    var writeTable = this._getDecodeTrieNode(curAddr);\n    curAddr = curAddr & 0xFF;\n\n    // Write all other elements of the chunk to the table.\n    for (var k = 1; k < chunk.length; k++) {\n        var part = chunk[k];\n        if (typeof part === \"string\") { // String, write as-is.\n            for (var l = 0; l < part.length;) {\n                var code = part.charCodeAt(l++);\n                if (0xD800 <= code && code < 0xDC00) { // Decode surrogate\n                    var codeTrail = part.charCodeAt(l++);\n                    if (0xDC00 <= codeTrail && codeTrail < 0xE000)\n                        writeTable[curAddr++] = 0x10000 + (code - 0xD800) * 0x400 + (codeTrail - 0xDC00);\n                    else\n                        throw new Error(\"Incorrect surrogate pair in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n                }\n                else if (0x0FF0 < code && code <= 0x0FFF) { // Character sequence (our own encoding used)\n                    var len = 0xFFF - code + 2;\n                    var seq = [];\n                    for (var m = 0; m < len; m++)\n                        seq.push(part.charCodeAt(l++)); // Simple variation: don't support surrogates or subsequences in seq.\n\n                    writeTable[curAddr++] = SEQ_START - this.decodeTableSeq.length;\n                    this.decodeTableSeq.push(seq);\n                }\n                else\n                    writeTable[curAddr++] = code; // Basic char\n            }\n        } \n        else if (typeof part === \"number\") { // Integer, meaning increasing sequence starting with prev character.\n            var charCode = writeTable[curAddr - 1] + 1;\n            for (var l = 0; l < part; l++)\n                writeTable[curAddr++] = charCode++;\n        }\n        else\n            throw new Error(\"Incorrect type '\" + typeof part + \"' given in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n    }\n    if (curAddr > 0xFF)\n        throw new Error(\"Incorrect chunk in \"  + this.encodingName + \" at addr \" + chunk[0] + \": too long\" + curAddr);\n}\n\n// Encoder helpers\nDBCSCodec.prototype._getEncodeBucket = function(uCode) {\n    var high = uCode >> 8; // This could be > 0xFF because of astral characters.\n    if (this.encodeTable[high] === undefined)\n        this.encodeTable[high] = UNASSIGNED_NODE.slice(0); // Create bucket on demand.\n    return this.encodeTable[high];\n}\n\nDBCSCodec.prototype._setEncodeChar = function(uCode, dbcsCode) {\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n    if (bucket[low] <= SEQ_START)\n        this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR] = dbcsCode; // There's already a sequence, set a single-char subsequence of it.\n    else if (bucket[low] == UNASSIGNED)\n        bucket[low] = dbcsCode;\n}\n\nDBCSCodec.prototype._setEncodeSequence = function(seq, dbcsCode) {\n    \n    // Get the root of character tree according to first character of the sequence.\n    var uCode = seq[0];\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n\n    var node;\n    if (bucket[low] <= SEQ_START) {\n        // There's already a sequence with  - use it.\n        node = this.encodeTableSeq[SEQ_START-bucket[low]];\n    }\n    else {\n        // There was no sequence object - allocate a new one.\n        node = {};\n        if (bucket[low] !== UNASSIGNED) node[DEF_CHAR] = bucket[low]; // If a char was set before - make it a single-char subsequence.\n        bucket[low] = SEQ_START - this.encodeTableSeq.length;\n        this.encodeTableSeq.push(node);\n    }\n\n    // Traverse the character tree, allocating new nodes as needed.\n    for (var j = 1; j < seq.length-1; j++) {\n        var oldVal = node[uCode];\n        if (typeof oldVal === 'object')\n            node = oldVal;\n        else {\n            node = node[uCode] = {}\n            if (oldVal !== undefined)\n                node[DEF_CHAR] = oldVal\n        }\n    }\n\n    // Set the leaf to given dbcsCode.\n    uCode = seq[seq.length-1];\n    node[uCode] = dbcsCode;\n}\n\nDBCSCodec.prototype._fillEncodeTable = function(nodeIdx, prefix, skipEncodeChars) {\n    var node = this.decodeTables[nodeIdx];\n    for (var i = 0; i < 0x100; i++) {\n        var uCode = node[i];\n        var mbCode = prefix + i;\n        if (skipEncodeChars[mbCode])\n            continue;\n\n        if (uCode >= 0)\n            this._setEncodeChar(uCode, mbCode);\n        else if (uCode <= NODE_START)\n            this._fillEncodeTable(NODE_START - uCode, mbCode << 8, skipEncodeChars);\n        else if (uCode <= SEQ_START)\n            this._setEncodeSequence(this.decodeTableSeq[SEQ_START - uCode], mbCode);\n    }\n}\n\n\n\n// == Encoder ==================================================================\n\nfunction DBCSEncoder(options, codec) {\n    // Encoder state\n    this.leadSurrogate = -1;\n    this.seqObj = undefined;\n    \n    // Static data\n    this.encodeTable = codec.encodeTable;\n    this.encodeTableSeq = codec.encodeTableSeq;\n    this.defaultCharSingleByte = codec.defCharSB;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSEncoder.prototype.write = function(str) {\n    var newBuf = Buffer.alloc(str.length * (this.gb18030 ? 4 : 3)),\n        leadSurrogate = this.leadSurrogate,\n        seqObj = this.seqObj, nextChar = -1,\n        i = 0, j = 0;\n\n    while (true) {\n        // 0. Get next character.\n        if (nextChar === -1) {\n            if (i == str.length) break;\n            var uCode = str.charCodeAt(i++);\n        }\n        else {\n            var uCode = nextChar;\n            nextChar = -1;    \n        }\n\n        // 1. Handle surrogates.\n        if (0xD800 <= uCode && uCode < 0xE000) { // Char is one of surrogates.\n            if (uCode < 0xDC00) { // We've got lead surrogate.\n                if (leadSurrogate === -1) {\n                    leadSurrogate = uCode;\n                    continue;\n                } else {\n                    leadSurrogate = uCode;\n                    // Double lead surrogate found.\n                    uCode = UNASSIGNED;\n                }\n            } else { // We've got trail surrogate.\n                if (leadSurrogate !== -1) {\n                    uCode = 0x10000 + (leadSurrogate - 0xD800) * 0x400 + (uCode - 0xDC00);\n                    leadSurrogate = -1;\n                } else {\n                    // Incomplete surrogate pair - only trail surrogate found.\n                    uCode = UNASSIGNED;\n                }\n                \n            }\n        }\n        else if (leadSurrogate !== -1) {\n            // Incomplete surrogate pair - only lead surrogate found.\n            nextChar = uCode; uCode = UNASSIGNED; // Write an error, then current char.\n            leadSurrogate = -1;\n        }\n\n        // 2. Convert uCode character.\n        var dbcsCode = UNASSIGNED;\n        if (seqObj !== undefined && uCode != UNASSIGNED) { // We are in the middle of the sequence\n            var resCode = seqObj[uCode];\n            if (typeof resCode === 'object') { // Sequence continues.\n                seqObj = resCode;\n                continue;\n\n            } else if (typeof resCode == 'number') { // Sequence finished. Write it.\n                dbcsCode = resCode;\n\n            } else if (resCode == undefined) { // Current character is not part of the sequence.\n\n                // Try default character for this sequence\n                resCode = seqObj[DEF_CHAR];\n                if (resCode !== undefined) {\n                    dbcsCode = resCode; // Found. Write it.\n                    nextChar = uCode; // Current character will be written too in the next iteration.\n\n                } else {\n                    // TODO: What if we have no default? (resCode == undefined)\n                    // Then, we should write first char of the sequence as-is and try the rest recursively.\n                    // Didn't do it for now because no encoding has this situation yet.\n                    // Currently, just skip the sequence and write current char.\n                }\n            }\n            seqObj = undefined;\n        }\n        else if (uCode >= 0) {  // Regular character\n            var subtable = this.encodeTable[uCode >> 8];\n            if (subtable !== undefined)\n                dbcsCode = subtable[uCode & 0xFF];\n            \n            if (dbcsCode <= SEQ_START) { // Sequence start\n                seqObj = this.encodeTableSeq[SEQ_START-dbcsCode];\n                continue;\n            }\n\n            if (dbcsCode == UNASSIGNED && this.gb18030) {\n                // Use GB18030 algorithm to find character(s) to write.\n                var idx = findIdx(this.gb18030.uChars, uCode);\n                if (idx != -1) {\n                    var dbcsCode = this.gb18030.gbChars[idx] + (uCode - this.gb18030.uChars[idx]);\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 12600); dbcsCode = dbcsCode % 12600;\n                    newBuf[j++] = 0x30 + Math.floor(dbcsCode / 1260); dbcsCode = dbcsCode % 1260;\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 10); dbcsCode = dbcsCode % 10;\n                    newBuf[j++] = 0x30 + dbcsCode;\n                    continue;\n                }\n            }\n        }\n\n        // 3. Write dbcsCode character.\n        if (dbcsCode === UNASSIGNED)\n            dbcsCode = this.defaultCharSingleByte;\n        \n        if (dbcsCode < 0x100) {\n            newBuf[j++] = dbcsCode;\n        }\n        else if (dbcsCode < 0x10000) {\n            newBuf[j++] = dbcsCode >> 8;   // high byte\n            newBuf[j++] = dbcsCode & 0xFF; // low byte\n        }\n        else {\n            newBuf[j++] = dbcsCode >> 16;\n            newBuf[j++] = (dbcsCode >> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        }\n    }\n\n    this.seqObj = seqObj;\n    this.leadSurrogate = leadSurrogate;\n    return newBuf.slice(0, j);\n}\n\nDBCSEncoder.prototype.end = function() {\n    if (this.leadSurrogate === -1 && this.seqObj === undefined)\n        return; // All clean. Most often case.\n\n    var newBuf = Buffer.alloc(10), j = 0;\n\n    if (this.seqObj) { // We're in the sequence.\n        var dbcsCode = this.seqObj[DEF_CHAR];\n        if (dbcsCode !== undefined) { // Write beginning of the sequence.\n            if (dbcsCode < 0x100) {\n                newBuf[j++] = dbcsCode;\n            }\n            else {\n                newBuf[j++] = dbcsCode >> 8;   // high byte\n                newBuf[j++] = dbcsCode & 0xFF; // low byte\n            }\n        } else {\n            // See todo above.\n        }\n        this.seqObj = undefined;\n    }\n\n    if (this.leadSurrogate !== -1) {\n        // Incomplete surrogate pair - only lead surrogate found.\n        newBuf[j++] = this.defaultCharSingleByte;\n        this.leadSurrogate = -1;\n    }\n    \n    return newBuf.slice(0, j);\n}\n\n// Export for testing\nDBCSEncoder.prototype.findIdx = findIdx;\n\n\n// == Decoder ==================================================================\n\nfunction DBCSDecoder(options, codec) {\n    // Decoder state\n    this.nodeIdx = 0;\n    this.prevBuf = Buffer.alloc(0);\n\n    // Static data\n    this.decodeTables = codec.decodeTables;\n    this.decodeTableSeq = codec.decodeTableSeq;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSDecoder.prototype.write = function(buf) {\n    var newBuf = Buffer.alloc(buf.length*2),\n        nodeIdx = this.nodeIdx, \n        prevBuf = this.prevBuf, prevBufOffset = this.prevBuf.length,\n        seqStart = -this.prevBuf.length, // idx of the start of current parsed sequence.\n        uCode;\n\n    if (prevBufOffset > 0) // Make prev buf overlap a little to make it easier to slice later.\n        prevBuf = Buffer.concat([prevBuf, buf.slice(0, 10)]);\n    \n    for (var i = 0, j = 0; i < buf.length; i++) {\n        var curByte = (i >= 0) ? buf[i] : prevBuf[i + prevBufOffset];\n\n        // Lookup in current trie node.\n        var uCode = this.decodeTables[nodeIdx][curByte];\n\n        if (uCode >= 0) { \n            // Normal character, just use it.\n        }\n        else if (uCode === UNASSIGNED) { // Unknown char.\n            // TODO: Callback with seq.\n            //var curSeq = (seqStart >= 0) ? buf.slice(seqStart, i+1) : prevBuf.slice(seqStart + prevBufOffset, i+1 + prevBufOffset);\n            i = seqStart; // Try to parse again, after skipping first byte of the sequence ('i' will be incremented by 'for' cycle).\n            uCode = this.defaultCharUnicode.charCodeAt(0);\n        }\n        else if (uCode === GB18030_CODE) {\n            var curSeq = (seqStart >= 0) ? buf.slice(seqStart, i+1) : prevBuf.slice(seqStart + prevBufOffset, i+1 + prevBufOffset);\n            var ptr = (curSeq[0]-0x81)*12600 + (curSeq[1]-0x30)*1260 + (curSeq[2]-0x81)*10 + (curSeq[3]-0x30);\n            var idx = findIdx(this.gb18030.gbChars, ptr);\n            uCode = this.gb18030.uChars[idx] + ptr - this.gb18030.gbChars[idx];\n        }\n        else if (uCode <= NODE_START) { // Go to next trie node.\n            nodeIdx = NODE_START - uCode;\n            continue;\n        }\n        else if (uCode <= SEQ_START) { // Output a sequence of chars.\n            var seq = this.decodeTableSeq[SEQ_START - uCode];\n            for (var k = 0; k < seq.length - 1; k++) {\n                uCode = seq[k];\n                newBuf[j++] = uCode & 0xFF;\n                newBuf[j++] = uCode >> 8;\n            }\n            uCode = seq[seq.length-1];\n        }\n        else\n            throw new Error(\"iconv-lite internal error: invalid decoding table value \" + uCode + \" at \" + nodeIdx + \"/\" + curByte);\n\n        // Write the character to buffer, handling higher planes using surrogate pair.\n        if (uCode > 0xFFFF) { \n            uCode -= 0x10000;\n            var uCodeLead = 0xD800 + Math.floor(uCode / 0x400);\n            newBuf[j++] = uCodeLead & 0xFF;\n            newBuf[j++] = uCodeLead >> 8;\n\n            uCode = 0xDC00 + uCode % 0x400;\n        }\n        newBuf[j++] = uCode & 0xFF;\n        newBuf[j++] = uCode >> 8;\n\n        // Reset trie node.\n        nodeIdx = 0; seqStart = i+1;\n    }\n\n    this.nodeIdx = nodeIdx;\n    this.prevBuf = (seqStart >= 0) ? buf.slice(seqStart) : prevBuf.slice(seqStart + prevBufOffset);\n    return newBuf.slice(0, j).toString('ucs2');\n}\n\nDBCSDecoder.prototype.end = function() {\n    var ret = '';\n\n    // Try to parse all remaining chars.\n    while (this.prevBuf.length > 0) {\n        // Skip 1 character in the buffer.\n        ret += this.defaultCharUnicode;\n        var buf = this.prevBuf.slice(1);\n\n        // Parse remaining as usual.\n        this.prevBuf = Buffer.alloc(0);\n        this.nodeIdx = 0;\n        if (buf.length > 0)\n            ret += this.write(buf);\n    }\n\n    this.nodeIdx = 0;\n    return ret;\n}\n\n// Binary search for GB18030. Returns largest i such that table[i] <= val.\nfunction findIdx(table, val) {\n    if (table[0] > val)\n        return -1;\n\n    var l = 0, r = table.length;\n    while (l < r-1) { // always table[l] <= val < table[r]\n        var mid = l + Math.floor((r-l+1)/2);\n        if (table[mid] <= val)\n            l = mid;\n        else\n            r = mid;\n    }\n    return l;\n}\n\n","\"use strict\";\n\n// Description of supported double byte encodings and aliases.\n// Tables are not require()-d until they are needed to speed up library load.\n// require()-s are direct to support Browserify.\n\nmodule.exports = {\n    \n    // == Japanese/ShiftJIS ====================================================\n    // All japanese encodings are based on JIS X set of standards:\n    // JIS X 0201 - Single-byte encoding of ASCII +  + Kana chars at 0xA1-0xDF.\n    // JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes. \n    //              Has several variations in 1978, 1983, 1990 and 1997.\n    // JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.\n    // JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.\n    //              2 planes, first is superset of 0208, second - revised 0212.\n    //              Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)\n\n    // Byte encodings are:\n    //  * Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte\n    //               encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.\n    //               Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.\n    //  * EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.\n    //               0x00-0x7F       - lower part of 0201\n    //               0x8E, 0xA1-0xDF - upper part of 0201\n    //               (0xA1-0xFE)x2   - 0208 plane (94x94).\n    //               0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).\n    //  * JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.\n    //               Used as-is in ISO2022 family.\n    //  * ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII, \n    //                0201-1976 Roman, 0208-1978, 0208-1983.\n    //  * ISO2022-JP-1: Adds esc seq for 0212-1990.\n    //  * ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.\n    //  * ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.\n    //  * ISO2022-JP-2004: Adds 0213-2004 Plane 1.\n    //\n    // After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.\n    //\n    // Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html\n\n    'shiftjis': {\n        type: '_dbcs',\n        table: function() { return require('./tables/shiftjis.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n        encodeSkipVals: [{from: 0xED40, to: 0xF940}],\n    },\n    'csshiftjis': 'shiftjis',\n    'mskanji': 'shiftjis',\n    'sjis': 'shiftjis',\n    'windows31j': 'shiftjis',\n    'ms31j': 'shiftjis',\n    'xsjis': 'shiftjis',\n    'windows932': 'shiftjis',\n    'ms932': 'shiftjis',\n    '932': 'shiftjis',\n    'cp932': 'shiftjis',\n\n    'eucjp': {\n        type: '_dbcs',\n        table: function() { return require('./tables/eucjp.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n    },\n\n    // TODO: KDDI extension to Shift_JIS\n    // TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.\n    // TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.\n\n\n    // == Chinese/GBK ==========================================================\n    // http://en.wikipedia.org/wiki/GBK\n    // We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder\n\n    // Oldest GB2312 (1981, ~7600 chars) is a subset of CP936\n    'gb2312': 'cp936',\n    'gb231280': 'cp936',\n    'gb23121980': 'cp936',\n    'csgb2312': 'cp936',\n    'csiso58gb231280': 'cp936',\n    'euccn': 'cp936',\n\n    // Microsoft's CP936 is a subset and approximation of GBK.\n    'windows936': 'cp936',\n    'ms936': 'cp936',\n    '936': 'cp936',\n    'cp936': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json') },\n    },\n\n    // GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.\n    'gbk': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n    },\n    'xgbk': 'gbk',\n    'isoir58': 'gbk',\n\n    // GB18030 is an algorithmic extension of GBK.\n    // Main source: https://www.w3.org/TR/encoding/#gbk-encoder\n    // http://icu-project.org/docs/papers/gb18030.html\n    // http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml\n    // http://www.khngai.com/chinese/charmap/tblgbk.php?page=0\n    'gb18030': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n        gb18030: function() { return require('./tables/gb18030-ranges.json') },\n        encodeSkipVals: [0x80],\n        encodeAdd: {'': 0xA2E3},\n    },\n\n    'chinese': 'gb18030',\n\n\n    // == Korean ===============================================================\n    // EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.\n    'windows949': 'cp949',\n    'ms949': 'cp949',\n    '949': 'cp949',\n    'cp949': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp949.json') },\n    },\n\n    'cseuckr': 'cp949',\n    'csksc56011987': 'cp949',\n    'euckr': 'cp949',\n    'isoir149': 'cp949',\n    'korean': 'cp949',\n    'ksc56011987': 'cp949',\n    'ksc56011989': 'cp949',\n    'ksc5601': 'cp949',\n\n\n    // == Big5/Taiwan/Hong Kong ================================================\n    // There are lots of tables for Big5 and cp950. Please see the following links for history:\n    // http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html\n    // Variations, in roughly number of defined chars:\n    //  * Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT\n    //  * Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/\n    //  * Big5-2003 (Taiwan standard) almost superset of cp950.\n    //  * Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.\n    //  * Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard. \n    //    many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.\n    //    Plus, it has 4 combining sequences.\n    //    Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299\n    //    because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.\n    //    Implementations are not consistent within browsers; sometimes labeled as just big5.\n    //    MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.\n    //    Great discussion & recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31\n    //    In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.\n    //    Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt\n    //                   http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt\n    // \n    // Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder\n    // Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.\n\n    'windows950': 'cp950',\n    'ms950': 'cp950',\n    '950': 'cp950',\n    'cp950': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json') },\n    },\n\n    // Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.\n    'big5': 'big5hkscs',\n    'big5hkscs': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json').concat(require('./tables/big5-added.json')) },\n        encodeSkipVals: [0xa2cc],\n    },\n\n    'cnbig5': 'big5hkscs',\n    'csbig5': 'big5hkscs',\n    'xxbig5': 'big5hkscs',\n};\n","\"use strict\";\n\nvar Buffer = require(\"buffer\").Buffer,\n    Transform = require(\"stream\").Transform;\n\n\n// == Exports ==================================================================\nmodule.exports = function(iconv) {\n    \n    // Additional Public API.\n    iconv.encodeStream = function encodeStream(encoding, options) {\n        return new IconvLiteEncoderStream(iconv.getEncoder(encoding, options), options);\n    }\n\n    iconv.decodeStream = function decodeStream(encoding, options) {\n        return new IconvLiteDecoderStream(iconv.getDecoder(encoding, options), options);\n    }\n\n    iconv.supportsStreams = true;\n\n\n    // Not published yet.\n    iconv.IconvLiteEncoderStream = IconvLiteEncoderStream;\n    iconv.IconvLiteDecoderStream = IconvLiteDecoderStream;\n    iconv._collect = IconvLiteDecoderStream.prototype.collect;\n};\n\n\n// == Encoder stream =======================================================\nfunction IconvLiteEncoderStream(conv, options) {\n    this.conv = conv;\n    options = options || {};\n    options.decodeStrings = false; // We accept only strings, so we don't need to decode them.\n    Transform.call(this, options);\n}\n\nIconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: { value: IconvLiteEncoderStream }\n});\n\nIconvLiteEncoderStream.prototype._transform = function(chunk, encoding, done) {\n    if (typeof chunk != 'string')\n        return done(new Error(\"Iconv encoding stream needs strings as its input.\"));\n    try {\n        var res = this.conv.write(chunk);\n        if (res && res.length) this.push(res);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteEncoderStream.prototype._flush = function(done) {\n    try {\n        var res = this.conv.end();\n        if (res && res.length) this.push(res);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteEncoderStream.prototype.collect = function(cb) {\n    var chunks = [];\n    this.on('error', cb);\n    this.on('data', function(chunk) { chunks.push(chunk); });\n    this.on('end', function() {\n        cb(null, Buffer.concat(chunks));\n    });\n    return this;\n}\n\n\n// == Decoder stream =======================================================\nfunction IconvLiteDecoderStream(conv, options) {\n    this.conv = conv;\n    options = options || {};\n    options.encoding = this.encoding = 'utf8'; // We output strings.\n    Transform.call(this, options);\n}\n\nIconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: { value: IconvLiteDecoderStream }\n});\n\nIconvLiteDecoderStream.prototype._transform = function(chunk, encoding, done) {\n    if (!Buffer.isBuffer(chunk))\n        return done(new Error(\"Iconv decoding stream needs buffers as its input.\"));\n    try {\n        var res = this.conv.write(chunk);\n        if (res && res.length) this.push(res, this.encoding);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteDecoderStream.prototype._flush = function(done) {\n    try {\n        var res = this.conv.end();\n        if (res && res.length) this.push(res, this.encoding);                \n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteDecoderStream.prototype.collect = function(cb) {\n    var res = '';\n    this.on('error', cb);\n    this.on('data', function(chunk) { res += chunk; });\n    this.on('end', function() {\n        cb(null, res);\n    });\n    return this;\n}\n\n","\"use strict\";\nvar Buffer = require(\"buffer\").Buffer;\n// Note: not polyfilled with safer-buffer on a purpose, as overrides Buffer\n\n// == Extend Node primitives to use iconv-lite =================================\n\nmodule.exports = function (iconv) {\n    var original = undefined; // Place to keep original methods.\n\n    // Node authors rewrote Buffer internals to make it compatible with\n    // Uint8Array and we cannot patch key functions since then.\n    // Note: this does use older Buffer API on a purpose\n    iconv.supportsNodeEncodingsExtension = !(Buffer.from || new Buffer(0) instanceof Uint8Array);\n\n    iconv.extendNodeEncodings = function extendNodeEncodings() {\n        if (original) return;\n        original = {};\n\n        if (!iconv.supportsNodeEncodingsExtension) {\n            console.error(\"ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node\");\n            console.error(\"See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility\");\n            return;\n        }\n\n        var nodeNativeEncodings = {\n            'hex': true, 'utf8': true, 'utf-8': true, 'ascii': true, 'binary': true, \n            'base64': true, 'ucs2': true, 'ucs-2': true, 'utf16le': true, 'utf-16le': true,\n        };\n\n        Buffer.isNativeEncoding = function(enc) {\n            return enc && nodeNativeEncodings[enc.toLowerCase()];\n        }\n\n        // -- SlowBuffer -----------------------------------------------------------\n        var SlowBuffer = require('buffer').SlowBuffer;\n\n        original.SlowBufferToString = SlowBuffer.prototype.toString;\n        SlowBuffer.prototype.toString = function(encoding, start, end) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.SlowBufferToString.call(this, encoding, start, end);\n\n            // Otherwise, use our decoding method.\n            if (typeof start == 'undefined') start = 0;\n            if (typeof end == 'undefined') end = this.length;\n            return iconv.decode(this.slice(start, end), encoding);\n        }\n\n        original.SlowBufferWrite = SlowBuffer.prototype.write;\n        SlowBuffer.prototype.write = function(string, offset, length, encoding) {\n            // Support both (string, offset, length, encoding)\n            // and the legacy (string, encoding, offset, length)\n            if (isFinite(offset)) {\n                if (!isFinite(length)) {\n                    encoding = length;\n                    length = undefined;\n                }\n            } else {  // legacy\n                var swap = encoding;\n                encoding = offset;\n                offset = length;\n                length = swap;\n            }\n\n            offset = +offset || 0;\n            var remaining = this.length - offset;\n            if (!length) {\n                length = remaining;\n            } else {\n                length = +length;\n                if (length > remaining) {\n                    length = remaining;\n                }\n            }\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.SlowBufferWrite.call(this, string, offset, length, encoding);\n\n            if (string.length > 0 && (length < 0 || offset < 0))\n                throw new RangeError('attempt to write beyond buffer bounds');\n\n            // Otherwise, use our encoding method.\n            var buf = iconv.encode(string, encoding);\n            if (buf.length < length) length = buf.length;\n            buf.copy(this, offset, 0, length);\n            return length;\n        }\n\n        // -- Buffer ---------------------------------------------------------------\n\n        original.BufferIsEncoding = Buffer.isEncoding;\n        Buffer.isEncoding = function(encoding) {\n            return Buffer.isNativeEncoding(encoding) || iconv.encodingExists(encoding);\n        }\n\n        original.BufferByteLength = Buffer.byteLength;\n        Buffer.byteLength = SlowBuffer.byteLength = function(str, encoding) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferByteLength.call(this, str, encoding);\n\n            // Slow, I know, but we don't have a better way yet.\n            return iconv.encode(str, encoding).length;\n        }\n\n        original.BufferToString = Buffer.prototype.toString;\n        Buffer.prototype.toString = function(encoding, start, end) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferToString.call(this, encoding, start, end);\n\n            // Otherwise, use our decoding method.\n            if (typeof start == 'undefined') start = 0;\n            if (typeof end == 'undefined') end = this.length;\n            return iconv.decode(this.slice(start, end), encoding);\n        }\n\n        original.BufferWrite = Buffer.prototype.write;\n        Buffer.prototype.write = function(string, offset, length, encoding) {\n            var _offset = offset, _length = length, _encoding = encoding;\n            // Support both (string, offset, length, encoding)\n            // and the legacy (string, encoding, offset, length)\n            if (isFinite(offset)) {\n                if (!isFinite(length)) {\n                    encoding = length;\n                    length = undefined;\n                }\n            } else {  // legacy\n                var swap = encoding;\n                encoding = offset;\n                offset = length;\n                length = swap;\n            }\n\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferWrite.call(this, string, _offset, _length, _encoding);\n\n            offset = +offset || 0;\n            var remaining = this.length - offset;\n            if (!length) {\n                length = remaining;\n            } else {\n                length = +length;\n                if (length > remaining) {\n                    length = remaining;\n                }\n            }\n\n            if (string.length > 0 && (length < 0 || offset < 0))\n                throw new RangeError('attempt to write beyond buffer bounds');\n\n            // Otherwise, use our encoding method.\n            var buf = iconv.encode(string, encoding);\n            if (buf.length < length) length = buf.length;\n            buf.copy(this, offset, 0, length);\n            return length;\n\n            // TODO: Set _charsWritten.\n        }\n\n\n        // -- Readable -------------------------------------------------------------\n        if (iconv.supportsStreams) {\n            var Readable = require('stream').Readable;\n\n            original.ReadableSetEncoding = Readable.prototype.setEncoding;\n            Readable.prototype.setEncoding = function setEncoding(enc, options) {\n                // Use our own decoder, it has the same interface.\n                // We cannot use original function as it doesn't handle BOM-s.\n                this._readableState.decoder = iconv.getDecoder(enc, options);\n                this._readableState.encoding = enc;\n            }\n\n            Readable.prototype.collect = iconv._collect;\n        }\n    }\n\n    // Remove iconv-lite Node primitive extensions.\n    iconv.undoExtendNodeEncodings = function undoExtendNodeEncodings() {\n        if (!iconv.supportsNodeEncodingsExtension)\n            return;\n        if (!original)\n            throw new Error(\"require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.\")\n\n        delete Buffer.isNativeEncoding;\n\n        var SlowBuffer = require('buffer').SlowBuffer;\n\n        SlowBuffer.prototype.toString = original.SlowBufferToString;\n        SlowBuffer.prototype.write = original.SlowBufferWrite;\n\n        Buffer.isEncoding = original.BufferIsEncoding;\n        Buffer.byteLength = original.BufferByteLength;\n        Buffer.prototype.toString = original.BufferToString;\n        Buffer.prototype.write = original.BufferWrite;\n\n        if (iconv.supportsStreams) {\n            var Readable = require('stream').Readable;\n\n            Readable.prototype.setEncoding = original.ReadableSetEncoding;\n            delete Readable.prototype.collect;\n        }\n\n        original = undefined;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { EventEmitter } from 'events';\nimport { Container, decorate, injectable, interfaces } from 'inversify';\nimport { Abstract, IServiceContainer, Newable } from './types';\n\n// This needs to be done once, hence placed in a common location.\n// Used by UnitTestSockerServer and also the extension unit tests.\n// Place within try..catch, as this can only be done once (it's\n// possible another extesion would perform this before our extension).\ntry {\n    decorate(injectable(), EventEmitter);\n} catch (ex) {\n    console.warn('Failed to decorate EventEmitter for DI (possibly already decorated by another Extension)', ex);\n}\n\n@injectable()\nexport class ServiceContainer implements IServiceContainer {\n    constructor(private container: Container) {}\n    public get<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, name?: string | number | symbol): T {\n        return name ? this.container.getNamed<T>(serviceIdentifier, name) : this.container.get<T>(serviceIdentifier);\n    }\n    public getAll<T>(serviceIdentifier: string | symbol | Newable<T> | Abstract<T>, name?: string | number | symbol | undefined): T[] {\n        return name ? this.container.getAllNamed<T>(serviceIdentifier, name) : this.container.getAll<T>(serviceIdentifier);\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Container, injectable, interfaces } from 'inversify';\n\nimport { Abstract, ClassType, IServiceManager, Newable } from './types';\n\ntype identifier<T> = string | symbol | Newable<T> | Abstract<T>;\n\n@injectable()\nexport class ServiceManager implements IServiceManager {\n    constructor(private container: Container) {}\n    // tslint:disable-next-line:no-any\n    public add<T>(serviceIdentifier: identifier<T>, constructor: new (...args: any[]) => T, name?: string | number | symbol | undefined): void {\n        if (name) {\n            this.container\n                .bind<T>(serviceIdentifier)\n                .to(constructor)\n                .whenTargetNamed(name);\n        } else {\n            this.container.bind<T>(serviceIdentifier).to(constructor);\n        }\n    }\n    // tslint:disable-next-line:no-any\n    public addFactory<T>(factoryIdentifier: interfaces.ServiceIdentifier<interfaces.Factory<T>>, factoryMethod: interfaces.FactoryCreator<T>): void {\n        this.container.bind<interfaces.Factory<T>>(factoryIdentifier).toFactory<T>(factoryMethod);\n    }\n\n    // tslint:disable-next-line:no-any\n    public addBinding<T1, T2>(from: identifier<T1>, to: identifier<T2>): void {\n        this.container.bind(to).toService(from);\n    }\n\n    // tslint:disable-next-line:no-any\n    public addSingleton<T>(serviceIdentifier: identifier<T>, constructor: new (...args: any[]) => T, name?: string | number | symbol | undefined): void {\n        if (name) {\n            this.container\n                .bind<T>(serviceIdentifier)\n                .to(constructor)\n                .inSingletonScope()\n                .whenTargetNamed(name);\n        } else {\n            this.container\n                .bind<T>(serviceIdentifier)\n                .to(constructor)\n                .inSingletonScope();\n        }\n    }\n    // tslint:disable-next-line:no-any\n    public addSingletonInstance<T>(serviceIdentifier: identifier<T>, instance: T, name?: string | number | symbol | undefined): void {\n        if (name) {\n            this.container\n                .bind<T>(serviceIdentifier)\n                .toConstantValue(instance)\n                .whenTargetNamed(name);\n        } else {\n            this.container.bind<T>(serviceIdentifier).toConstantValue(instance);\n        }\n    }\n    public get<T>(serviceIdentifier: identifier<T>, name?: string | number | symbol | undefined): T {\n        return name ? this.container.getNamed<T>(serviceIdentifier, name) : this.container.get<T>(serviceIdentifier);\n    }\n    public getAll<T>(serviceIdentifier: identifier<T>, name?: string | number | symbol | undefined): T[] {\n        return name ? this.container.getAllNamed<T>(serviceIdentifier, name) : this.container.getAll<T>(serviceIdentifier);\n    }\n\n    public rebind<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, constructor: ClassType<T>, name?: string | number | symbol): void {\n        if (name) {\n            this.container\n                .rebind<T>(serviceIdentifier)\n                .to(constructor)\n                .whenTargetNamed(name);\n        } else {\n            this.container.rebind<T>(serviceIdentifier).to(constructor);\n        }\n    }\n\n    public rebindInstance<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, instance: T, name?: string | number | symbol): void {\n        if (name) {\n            this.container\n                .rebind<T>(serviceIdentifier)\n                .toConstantValue(instance)\n                .whenTargetNamed(name);\n        } else {\n            this.container.rebind<T>(serviceIdentifier).toConstantValue(instance);\n        }\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { inject, injectable } from 'inversify';\nimport { createServer, Server, Socket } from 'net';\nimport { isTestExecution } from '../../../common/constants';\nimport { ICurrentProcess } from '../../../common/types';\nimport { IServiceContainer } from '../../../ioc/types';\nimport { IDebugStreamProvider } from '../types';\n\n@injectable()\nexport class DebugStreamProvider implements IDebugStreamProvider {\n    private server?: Server;\n    constructor(@inject(IServiceContainer) private readonly serviceContainer: IServiceContainer) {}\n    public get useDebugSocketStream(): boolean {\n        return this.getDebugPort() > 0;\n    }\n    public dispose() {\n        if (this.server) {\n            this.server.close();\n        }\n    }\n    public async getInputAndOutputStreams(): Promise<{ input: NodeJS.ReadStream | Socket; output: NodeJS.WriteStream | Socket }> {\n        const debugPort = this.getDebugPort();\n        let debugSocket: Promise<Socket> | undefined;\n\n        if (debugPort > 0) {\n            // This section is what allows VS Code extension developers to attach to the current debugger.\n            // Used in scenarios where extension developers would like to debug the debugger.\n            debugSocket = new Promise<Socket>(resolve => {\n                // start as a server, and print to console in VS Code debugger for extension developer.\n                // Do not print this out when running unit tests.\n                if (!isTestExecution()) {\n                    // tslint:disable-next-line: no-console\n                    console.error(`waiting for debug protocol on port ${debugPort}`);\n                }\n                this.server = createServer(socket => {\n                    if (!isTestExecution()) {\n                        // tslint:disable-next-line: no-console\n                        console.error('>> accepted connection from client');\n                    }\n                    resolve(socket);\n                }).listen(debugPort);\n            });\n        }\n\n        const currentProcess = this.serviceContainer.get<ICurrentProcess>(ICurrentProcess);\n        const input = debugSocket ? await debugSocket : currentProcess.stdin;\n        const output = debugSocket ? await debugSocket : currentProcess.stdout;\n\n        return { input, output };\n    }\n    private getDebugPort() {\n        const currentProcess = this.serviceContainer.get<ICurrentProcess>(ICurrentProcess);\n\n        let debugPort = 0;\n        const args = currentProcess.argv.slice(2);\n        args.forEach(val => {\n            const portMatch = /^--server=(\\d{4,5})$/.exec(val);\n            if (portMatch) {\n                debugPort = parseInt(portMatch[1], 10);\n            }\n        });\n        return debugPort;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\nimport { inject, injectable } from 'inversify';\nimport { ProcessService } from '../../../common/process/proc';\nimport { IBufferDecoder, IProcessService, IProcessServiceFactory } from '../../../common/process/types';\nimport { IDisposableRegistry } from '../../../common/types';\n\n@injectable()\nexport class DebuggerProcessServiceFactory implements IProcessServiceFactory {\n    constructor(@inject(IBufferDecoder) private readonly decoder: IBufferDecoder, @inject(IDisposableRegistry) private readonly disposableRegistry: IDisposableRegistry) {}\n    public create(): Promise<IProcessService> {\n        const processService = new ProcessService(this.decoder, process.env);\n        this.disposableRegistry.push(processService);\n        return Promise.resolve(processService);\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { exec, execSync, spawn } from 'child_process';\nimport { EventEmitter } from 'events';\nimport { Observable } from 'rxjs/Observable';\n\nimport { IDisposable } from '../types';\nimport { createDeferred } from '../utils/async';\nimport { EnvironmentVariables } from '../variables/types';\nimport { DEFAULT_ENCODING } from './constants';\nimport { ExecutionResult, IBufferDecoder, IProcessService, ObservableExecutionResult, Output, ShellOptions, SpawnOptions, StdErrError } from './types';\n\n// tslint:disable:no-any\nexport class ProcessService extends EventEmitter implements IProcessService {\n    private processesToKill = new Set<IDisposable>();\n    constructor(private readonly decoder: IBufferDecoder, private readonly env?: EnvironmentVariables) {\n        super();\n    }\n    public static isAlive(pid: number): boolean {\n        try {\n            process.kill(pid, 0);\n            return true;\n        } catch {\n            return false;\n        }\n    }\n    public static kill(pid: number): void {\n        try {\n            if (process.platform === 'win32') {\n                // Windows doesn't support SIGTERM, so execute taskkill to kill the process\n                execSync(`taskkill /pid ${pid} /T /F`);\n            } else {\n                process.kill(pid);\n            }\n        } catch {\n            // Ignore.\n        }\n    }\n    public dispose() {\n        this.removeAllListeners();\n        this.processesToKill.forEach(p => {\n            try {\n                p.dispose();\n            } catch {\n                // ignore.\n            }\n        });\n    }\n\n    public execObservable(file: string, args: string[], options: SpawnOptions = {}): ObservableExecutionResult<string> {\n        const spawnOptions = this.getDefaultOptions(options);\n        const encoding = spawnOptions.encoding ? spawnOptions.encoding : 'utf8';\n        const proc = spawn(file, args, spawnOptions);\n        let procExited = false;\n        const disposable: IDisposable = {\n            dispose: () => {\n                if (proc && !proc.killed && !procExited) {\n                    ProcessService.kill(proc.pid);\n                }\n                if (proc) {\n                    proc.unref();\n                }\n            }\n        };\n        this.processesToKill.add(disposable);\n\n        const output = new Observable<Output<string>>(subscriber => {\n            const disposables: IDisposable[] = [];\n\n            const on = (ee: NodeJS.EventEmitter, name: string, fn: Function) => {\n                ee.on(name, fn as any);\n                disposables.push({ dispose: () => ee.removeListener(name, fn as any) as any });\n            };\n\n            if (options.token) {\n                disposables.push(\n                    options.token.onCancellationRequested(() => {\n                        if (!procExited && !proc.killed) {\n                            proc.kill();\n                            procExited = true;\n                        }\n                    })\n                );\n            }\n\n            const sendOutput = (source: 'stdout' | 'stderr', data: Buffer) => {\n                const out = this.decoder.decode([data], encoding);\n                if (source === 'stderr' && options.throwOnStdErr) {\n                    subscriber.error(new StdErrError(out));\n                } else {\n                    subscriber.next({ source, out: out });\n                }\n            };\n\n            on(proc.stdout, 'data', (data: Buffer) => sendOutput('stdout', data));\n            on(proc.stderr, 'data', (data: Buffer) => sendOutput('stderr', data));\n\n            proc.once('close', () => {\n                procExited = true;\n                subscriber.complete();\n                disposables.forEach(d => d.dispose());\n            });\n            proc.once('exit', () => {\n                procExited = true;\n                subscriber.complete();\n                disposables.forEach(d => d.dispose());\n            });\n            proc.once('error', ex => {\n                procExited = true;\n                subscriber.error(ex);\n                disposables.forEach(d => d.dispose());\n            });\n        });\n\n        this.emit('exec', file, args, options);\n\n        return {\n            proc,\n            out: output,\n            dispose: disposable.dispose\n        };\n    }\n    public exec(file: string, args: string[], options: SpawnOptions = {}): Promise<ExecutionResult<string>> {\n        const spawnOptions = this.getDefaultOptions(options);\n        const encoding = spawnOptions.encoding ? spawnOptions.encoding : 'utf8';\n        const proc = spawn(file, args, spawnOptions);\n        const deferred = createDeferred<ExecutionResult<string>>();\n        const disposable: IDisposable = {\n            dispose: () => {\n                if (!proc.killed && !deferred.completed) {\n                    proc.kill();\n                }\n            }\n        };\n        this.processesToKill.add(disposable);\n        const disposables: IDisposable[] = [];\n\n        const on = (ee: NodeJS.EventEmitter, name: string, fn: Function) => {\n            ee.on(name, fn as any);\n            disposables.push({ dispose: () => ee.removeListener(name, fn as any) as any });\n        };\n\n        if (options.token) {\n            disposables.push(options.token.onCancellationRequested(disposable.dispose));\n        }\n\n        const stdoutBuffers: Buffer[] = [];\n        on(proc.stdout, 'data', (data: Buffer) => stdoutBuffers.push(data));\n        const stderrBuffers: Buffer[] = [];\n        on(proc.stderr, 'data', (data: Buffer) => {\n            if (options.mergeStdOutErr) {\n                stdoutBuffers.push(data);\n                stderrBuffers.push(data);\n            } else {\n                stderrBuffers.push(data);\n            }\n        });\n\n        proc.once('close', () => {\n            if (deferred.completed) {\n                return;\n            }\n            const stderr: string | undefined = stderrBuffers.length === 0 ? undefined : this.decoder.decode(stderrBuffers, encoding);\n            if (stderr && stderr.length > 0 && options.throwOnStdErr) {\n                deferred.reject(new StdErrError(stderr));\n            } else {\n                const stdout = this.decoder.decode(stdoutBuffers, encoding);\n                deferred.resolve({ stdout, stderr });\n            }\n            disposables.forEach(d => d.dispose());\n        });\n        proc.once('error', ex => {\n            deferred.reject(ex);\n            disposables.forEach(d => d.dispose());\n        });\n\n        this.emit('exec', file, args, options);\n\n        return deferred.promise;\n    }\n\n    public shellExec(command: string, options: ShellOptions = {}): Promise<ExecutionResult<string>> {\n        const shellOptions = this.getDefaultOptions(options);\n        return new Promise((resolve, reject) => {\n            const proc = exec(command, shellOptions, (e, stdout, stderr) => {\n                if (e && e !== null) {\n                    reject(e);\n                } else if (shellOptions.throwOnStdErr && stderr && stderr.length) {\n                    reject(new Error(stderr));\n                } else {\n                    // Make sure stderr is undefined if we actually had none. This is checked\n                    // elsewhere because that's how exec behaves.\n                    resolve({ stderr: stderr && stderr.length > 0 ? stderr : undefined, stdout: stdout });\n                }\n            });\n            const disposable: IDisposable = {\n                dispose: () => {\n                    if (!proc.killed) {\n                        proc.kill();\n                    }\n                }\n            };\n            this.processesToKill.add(disposable);\n        });\n    }\n\n    private getDefaultOptions<T extends ShellOptions | SpawnOptions>(options: T): T {\n        const defaultOptions = { ...options };\n        const execOptions = defaultOptions as SpawnOptions;\n        if (execOptions) {\n            const encoding = (execOptions.encoding = typeof execOptions.encoding === 'string' && execOptions.encoding.length > 0 ? execOptions.encoding : DEFAULT_ENCODING);\n            delete execOptions.encoding;\n            execOptions.encoding = encoding;\n        }\n        if (!defaultOptions.env || Object.keys(defaultOptions.env).length === 0) {\n            const env = this.env ? this.env : process.env;\n            defaultOptions.env = { ...env };\n        } else {\n            defaultOptions.env = { ...defaultOptions.env };\n        }\n\n        if (execOptions && execOptions.extraVariables) {\n            defaultOptions.env = { ...defaultOptions.env, ...execOptions.extraVariables };\n        }\n\n        // Always ensure we have unbuffered output.\n        defaultOptions.env.PYTHONUNBUFFERED = '1';\n        if (!defaultOptions.env.PYTHONIOENCODING) {\n            defaultOptions.env.PYTHONIOENCODING = 'utf-8';\n        }\n\n        return defaultOptions;\n    }\n}\n","\"use strict\";\nvar root_1 = require('./util/root');\nvar toSubscriber_1 = require('./util/toSubscriber');\nvar observable_1 = require('./symbol/observable');\nvar pipe_1 = require('./util/pipe');\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nvar Observable = (function () {\n    /**\n     * @constructor\n     * @param {Function} subscribe the function that is called when the Observable is\n     * initially subscribed to. This function is given a Subscriber, to which new values\n     * can be `next`ed, or an `error` method can be called to raise an error, or\n     * `complete` can be called to notify of a successful completion.\n     */\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    /**\n     * Creates a new Observable, with this Observable as the source, and the passed\n     * operator defined as the new observable's operator.\n     * @method lift\n     * @param {Operator} operator the operator defining the operation to take on the observable\n     * @return {Observable} a new observable with the Operator applied\n     */\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    /**\n     * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n     *\n     * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n     *\n     * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n     * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n     * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n     * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n     * thought.\n     *\n     * Apart from starting the execution of an Observable, this method allows you to listen for values\n     * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n     * following ways.\n     *\n     * The first way is creating an object that implements {@link Observer} interface. It should have methods\n     * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n     * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n     * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n     * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n     * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n     * be left uncaught.\n     *\n     * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n     * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n     * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n     * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n     * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n     * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n     *\n     * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n     * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n     * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n     * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n     *\n     * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n     * It is an Observable itself that decides when these functions will be called. For example {@link of}\n     * by default emits all its values synchronously. Always check documentation for how given Observable\n     * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n     *\n     * @example <caption>Subscribe with an Observer</caption>\n     * const sumObserver = {\n     *   sum: 0,\n     *   next(value) {\n     *     console.log('Adding: ' + value);\n     *     this.sum = this.sum + value;\n     *   },\n     *   error() { // We actually could just remove this method,\n     *   },        // since we do not really care about errors right now.\n     *   complete() {\n     *     console.log('Sum equals: ' + this.sum);\n     *   }\n     * };\n     *\n     * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n     * .subscribe(sumObserver);\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Subscribe with functions</caption>\n     * let sum = 0;\n     *\n     * Rx.Observable.of(1, 2, 3)\n     * .subscribe(\n     *   function(value) {\n     *     console.log('Adding: ' + value);\n     *     sum = sum + value;\n     *   },\n     *   undefined,\n     *   function() {\n     *     console.log('Sum equals: ' + sum);\n     *   }\n     * );\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Cancel a subscription</caption>\n     * const subscription = Rx.Observable.interval(1000).subscribe(\n     *   num => console.log(num),\n     *   undefined,\n     *   () => console.log('completed!') // Will not be called, even\n     * );                                // when cancelling subscription\n     *\n     *\n     * setTimeout(() => {\n     *   subscription.unsubscribe();\n     *   console.log('unsubscribed!');\n     * }, 2500);\n     *\n     * // Logs:\n     * // 0 after 1s\n     * // 1 after 2s\n     * // \"unsubscribed!\" after 2.5s\n     *\n     *\n     * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n     *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n     *  Observable.\n     * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n     *  the error will be thrown as unhandled.\n     * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n     * @return {ISubscription} a subscription reference to the registered handlers\n     * @method subscribe\n     */\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            operator.call(sink, this.source);\n        }\n        else {\n            sink.add(this.source || !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));\n        }\n        if (sink.syncErrorThrowable) {\n            sink.syncErrorThrowable = false;\n            if (sink.syncErrorThrown) {\n                throw sink.syncErrorValue;\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.syncErrorThrown = true;\n            sink.syncErrorValue = err;\n            sink.error(err);\n        }\n    };\n    /**\n     * @method forEach\n     * @param {Function} next a handler for each value emitted by the observable\n     * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n     * @return {Promise} a promise that either resolves on observable completion or\n     *  rejects with the handled error\n     */\n    Observable.prototype.forEach = function (next, PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            // Must be declared in a separate statement to avoid a RefernceError when\n            // accessing subscription below in the closure due to Temporal Dead Zone.\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                if (subscription) {\n                    // if there is a subscription, then we can surmise\n                    // the next handling is asynchronous. Any errors thrown\n                    // need to be rejected explicitly and unsubscribe must be\n                    // called manually\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscription.unsubscribe();\n                    }\n                }\n                else {\n                    // if there is NO subscription, then we're getting a nexted\n                    // value synchronously during subscription. We can just call it.\n                    // If it errors, Observable's `subscribe` will ensure the\n                    // unsubscription logic is called, then synchronously rethrow the error.\n                    // After that, Promise will trap the error and send it\n                    // down the rejection path.\n                    next(value);\n                }\n            }, reject, resolve);\n        });\n    };\n    /** @deprecated internal use only */ Observable.prototype._subscribe = function (subscriber) {\n        return this.source.subscribe(subscriber);\n    };\n    /**\n     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n     * @method Symbol.observable\n     * @return {Observable} this instance of the observable\n     */\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    /* tslint:enable:max-line-length */\n    /**\n     * Used to stitch together functional operators into a chain.\n     * @method pipe\n     * @return {Observable} the Observable result of all of the operators having\n     * been called in the order they were passed in.\n     *\n     * @example\n     *\n     * import { map, filter, scan } from 'rxjs/operators';\n     *\n     * Rx.Observable.interval(1000)\n     *   .pipe(\n     *     filter(x => x % 2 === 0),\n     *     map(x => x + x),\n     *     scan((acc, x) => acc + x)\n     *   )\n     *   .subscribe(x => console.log(x))\n     */\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i - 0] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    /* tslint:enable:max-line-length */\n    Observable.prototype.toPromise = function (PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    // HACK: Since TypeScript inherits static properties too, we have to\n    // fight against TypeScript here so Subject can have a different static create signature\n    /**\n     * Creates a new cold Observable by calling the Observable constructor\n     * @static true\n     * @owner Observable\n     * @method create\n     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n     * @return {Observable} a new cold observable\n     */\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\n//# sourceMappingURL=Observable.js.map","\"use strict\";\nvar Subscriber_1 = require('../Subscriber');\nvar rxSubscriber_1 = require('../symbol/rxSubscriber');\nvar Observer_1 = require('../Observer');\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isFunction_1 = require('./util/isFunction');\nvar Subscription_1 = require('./Subscription');\nvar Observer_1 = require('./Observer');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    /**\n     * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n     * defined Observer or a `next` callback function.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     */\n    function Subscriber(destinationOrNext, error, complete) {\n        _super.call(this);\n        this.syncErrorValue = null;\n        this.syncErrorThrown = false;\n        this.syncErrorThrowable = false;\n        this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    // HACK(benlesh): To resolve an issue where Node users may have multiple\n                    // copies of rxjs in their node_modules directory.\n                    if (isTrustedSubscriber(destinationOrNext)) {\n                        var trustedSubscriber = destinationOrNext[rxSubscriber_1.rxSubscriber]();\n                        this.syncErrorThrowable = trustedSubscriber.syncErrorThrowable;\n                        this.destination = trustedSubscriber;\n                        trustedSubscriber.add(this);\n                    }\n                    else {\n                        this.syncErrorThrowable = true;\n                        this.destination = new SafeSubscriber(this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                this.syncErrorThrowable = true;\n                this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);\n                break;\n        }\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    /**\n     * A static factory for a Subscriber, given a (potentially partial) definition\n     * of an Observer.\n     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n     * Observer represented by the given arguments.\n     */\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `next` from\n     * the Observable, with a value. The Observable may call this method 0 or more\n     * times.\n     * @param {T} [value] The `next` value.\n     * @return {void}\n     */\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `error` from\n     * the Observable, with an attached {@link Error}. Notifies the Observer that\n     * the Observable has experienced an error condition.\n     * @param {any} [err] The `error` exception.\n     * @return {void}\n     */\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive a valueless notification of type\n     * `complete` from the Observable. Notifies the Observer that the Observable\n     * has finished sending push-based notifications.\n     * @return {void}\n     */\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    /** @deprecated internal use only */ Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        this._parent = null;\n        this._parents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parent = _parent;\n        this._parents = _parents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        _super.call(this);\n        this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = this.unsubscribe.bind(this);\n            }\n        }\n        this._context = context;\n        this._next = next;\n        this._error = error;\n        this._complete = complete;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._error) {\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                throw err;\n            }\n            else {\n                _parentSubscriber.syncErrorValue = err;\n                _parentSubscriber.syncErrorThrown = true;\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            throw err;\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            parent.syncErrorValue = err;\n            parent.syncErrorThrown = true;\n            return true;\n        }\n        return false;\n    };\n    /** @deprecated internal use only */ SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nfunction isTrustedSubscriber(obj) {\n    return obj instanceof Subscriber || ('syncErrorThrowable' in obj && obj[rxSubscriber_1.rxSubscriber]);\n}\n//# sourceMappingURL=Subscriber.js.map","\"use strict\";\nvar isArray_1 = require('./util/isArray');\nvar isObject_1 = require('./util/isObject');\nvar isFunction_1 = require('./util/isFunction');\nvar tryCatch_1 = require('./util/tryCatch');\nvar errorObject_1 = require('./util/errorObject');\nvar UnsubscriptionError_1 = require('./util/UnsubscriptionError');\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nvar Subscription = (function () {\n    /**\n     * @param {function(): void} [unsubscribe] A function describing how to\n     * perform the disposal of resources when the `unsubscribe` method is called.\n     */\n    function Subscription(unsubscribe) {\n        /**\n         * A flag to indicate whether this Subscription has already been unsubscribed.\n         * @type {boolean}\n         */\n        this.closed = false;\n        this._parent = null;\n        this._parents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    /**\n     * Disposes the resources held by the subscription. May, for instance, cancel\n     * an ongoing Observable execution or cancel any other type of work that\n     * started when the Subscription was created.\n     * @return {void}\n     */\n    Subscription.prototype.unsubscribe = function () {\n        var hasErrors = false;\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parent = null;\n        this._parents = null;\n        // null out _subscriptions first so any child subscriptions that attempt\n        // to remove themselves from this subscription will noop\n        this._subscriptions = null;\n        var index = -1;\n        var len = _parents ? _parents.length : 0;\n        // if this._parent is null, then so is this._parents, and we\n        // don't have to remove ourselves from any parent subscriptions.\n        while (_parent) {\n            _parent.remove(this);\n            // if this._parents is null or index >= len,\n            // then _parent is set to null, and the loop exits\n            _parent = ++index < len && _parents[index] || null;\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n            if (trial === errorObject_1.errorObject) {\n                hasErrors = true;\n                errors = errors || (errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError ?\n                    flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors) : [errorObject_1.errorObject.e]);\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            index = -1;\n            len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n                    if (trial === errorObject_1.errorObject) {\n                        hasErrors = true;\n                        errors = errors || [];\n                        var err = errorObject_1.errorObject.e;\n                        if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n        }\n        if (hasErrors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    /**\n     * Adds a tear down to be called during the unsubscribe() of this\n     * Subscription.\n     *\n     * If the tear down being added is a subscription that is already\n     * unsubscribed, is the same reference `add` is being called on, or is\n     * `Subscription.EMPTY`, it will not be added.\n     *\n     * If this subscription is already in an `closed` state, the passed\n     * tear down logic will be executed immediately.\n     *\n     * @param {TeardownLogic} teardown The additional logic to execute on\n     * teardown.\n     * @return {Subscription} Returns the Subscription used or created to be\n     * added to the inner subscriptions list. This Subscription can be used with\n     * `remove()` to remove the passed teardown logic from the inner subscriptions\n     * list.\n     */\n    Subscription.prototype.add = function (teardown) {\n        if (!teardown || (teardown === Subscription.EMPTY)) {\n            return Subscription.EMPTY;\n        }\n        if (teardown === this) {\n            return this;\n        }\n        var subscription = teardown;\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default:\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n        var subscriptions = this._subscriptions || (this._subscriptions = []);\n        subscriptions.push(subscription);\n        subscription._addParent(this);\n        return subscription;\n    };\n    /**\n     * Removes a Subscription from the internal list of subscriptions that will\n     * unsubscribe during the unsubscribe process of this Subscription.\n     * @param {Subscription} subscription The subscription to remove.\n     * @return {void}\n     */\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        if (!_parent || _parent === parent) {\n            // If we don't have a parent, or the new parent is the same as the\n            // current parent, then set this._parent to the new parent.\n            this._parent = parent;\n        }\n        else if (!_parents) {\n            // If there's already one parent, but not multiple, allocate an Array to\n            // store the rest of the parent Subscriptions.\n            this._parents = [parent];\n        }\n        else if (_parents.indexOf(parent) === -1) {\n            // Only add the new parent to the _parents list if it's not already there.\n            _parents.push(parent);\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\nexports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArray.js.map","\"use strict\";\nfunction isObject(x) {\n    return x != null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map","\"use strict\";\nvar errorObject_1 = require('./errorObject');\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        return tryCatchTarget.apply(this, arguments);\n    }\n    catch (e) {\n        errorObject_1.errorObject.e = e;\n        return errorObject_1.errorObject;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\nexports.tryCatch = tryCatch;\n;\n//# sourceMappingURL=tryCatch.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nvar UnsubscriptionError = (function (_super) {\n    __extends(UnsubscriptionError, _super);\n    function UnsubscriptionError(errors) {\n        _super.call(this);\n        this.errors = errors;\n        var err = Error.call(this, errors ?\n            errors.length + \" errors occurred during unsubscription:\\n  \" + errors.map(function (err, i) { return ((i + 1) + \") \" + err.toString()); }).join('\\n  ') : '');\n        this.name = err.name = 'UnsubscriptionError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return UnsubscriptionError;\n}(Error));\nexports.UnsubscriptionError = UnsubscriptionError;\n//# sourceMappingURL=UnsubscriptionError.js.map","\"use strict\";\nvar root_1 = require('../util/root');\nfunction getSymbolObservable(context) {\n    var $$observable;\n    var Symbol = context.Symbol;\n    if (typeof Symbol === 'function') {\n        if (Symbol.observable) {\n            $$observable = Symbol.observable;\n        }\n        else {\n            $$observable = Symbol('observable');\n            Symbol.observable = $$observable;\n        }\n    }\n    else {\n        $$observable = '@@observable';\n    }\n    return $$observable;\n}\nexports.getSymbolObservable = getSymbolObservable;\nexports.observable = getSymbolObservable(root_1.root);\n/**\n * @deprecated use observable instead\n */\nexports.$$observable = exports.observable;\n//# sourceMappingURL=observable.js.map","\"use strict\";\nvar noop_1 = require('./noop');\n/* tslint:enable:max-line-length */\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i - 0] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\n/* @internal */\nfunction pipeFromArray(fns) {\n    if (!fns) {\n        return noop_1.noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n//# sourceMappingURL=pipe.js.map","\"use strict\";\n/* tslint:disable:no-empty */\nfunction noop() { }\nexports.noop = noop;\n//# sourceMappingURL=noop.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nimport { injectable } from 'inversify';\nimport { Readable } from 'stream';\nimport { Logger } from 'vscode-debugadapter';\nimport { IProtocolLogger } from '../types';\n\n@injectable()\nexport class ProtocolLogger implements IProtocolLogger {\n    private inputStream?: Readable;\n    private outputStream?: Readable;\n    private messagesToLog: string[] = [];\n    private logger?: Logger.ILogger;\n    public dispose() {\n        if (this.inputStream) {\n            this.inputStream.removeListener('data', this.fromDataCallbackHandler);\n            this.outputStream!.removeListener('data', this.toDataCallbackHandler);\n            this.messagesToLog = [];\n            this.inputStream = undefined;\n            this.outputStream = undefined;\n        }\n    }\n    public connect(inputStream: Readable, outputStream: Readable) {\n        this.inputStream = inputStream;\n        this.outputStream = outputStream;\n\n        inputStream.addListener('data', this.fromDataCallbackHandler);\n        outputStream.addListener('data', this.toDataCallbackHandler);\n    }\n    public setup(logger: Logger.ILogger) {\n        this.logger = logger;\n        this.logMessages([`Started @ ${new Date().toString()}`]);\n        this.logMessages(this.messagesToLog);\n        this.messagesToLog = [];\n    }\n    private fromDataCallbackHandler = (data: string | Buffer) => {\n        this.logMessages(['From Client:', (data as Buffer).toString('utf8')]);\n    };\n    private toDataCallbackHandler = (data: string | Buffer) => {\n        this.logMessages(['To Client:', (data as Buffer).toString('utf8')]);\n    };\n    private logMessages(messages: string[]) {\n        if (this.logger) {\n            messages.forEach(message => this.logger!.verbose(`${message}`));\n        } else {\n            this.messagesToLog.push(...messages);\n        }\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// tslint:disable:no-constant-condition no-typeof-undefined\n\nimport { EventEmitter } from 'events';\nimport { injectable } from 'inversify';\nimport { Readable } from 'stream';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { IProtocolParser } from '../types';\n\nconst PROTOCOL_START_INDENTIFIER = '\\r\\n\\r\\n';\n\n/**\n * Parsers the debugger Protocol messages and raises the following events:\n * 1. 'data', message (for all protocol messages)\n * 1. 'event_<event name>', message (for all protocol events)\n * 1. 'request_<command name>', message (for all protocol requests)\n * 1. 'response_<command name>', message (for all protocol responses)\n * 1. '<type>', message (for all protocol messages that are not events, requests nor responses)\n * @export\n * @class ProtocolParser\n * @extends {EventEmitter}\n * @implements {IProtocolParser}\n */\n@injectable()\nexport class ProtocolParser extends EventEmitter implements IProtocolParser {\n    private rawData = new Buffer(0);\n    private contentLength: number = -1;\n    private disposed: boolean = false;\n    private stream?: Readable;\n    constructor() {\n        super();\n    }\n    public dispose() {\n        if (this.stream) {\n            this.stream.removeListener('data', this.dataCallbackHandler);\n            this.stream = undefined;\n        }\n    }\n    public connect(stream: Readable) {\n        this.stream = stream;\n        stream.addListener('data', this.dataCallbackHandler);\n    }\n    private dataCallbackHandler = (data: string | Buffer) => {\n        this.handleData(data as Buffer);\n    };\n    private dispatch(body: string): void {\n        const message = JSON.parse(body) as DebugProtocol.ProtocolMessage;\n\n        switch (message.type) {\n            case 'event': {\n                const event = message as DebugProtocol.Event;\n                if (typeof event.event === 'string') {\n                    this.emit(`${message.type}_${event.event}`, event);\n                }\n                break;\n            }\n            case 'request': {\n                const request = message as DebugProtocol.Request;\n                if (typeof request.command === 'string') {\n                    this.emit(`${message.type}_${request.command}`, request);\n                }\n                break;\n            }\n            case 'response': {\n                const reponse = message as DebugProtocol.Response;\n                if (typeof reponse.command === 'string') {\n                    this.emit(`${message.type}_${reponse.command}`, reponse);\n                }\n                break;\n            }\n            default: {\n                this.emit(`${message.type}`, message);\n            }\n        }\n\n        this.emit('data', message);\n    }\n    private handleData(data: Buffer): void {\n        if (this.disposed) {\n            return;\n        }\n        this.rawData = Buffer.concat([this.rawData, data]);\n\n        while (true) {\n            if (this.contentLength >= 0) {\n                if (this.rawData.length >= this.contentLength) {\n                    const message = this.rawData.toString('utf8', 0, this.contentLength);\n                    this.rawData = this.rawData.slice(this.contentLength);\n                    this.contentLength = -1;\n                    if (message.length > 0) {\n                        this.dispatch(message);\n                    }\n                    // there may be more complete messages to process.\n                    continue;\n                }\n            } else {\n                const idx = this.rawData.indexOf(PROTOCOL_START_INDENTIFIER);\n                if (idx !== -1) {\n                    const header = this.rawData.toString('utf8', 0, idx);\n                    const lines = header.split('\\r\\n');\n                    for (const line of lines) {\n                        const pair = line.split(/: +/);\n                        if (pair[0] === 'Content-Length') {\n                            this.contentLength = +pair[1];\n                        }\n                    }\n                    this.rawData = this.rawData.slice(idx + PROTOCOL_START_INDENTIFIER.length);\n                    continue;\n                }\n            }\n            break;\n        }\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n'use strict';\n\nimport { injectable } from 'inversify';\nimport { Socket } from 'net';\nimport { Message } from 'vscode-debugadapter/lib/messages';\nimport { IProtocolMessageWriter } from '../types';\n\nconst TWO_CRLF = '\\r\\n\\r\\n';\n\n@injectable()\nexport class ProtocolMessageWriter implements IProtocolMessageWriter {\n    public write(stream: Socket | NodeJS.WriteStream, message: Message): void {\n        const json = JSON.stringify(message);\n        const length = Buffer.byteLength(json, 'utf8');\n\n        stream.write(`Content-Length: ${length.toString()}${TWO_CRLF}`, 'utf8');\n        stream.write(json, 'utf8');\n    }\n}\n","'use strict';\n\nvar childProcess = require('child_process');\nvar spawn = childProcess.spawn;\nvar exec = childProcess.exec;\n\nmodule.exports = function (pid, signal, callback) {\n    if (typeof signal === 'function' && callback === undefined) {\n        callback = signal;\n        signal = undefined;\n    }\n\n    pid = parseInt(pid);\n    if (Number.isNaN(pid)) {\n        if (callback) {\n            return callback(new Error(\"pid must be a number\"));\n        } else {\n            throw new Error(\"pid must be a number\");\n        }\n    }\n\n    var tree = {};\n    var pidsToProcess = {};\n    tree[pid] = [];\n    pidsToProcess[pid] = 1;\n\n    switch (process.platform) {\n    case 'win32':\n        exec('taskkill /pid ' + pid + ' /T /F', callback);\n        break;\n    case 'darwin':\n        buildProcessTree(pid, tree, pidsToProcess, function (parentPid) {\n          return spawn('pgrep', ['-P', parentPid]);\n        }, function () {\n            killAll(tree, signal, callback);\n        });\n        break;\n    // case 'sunos':\n    //     buildProcessTreeSunOS(pid, tree, pidsToProcess, function () {\n    //         killAll(tree, signal, callback);\n    //     });\n    //     break;\n    default: // Linux\n        buildProcessTree(pid, tree, pidsToProcess, function (parentPid) {\n          return spawn('ps', ['-o', 'pid', '--no-headers', '--ppid', parentPid]);\n        }, function () {\n            killAll(tree, signal, callback);\n        });\n        break;\n    }\n};\n\nfunction killAll (tree, signal, callback) {\n    var killed = {};\n    try {\n        Object.keys(tree).forEach(function (pid) {\n            tree[pid].forEach(function (pidpid) {\n                if (!killed[pidpid]) {\n                    killPid(pidpid, signal);\n                    killed[pidpid] = 1;\n                }\n            });\n            if (!killed[pid]) {\n                killPid(pid, signal);\n                killed[pid] = 1;\n            }\n        });\n    } catch (err) {\n        if (callback) {\n            return callback(err);\n        } else {\n            throw err;\n        }\n    }\n    if (callback) {\n        return callback();\n    }\n}\n\nfunction killPid(pid, signal) {\n    try {\n        process.kill(parseInt(pid, 10), signal);\n    }\n    catch (err) {\n        if (err.code !== 'ESRCH') throw err;\n    }\n}\n\nfunction buildProcessTree (parentPid, tree, pidsToProcess, spawnChildProcessesList, cb) {\n    var ps = spawnChildProcessesList(parentPid);\n    var allData = '';\n    ps.stdout.on('data', function (data) {\n        var data = data.toString('ascii');\n        allData += data;\n    });\n\n    var onClose = function (code) {\n        delete pidsToProcess[parentPid];\n\n        if (code != 0) {\n            // no more parent processes\n            if (Object.keys(pidsToProcess).length == 0) {\n                cb();\n            }\n            return;\n        }\n\n        allData.match(/\\d+/g).forEach(function (pid) {\n          pid = parseInt(pid, 10);\n          tree[parentPid].push(pid);\n          tree[pid] = [];\n          pidsToProcess[pid] = 1;\n          buildProcessTree(pid, tree, pidsToProcess, spawnChildProcessesList, cb);\n        });\n    };\n\n    ps.on('close', onClose);\n}\n"],"sourceRoot":""}