!function(e){function t(t){for(var l,o,c=t[0],i=t[1],s=t[2],p=0,u=[];p<c.length;p++)o=c[p],a[o]&&u.push(a[o][0]),a[o]=0;for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l]);for(d&&d(t);u.length;)u.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],l=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(l=!1)}l&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var l={},a={nativeEditor:0},r=[];function o(t){if(l[t])return l[t].exports;var n=l[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,function(e){if(e.exports&&!e.exports.__esModule&&void 0===e.exports.default){if(e.exports.headers&&e.exports.headers.common&&e.exports.headers.common.Accept&&e.exports.adapter&&e.exports.transformRequest&&e.exports.transformResponse)return;e.exports.default=e.exports}}(n),n.exports}o.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var l=new Promise((function(t,l){n=a[e]=[t,l]}));t.push(n[2]=l);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+""+({"vendors~dataresource~geojson~modeldebug~nteract_transforms~nteract_transforms_vsdom":"vendors~dataresource~geojson~modeldebug~nteract_transforms~nteract_transforms_vsdom",modeldebug:"modeldebug",nteract_transforms_vsdom:"nteract_transforms_vsdom","vendors~dataresource~vega":"vendors~dataresource~vega","vendors~dataresource":"vendors~dataresource","vendors~geojson":"vendors~geojson","vendors~nteract_transforms":"vendors~nteract_transforms","vendors~vega":"vendors~vega",vega:"vega","vendors~plotly":"vendors~plotly"}[e]||e)+".bundle.js"}(e);var i=new Error;r=function(t){c.onerror=c.onload=null,clearTimeout(s);var n=a[e];if(0!==n){if(n){var l=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+l+": "+r+")",i.name="ChunkLoadError",i.type=l,i.request=r,n[1](i)}a[e]=void 0}};var s=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=l,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)o.d(n,l,function(t){return e[t]}.bind(null,l));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var d=i;r.push([0,"monaco","commons"]),n()}({0:function(e,t,n){n("201c"),e.exports=n("U4QP")},BXnt:function(e,t,n){var l=n("x/JJ");"string"==typeof l&&(l=[[e.i,l,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(l,a);l.locals&&(e.exports=l.locals)},U4QP:function(e,t,n){"use strict";n.r(t);n("HWNH"),n("usN3");var l=n("q1tI"),a=n("i8i4"),r=n("/MKj"),o=n("Aohs"),c=n("mrSG"),i=n("2nmg"),s=n("XHnH"),d=n("p1gK"),p=n("jss3"),u=n("d+9d"),b=n("KNyV"),v=n("qUK1");function m(){return window.navigator.platform.startsWith("Mac")?i.a.OSX:window.navigator.platform.startsWith("Win")?i.a.Windows:window.navigator.userAgent.indexOf("Linux")>0?i.a.Linux:i.a.Unknown}var f=n("uunU"),h=n("btyL"),g=n("kobn"),C=n("cwXv"),y=n("t4XM"),O=function(e){function t(t){return e.call(this,t)||this}return Object(c.c)(t,e),t.prototype.render=function(){var e="add-cell-line "+this.props.className,t=Object(C.a)("DataScience.insertBelow","Insert cell below"),n=this.props.includePlus?l.createElement(h.a,{baseTheme:this.props.baseTheme,class:"image-button-image",image:h.b.InsertBelow}):null;return l.createElement("div",{className:e},l.createElement("button",{role:"button","aria-pressed":"false",title:t,"aria-label":t,className:"add-cell-line-button",onClick:this.props.click},n,l.createElement("span",{className:"add-cell-line-divider"})))},t}(l.Component),S=(n("KbE7"),n("aUsF")),E=n("yXML"),w=n("2g1K"),k=n("2rLJ"),x=n("PX74"),T=n("QZoQ"),I=n("M7O9"),j=n("QLg1"),M=n("pm+A"),V={insertAbove:function(e){return{type:M.a.INSERT_ABOVE,payload:{cellId:e}}},insertAboveFirst:function(){return{type:M.a.INSERT_ABOVE_FIRST}},insertBelow:function(e){return{type:M.a.INSERT_BELOW,payload:{cellId:e}}},focusCell:function(e,t){return void 0===t&&(t=j.a.Current),{type:M.a.FOCUS_CELL,payload:{cellId:e,cursorPos:t}}},unfocusCell:function(e,t){return{type:M.a.UNFOCUS_CELL,payload:{cellId:e,code:t}}},selectCell:function(e,t){return void 0===t&&(t=j.a.Current),{type:M.a.SELECT_CELL,payload:{cellId:e,cursorPos:t}}},addCell:function(){return{type:M.a.ADD_NEW_CELL}},executeCell:function(e,t,n){return{type:M.a.EXECUTE_CELL,payload:{cellId:e,code:t,moveOp:n}}},executeAllCells:function(){return{type:M.a.EXECUTE_ALL_CELLS}},executeAbove:function(e){return{type:M.a.EXECUTE_ABOVE,payload:{cellId:e}}},executeCellAndBelow:function(e,t){return{type:M.a.EXECUTE_CELL_AND_BELOW,payload:{cellId:e,code:t}}},toggleVariableExplorer:function(){return{type:M.a.TOGGLE_VARIABLE_EXPLORER}},refreshVariables:function(e){return{type:M.a.REFRESH_VARIABLES,payload:{newExecutionCount:e}}},restartKernel:function(){return{type:M.a.RESTART_KERNEL}},interruptKernel:function(){return{type:M.a.INTERRUPT_KERNEL}},clearAllOutputs:function(){return{type:M.a.CLEAR_ALL_OUTPUTS}},export:function(){return{type:M.a.EXPORT}},save:function(){return{type:M.a.SAVE}},showDataViewer:function(e,t){return{type:M.a.SHOW_DATA_VIEWER,payload:{variable:e,columnSize:t}}},sendCommand:function(e,t){return{type:M.a.SEND_COMMAND,payload:{command:e,commandType:t}}},moveCellUp:function(e){return{type:M.a.MOVE_CELL_UP,payload:{cellId:e}}},moveCellDown:function(e){return{type:M.a.MOVE_CELL_DOWN,payload:{cellId:e}}},changeCellType:function(e,t){return{type:M.a.CHANGE_CELL_TYPE,payload:{cellId:e,currentCode:t}}},toggleLineNumbers:function(e){return{type:M.a.TOGGLE_LINE_NUMBERS,payload:{cellId:e}}},toggleOutput:function(e){return{type:M.a.TOGGLE_OUTPUT,payload:{cellId:e}}},deleteCell:function(e){return{type:M.a.DELETE_CELL,payload:{cellId:e}}},undo:function(){return{type:M.a.UNDO}},redo:function(){return{type:M.a.REDO}},arrowUp:function(e,t){return{type:M.a.ARROW_UP,payload:{cellId:e,code:t}}},arrowDown:function(e,t){return{type:M.a.ARROW_DOWN,payload:{cellId:e,code:t}}},editCell:function(e,t,n,l){return{type:M.a.EDIT_CELL,payload:{cellId:e,changes:t,modelId:n,code:l}}},linkClick:function(e){return{type:M.a.LINK_CLICK,payload:{href:e}}},showPlot:function(e){return{type:M.a.SHOW_PLOT,payload:{imageHtml:e}}},gatherCell:function(e){return{type:M.a.GATHER_CELL,payload:{cellId:e}}},editorLoaded:function(){return{type:M.a.EDITOR_LOADED}},codeCreated:function(e,t){return{type:M.a.CODE_CREATED,payload:{cellId:e,modelId:t}}},loadedAllCells:function(){return{type:M.a.LOADED_ALL_CELLS}},editorUnmounted:function(){return{type:M.a.UNMOUNT}},selectKernel:function(){return{type:M.a.SELECT_KERNEL}},selectServer:function(){return{type:M.a.SELECT_SERVER}},getVariableData:function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=100),{type:M.a.GET_VARIABLE_DATA,payload:{executionCount:e,sortColumn:"name",sortAscending:!0,startIndex:t,pageSize:n}}}},A=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=l.createRef(),n.wrapperRef=l.createRef(),n.getCell=function(){return n.props.cellVM.cell},n.isCodeCell=function(){return"code"===n.props.cellVM.cell.data.cell_type},n.isMarkdownCell=function(){return"markdown"===n.props.cellVM.cell.data.cell_type},n.isSelected=function(){return n.props.cellVM.selected},n.isFocused=function(){return n.props.cellVM.focused},n.onMouseClick=function(e){if(e.nativeEvent.target){var t=e.nativeEvent.target;t.className.includes&&t.className.includes("image-button")||(e.stopPropagation(),n.lastKeyPressed=void 0,n.props.selectCell(n.cellId))}},n.onMouseDoubleClick=function(e){e.stopPropagation(),n.props.focusCell(n.cellId,j.a.Current)},n.shouldRenderCodeEditor=function(){return n.isCodeCell()&&(n.props.cellVM.inputBlockShow||n.props.cellVM.editable)},n.shouldRenderMarkdownEditor=function(){return n.isMarkdownCell()&&(n.isShowingMarkdownEditor()||n.props.cellVM.cell.id===E.a.EditCellId)},n.isShowingMarkdownEditor=function(){return n.isMarkdownCell()&&n.props.cellVM.focused},n.hasOutput=function(){return n.getCell().state===w.a.finished||n.getCell().state===w.a.error||n.getCell().state===w.a.executing},n.getCodeCell=function(){return n.props.cellVM.cell.data},n.keyDownInput=function(e,t){var l=n.isFocused()&&t.editorInfo&&!t.editorInfo.isSuggesting;switch(t.code){case"ArrowUp":case"k":(l&&t.editorInfo.isFirstLine&&!t.shiftKey||!n.isFocused())&&n.arrowUpFromCell(t);break;case"ArrowDown":case"j":(l&&t.editorInfo.isLastLine&&!t.shiftKey||!n.isFocused())&&n.arrowDownFromCell(t);break;case"s":(t.ctrlKey&&m()!==i.a.OSX||t.metaKey&&m()===i.a.OSX)&&n.props.save();break;case"Escape":l&&n.escapeCell(t);break;case"y":!n.isFocused()&&n.isSelected()&&n.isMarkdownCell()&&(t.stopPropagation(),t.preventDefault(),n.props.changeCellType(e,n.getCurrentCode()),n.props.sendCommand(s.b.ChangeToCode,"keyboard"));break;case"m":!n.isFocused()&&n.isSelected()&&n.isCodeCell()&&(t.stopPropagation(),t.preventDefault(),n.props.changeCellType(e,n.getCurrentCode()),n.props.sendCommand(s.b.ChangeToMarkdown,"keyboard"));break;case"l":!n.isFocused()&&n.isSelected()&&(t.stopPropagation(),n.props.toggleLineNumbers(e),n.props.sendCommand(s.b.ToggleLineNumbers,"keyboard"));break;case"o":!n.isFocused()&&n.isSelected()&&(t.stopPropagation(),n.props.toggleOutput(e),n.props.sendCommand(s.b.ToggleOutput,"keyboard"));break;case"Enter":t.shiftKey?n.shiftEnterCell(t):t.ctrlKey?n.ctrlEnterCell(t):t.altKey?n.altEnterCell(t):n.enterCell(t);break;case"d":"d"===n.lastKeyPressed&&!n.isFocused()&&n.isSelected()&&(t.stopPropagation(),n.lastKeyPressed=void 0,n.props.deleteCell(e),n.props.sendCommand(s.b.DeleteCell,"keyboard"));break;case"a":n.isFocused()||(t.stopPropagation(),n.props.insertAbove(e),n.props.sendCommand(s.b.InsertAbove,"keyboard"));break;case"b":n.isFocused()||(t.stopPropagation(),n.props.insertBelow(e),n.props.sendCommand(s.b.InsertBelow,"keyboard"));break;case"z":case"Z":n.isFocused()||(!t.shiftKey||t.ctrlKey||t.altKey?t.shiftKey||t.altKey||t.ctrlKey||(t.stopPropagation(),n.props.undo(),n.props.sendCommand(s.b.Undo,"keyboard")):(t.stopPropagation(),n.props.redo(),n.props.sendCommand(s.b.Redo,"keyboard")))}n.lastKeyPressed=t.code},n.escapeCell=function(e){n.wrapperRef&&n.wrapperRef.current&&n.isFocused()&&(e.stopPropagation(),n.wrapperRef.current.focus(),n.props.sendCommand(s.b.Unfocus,"keyboard"))},n.arrowUpFromCell=function(e){e.stopPropagation(),e.preventDefault(),n.props.arrowUp(n.cellId,n.getCurrentCode()),n.props.sendCommand(s.b.ArrowUp,"keyboard")},n.arrowDownFromCell=function(e){e.stopPropagation(),e.preventDefault(),n.props.arrowDown(n.cellId,n.getCurrentCode()),n.props.sendCommand(s.b.ArrowDown,"keyboard")},n.enterCell=function(e){!n.isFocused()&&!e.editorInfo&&n.wrapperRef&&n.wrapperRef&&n.isSelected()&&(e.stopPropagation(),e.preventDefault(),n.props.focusCell(n.cellId,j.a.Current))},n.shiftEnterCell=function(e){e.stopPropagation(),e.preventDefault(),n.runAndMove(e.editorInfo?e.editorInfo.contents:void 0),n.props.sendCommand(s.b.RunAndMove,"keyboard")},n.altEnterCell=function(e){e.stopPropagation(),e.preventDefault(),n.runAndAdd(e.editorInfo?e.editorInfo.contents:void 0),n.props.sendCommand(s.b.RunAndAdd,"keyboard")},n.ctrlEnterCell=function(e){e.stopPropagation(),e.preventDefault(),n.submitCell(e.editorInfo?e.editorInfo.contents:void 0,"none"),n.props.sendCommand(s.b.Run,"keyboard")},n.submitCell=function(e,t){var l;(l=void 0!==e?e:Object(d.b)(n.props.cellVM.cell.data.source))&&n.props.executeCell(n.cellId,l,t)},n.addNewCell=function(){n.props.insertBelow(n.cellId),n.props.sendCommand(s.b.AddToEnd,"mouse")},n.renderNavbar=function(){var e=n.props.lastCell?null:l.createElement("div",{className:"navbar-add-button"},l.createElement(g.a,{baseTheme:n.props.baseTheme,onClick:n.addNewCell,tooltip:Object(C.a)("DataScience.insertBelow","Insert cell below")},l.createElement(h.a,{baseTheme:n.props.baseTheme,class:"image-button-image",image:h.b.InsertBelow})));return l.createElement("div",{className:"navbar-div"},l.createElement("div",null,l.createElement(g.a,{baseTheme:n.props.baseTheme,onClick:function(){n.props.moveCellUp(n.cellId),n.props.sendCommand(s.b.MoveCellUp,"mouse")},disabled:n.props.firstCell,tooltip:Object(C.a)("DataScience.moveCellUp","Move cell up")},l.createElement(h.a,{baseTheme:n.props.baseTheme,class:"image-button-image",image:h.b.Up}))),l.createElement("div",null,l.createElement(g.a,{baseTheme:n.props.baseTheme,onClick:function(){n.props.moveCellDown(n.cellId),n.props.sendCommand(s.b.MoveCellDown,"mouse")},disabled:n.props.lastCell,tooltip:Object(C.a)("DataScience.moveCellDown","Move cell down")},l.createElement(h.a,{baseTheme:n.props.baseTheme,class:"image-button-image",image:h.b.Down}))),e)},n.renderAddDivider=function(e){return n.props.lastCell||e&&n.shouldRenderOutput()?null:l.createElement(O,{className:"add-divider",baseTheme:n.props.baseTheme,includePlus:!1,click:n.addNewCell})},n.renderMiddleToolbar=function(){var e=n.props.cellVM.cell.id,t=null===n.props.cellVM.cell.data.execution_count||null===n.props.cellVM.hasBeenRun||!1===n.props.cellVM.hasBeenRun||n.isMarkdownCell()||!1===n.props.enableGather,a="code"===n.props.cellVM.cell.data.cell_type?Object(C.a)("DataScience.switchToMarkdown","Change to markdown"):Object(C.a)("DataScience.switchToCode","Change to code"),r="code"===n.props.cellVM.cell.data.cell_type?"markdown":"code",o="markdown"===r?s.b.ChangeToMarkdown:s.b.ChangeToCode,c="markdown"===r?h.b.SwitchToMarkdown:h.b.SwitchToCode,i="code"===n.props.cellVM.cell.data.cell_type?"":"markdown-toolbar";return l.createElement("div",{className:i},l.createElement("div",{className:"native-editor-celltoolbar-middle"},l.createElement(g.a,{baseTheme:n.props.baseTheme,onClick:function(){n.runAndMove(n.getCurrentCode()),n.props.sendCommand(s.b.Run,"mouse")},tooltip:Object(C.a)("DataScience.runCell","Run cell"),hidden:n.isMarkdownCell()},l.createElement(h.a,{baseTheme:n.props.baseTheme,class:"image-button-image",image:h.b.Run})),l.createElement(g.a,{baseTheme:n.props.baseTheme,onMouseDown:function(t){t.stopPropagation(),t.preventDefault(),n.props.changeCellType(e,n.getCurrentCode()),n.props.sendCommand(o,"mouse")},tooltip:a},l.createElement(h.a,{baseTheme:n.props.baseTheme,class:"image-button-image",image:c})),l.createElement(g.a,{baseTheme:n.props.baseTheme,onClick:function(){n.props.gatherCell(e)},tooltip:Object(C.a)("DataScience.gatherCell","Gather the code required to generate this cell into a new notebook"),hidden:t,className:"hover-cell-button"},l.createElement(h.a,{baseTheme:n.props.baseTheme,class:"image-button-image",image:h.b.GatherCode})),l.createElement(g.a,{baseTheme:n.props.baseTheme,onClick:function(){n.props.deleteCell(e),n.props.sendCommand(s.b.DeleteCell,"mouse")},tooltip:Object(C.a)("DataScience.deleteCell","Delete cell"),className:"delete-cell-button hover-cell-button"},l.createElement(h.a,{baseTheme:n.props.baseTheme,class:"image-button-image",image:h.b.Delete}))),l.createElement("div",{className:"native-editor-celltoolbar-divider"}))},n.renderControls=function(){var e=n.props.cellVM.cell.state===w.a.init||n.props.cellVM.cell.state===w.a.executing,t=n.props.cellVM&&n.props.cellVM.cell&&n.props.cellVM.cell.data&&n.props.cellVM.cell.data.execution_count?n.props.cellVM.cell.data.execution_count.toString():"-";return l.createElement("div",{className:"controls-div"},l.createElement(T.a,{isBusy:e,count:t,visible:n.isCodeCell()}))},n.renderInput=function(){return n.shouldRenderInput()?l.createElement("div",null,n.renderMiddleToolbar(),l.createElement(k.a,{cellVM:n.props.cellVM,editorOptions:n.props.editorOptions,history:void 0,codeTheme:n.props.codeTheme,onCodeChange:n.onCodeChange,onCodeCreated:n.onCodeCreated,testMode:!!n.props.testMode,showWatermark:!1,ref:n.inputRef,monacoTheme:n.props.monacoTheme,openLink:n.openLink,editorMeasureClassName:void 0,focused:n.onCodeFocused,unfocused:n.onCodeUnfocused,keyDown:n.keyDownInput,showLineNumbers:n.props.cellVM.showLineNumbers,font:n.props.font,focusPending:n.props.focusPending})):null},n.onCodeFocused=function(){n.props.focusCell(n.cellId,j.a.Current)},n.onCodeUnfocused=function(){n.props.unfocusCell(n.cellId,n.getCurrentCode())},n.onCodeChange=function(e,t,l){n.props.editCell(t,e,l,n.getCurrentCode())},n.onCodeCreated=function(e,t,l,a){n.props.codeCreated(l,a)},n.renderOutput=function(){var e=!!n.props.themeMatplotlibPlots,t="markdown"===n.props.cellVM.cell.data.cell_type?n.renderMiddleToolbar():null;return n.shouldRenderOutput()?l.createElement("div",null,t,l.createElement(x.a,{cellVM:n.props.cellVM,baseTheme:n.props.baseTheme,expandImage:n.props.showPlot,maxTextSize:n.props.maxTextSize,themeMatplotlibPlots:e})):null},n.onOuterKeyDown=function(e){"Tab"===e.key||n.isFocused()||n.keyDownInput(n.props.cellVM.cell.id,{code:e.key,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,target:e.target,stopPropagation:function(){return e.stopPropagation()},preventDefault:function(){return e.preventDefault()}})},n.renderCollapseBar=function(e){var t="collapse-bar";if(n.isSelected()&&!n.isFocused()&&(t+=" collapse-bar-selected"),n.isFocused()&&(t+=" collapse-bar-focused"),e)return l.createElement("div",{className:t});if("markdown"===n.props.cellVM.cell.data.cell_type)t+=" collapse-bar-markdown";else{if(!Array.isArray(n.props.cellVM.cell.data.outputs)||0===n.props.cellVM.cell.data.outputs.length)return null;t+=" collapse-bar-output"}return l.createElement("div",{className:t})},n.openLink=function(e){n.props.linkClick(e.toString())},n}return Object(c.c)(t,e),t.prototype.render=function(){return"messages"===this.props.cellVM.cell.data.cell_type?l.createElement(I.a,{messages:this.props.cellVM.cell.data.messages}):this.renderNormalCell()},t.prototype.componentDidUpdate=function(e){!this.props.cellVM.selected||e.cellVM.selected||this.props.cellVM.focused||this.giveFocus(),this.lastKeyPressed=void 0},t.prototype.shouldComponentUpdate=function(e){return!S(this.props,e)},t.prototype.getUnknownMimeTypeFormatString=function(){return Object(C.a)("DataScience.unknownMimeTypeFormat","Unknown Mime Type")},t.prototype.giveFocus=function(){this.wrapperRef&&this.wrapperRef.current&&(this.wrapperRef.current.contains(document.activeElement)||this.wrapperRef.current.focus(),this.wrapperRef.current.scrollIntoView&&this.wrapperRef.current.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}))},t.prototype.renderNormalCell=function(){var e=this.props.cellVM.editable?"cell-outer-editable":"cell-outer",t=this.props.cellVM.editable?"cell-wrapper":"cell-wrapper cell-wrapper-noneditable";this.isSelected()&&!this.isFocused()&&(t+=" cell-wrapper-selected"),this.isFocused()&&(t+=" cell-wrapper-focused");var n=this.isMarkdownCell()&&!this.isShowingMarkdownEditor()?l.createElement("div",{className:"cell-result-container"},l.createElement("div",{className:"cell-row-container"},this.renderCollapseBar(!1),this.renderOutput()),this.renderAddDivider(!1)):l.createElement("div",{className:"cell-result-container"},l.createElement("div",{className:"cell-row-container"},this.renderCollapseBar(!0),this.renderControls(),this.renderInput()),this.renderAddDivider(!0),l.createElement("div",{className:"cell-row-container"},this.renderCollapseBar(!1),this.renderOutput()));return l.createElement("div",{className:t,role:this.props.role,ref:this.wrapperRef,tabIndex:0,onKeyDown:this.onOuterKeyDown,onClick:this.onMouseClick,onDoubleClick:this.onMouseDoubleClick},l.createElement("div",{className:e},this.renderNavbar(),l.createElement("div",{className:"content-div"},n)))},t.prototype.shouldRenderInput=function(){return this.shouldRenderCodeEditor()||this.shouldRenderMarkdownEditor()},t.prototype.shouldRenderOutput=function(){if(this.isCodeCell()){var e=this.getCodeCell();return this.hasOutput()&&e.outputs&&!this.props.cellVM.hideOutput&&Array.isArray(e.outputs)&&0!==e.outputs.length}return!!this.isMarkdownCell()&&!this.isShowingMarkdownEditor()},Object.defineProperty(t.prototype,"cellId",{get:function(){return this.props.cellVM.cell.id},enumerable:!0,configurable:!0}),t.prototype.runAndMove=function(e){this.submitCell(e,this.props.lastCell?"add":"select")},t.prototype.runAndAdd=function(e){this.submitCell(e,"add")},t.prototype.getCurrentCode=function(){return(this.inputRef.current?this.inputRef.current.getContents():void 0)||Object(d.b)(this.props.cellVM.cell.data.source)},t}(l.Component);n("BXnt");function L(e){return Object(c.a)(Object(c.a)({},e.main),{variableState:e.variables})}var R=Object(r.b)(null,V)(A),D=function(e){function t(t){var n=e.call(this,t)||this;return n.renderCount=0,n.waitingForLoadRender=!0,n.getContentProps=function(e){return{baseTheme:e,cellVMs:n.props.cellVMs,testMode:n.props.testMode,codeTheme:n.props.codeTheme,submittedText:n.props.submittedText,skipNextScroll:!!n.props.skipNextScroll,editable:!0,renderCell:n.renderCell,scrollToBottom:n.scrollDiv}},n.getVariableProps=function(e){return{variables:n.props.variableState.variables,debugging:n.props.debugging,busy:n.props.busy,showDataExplorer:n.props.showDataViewer,skipDefault:n.props.skipDefault,testMode:n.props.testMode,closeVariableExplorer:n.props.toggleVariableExplorer,baseTheme:e,pageIn:n.pageInVariableData,fontSize:n.props.font.size,executionCount:n.props.currentExecutionCount}},n.pageInVariableData=function(e,t){n.props.getVariableData(n.props.currentExecutionCount,e,t)},n.mainKeyDown=function(e){switch(e.key){case"s":(e.ctrlKey&&m()!==i.a.OSX||e.metaKey&&m()===i.a.OSX)&&(n.props.save(),n.props.sendCommand(s.b.Save,"keyboard"));break;case"z":case"Z":void 0===n.props.focusedCellId&&(!e.shiftKey||e.ctrlKey||e.altKey?e.shiftKey||e.altKey||e.ctrlKey||(e.stopPropagation(),n.props.undo(),n.props.sendCommand(s.b.Undo,"keyboard")):(e.stopPropagation(),n.props.redo(),n.props.sendCommand(s.b.Redo,"keyboard")))}},n.renderCell=function(e,t){if(!n.props.settings||!n.props.editorOptions)return null;var a=0===t,r=t===n.props.cellVMs.length-1?l.createElement(O,{includePlus:!0,baseTheme:n.props.baseTheme,className:"add-cell-line-cell",click:function(){n.props.insertBelow(e.cell.id),n.props.sendCommand(s.b.AddToEnd,"mouse")}}):null;return l.createElement("div",{key:e.cell.id,id:e.cell.id},l.createElement(f.a,null,l.createElement(R,{role:"listitem",maxTextSize:n.props.settings.maxOutputSize,testMode:n.props.testMode,cellVM:e,baseTheme:n.props.baseTheme,codeTheme:n.props.codeTheme,monacoTheme:n.props.monacoTheme,lastCell:null!==r,firstCell:a,font:n.props.font,allowUndo:n.props.undoStack.length>0,editorOptions:n.props.editorOptions,enableGather:n.props.settings.enableGather,themeMatplotlibPlots:n.props.settings.themeMatplotlibPlots,focusPending:n.props.activateCount})),r)},n.scrollDiv=function(e){},n.linkClick=function(e){Object(u.a)(e,n.props.linkClick)},n}return Object(c.c)(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.editorLoaded(),window.addEventListener("keydown",this.mainKeyDown),window.addEventListener("resize",(function(){return e.forceUpdate()}),!0),document.addEventListener("click",this.linkClick,!0)},t.prototype.componentWillUnmount=function(){var e=this;window.removeEventListener("keydown",this.mainKeyDown),window.removeEventListener("resize",(function(){return e.forceUpdate()})),document.removeEventListener("click",this.linkClick),this.props.editorUnmounted()},t.prototype.componentDidUpdate=function(e){var t=this;this.props.loaded&&!e.loaded&&this.waitingForLoadRender&&(this.waitingForLoadRender=!1,setTimeout((function(){window.requestAnimationFrame((function(){t.props.loadedAllCells()}))})))},t.prototype.render=function(){var e={fontSize:this.props.font.size,fontFamily:this.props.font.family};this.props.testMode&&(this.renderCount=this.renderCount+1);var t=this.props.busy&&!this.props.testMode?l.createElement(y.a,null):void 0,n=0===this.props.cellVMs.length?null:l.createElement(O,{includePlus:!0,className:"add-cell-line-top",click:this.props.insertAboveFirst,baseTheme:this.props.baseTheme});return l.createElement("div",{id:"main-panel",role:"Main",style:e},l.createElement("div",{className:"styleSetter"},l.createElement("style",null,this.props.rootCss)),l.createElement("header",{id:"main-panel-toolbar"},this.renderToolbarPanel(),t),l.createElement("section",{id:"main-panel-variable","aria-label":Object(C.a)("DataScience.collapseVariableExplorerLabel","Variables")},this.renderVariablePanel(this.props.baseTheme)),l.createElement("main",{id:"main-panel-content"},n,this.renderContentPanel(this.props.baseTheme)))},t.prototype.renderToolbarPanel=function(){var e=this,t=this.props.cellVMs.findIndex((function(t){return t.cell.id===e.props.selectedCellId})),n=this.props.variableState.visible?Object(C.a)("DataScience.collapseVariableExplorerTooltip","Hide variables active in jupyter kernel"):Object(C.a)("DataScience.expandVariableExplorerTooltip","Show variables active in jupyter kernel"),a=t>0,r=t<this.props.cellVMs.length-1&&this.props.selectedCellId;return l.createElement("div",{id:"toolbar-panel"},l.createElement("div",{className:"toolbar-menu-bar"},l.createElement("div",{className:"toolbar-menu-bar-child"},l.createElement(g.a,{baseTheme:this.props.baseTheme,onClick:function(){e.props.executeAllCells(),e.props.sendCommand(s.b.RunAll,"mouse")},disabled:this.props.busy,className:"native-button",tooltip:Object(C.a)("DataScience.runAll","Run All Cells")},l.createElement(h.a,{baseTheme:this.props.baseTheme,class:"image-button-image",image:h.b.RunAll})),l.createElement(g.a,{baseTheme:this.props.baseTheme,onClick:function(){e.props.selectedCellId&&(e.props.executeAbove(e.props.selectedCellId),e.props.sendCommand(s.b.RunAbove,"mouse"))},disabled:!a||this.props.busy,className:"native-button",tooltip:Object(C.a)("DataScience.runAbove","Run cells above")},l.createElement(h.a,{baseTheme:this.props.baseTheme,class:"image-button-image",image:h.b.RunAbove})),l.createElement(g.a,{baseTheme:this.props.baseTheme,onClick:function(){e.props.selectedCellId&&(e.props.executeCellAndBelow(e.props.selectedCellId,Object(d.b)(e.props.cellVMs[t].cell.data.source)),e.props.sendCommand(s.b.RunBelow,"mouse"))},disabled:!r||this.props.busy,className:"native-button",tooltip:Object(C.a)("DataScience.runBelow","Run cell and below")},l.createElement(h.a,{baseTheme:this.props.baseTheme,class:"image-button-image",image:h.b.RunBelow})),l.createElement(g.a,{baseTheme:this.props.baseTheme,onClick:this.props.restartKernel,disabled:this.props.busy,className:"native-button",tooltip:Object(C.a)("DataScience.restartServer","Restart IPython kernel")},l.createElement(h.a,{baseTheme:this.props.baseTheme,class:"image-button-image",image:h.b.Restart})),l.createElement(g.a,{baseTheme:this.props.baseTheme,onClick:this.props.interruptKernel,disabled:this.props.busy,className:"native-button",tooltip:Object(C.a)("DataScience.interruptKernel","Interrupt IPython kernel")},l.createElement(h.a,{baseTheme:this.props.baseTheme,class:"image-button-image",image:h.b.Interrupt})),l.createElement(g.a,{baseTheme:this.props.baseTheme,onClick:function(){e.props.addCell(),e.props.sendCommand(s.b.AddToEnd,"mouse")},className:"native-button",tooltip:Object(C.a)("DataScience.addNewCell","Insert cell")},l.createElement(h.a,{baseTheme:this.props.baseTheme,class:"image-button-image",image:h.b.InsertBelow})),l.createElement(g.a,{baseTheme:this.props.baseTheme,onClick:this.props.clearAllOutputs,disabled:!this.props.cellVMs.length,className:"native-button",tooltip:Object(C.a)("DataScience.clearAllOutput","Clear All Output")},l.createElement(h.a,{baseTheme:this.props.baseTheme,class:"image-button-image",image:h.b.ClearAllOutput})),l.createElement(g.a,{baseTheme:this.props.baseTheme,onClick:function(){e.props.toggleVariableExplorer(),e.props.sendCommand(s.b.ToggleVariableExplorer,"mouse")},className:"native-button",tooltip:n},l.createElement(h.a,{baseTheme:this.props.baseTheme,class:"image-button-image",image:h.b.VariableExplorer})),l.createElement(g.a,{baseTheme:this.props.baseTheme,onClick:function(){e.props.save(),e.props.sendCommand(s.b.Save,"mouse")},disabled:!this.props.dirty,className:"native-button",tooltip:Object(C.a)("DataScience.save","Save File")},l.createElement(h.a,{baseTheme:this.props.baseTheme,class:"image-button-image",image:h.b.SaveAs})),l.createElement(g.a,{baseTheme:this.props.baseTheme,onClick:this.props.export,disabled:!this.props.cellVMs.length||this.props.busy,className:"native-button",tooltip:Object(C.a)("DataScience.exportAsPythonFileTooltip","Save As Python File")},l.createElement(h.a,{baseTheme:this.props.baseTheme,class:"image-button-image",image:h.b.ExportToPython}))),l.createElement(b.a,{baseTheme:this.props.baseTheme,font:this.props.font,kernel:this.props.kernel,selectServer:function(){e.props.selectServer(),e.props.sendCommand(s.b.SelectServer,"mouse")},selectKernel:function(){e.props.selectKernel(),e.props.sendCommand(s.b.SelectKernel,"mouse")}})),l.createElement("div",{className:"toolbar-divider"}))},t.prototype.renderVariablePanel=function(e){if(this.props.variableState.visible){var t=this.getVariableProps(e);return l.createElement(v.a,Object(c.a)({},t))}return null},t.prototype.renderContentPanel=function(e){if(!this.props.monacoReady&&!this.props.testMode)return null;var t=this.getContentProps(e);return l.createElement(p.a,Object(c.a)({},t))},t}(l.Component);var N,_=n("TMpg"),P=n("U46q"),U=n("Ost8"),B=n("EWE8"),K=n("Z/LF"),F=n("xk4V"),q=n("9BvU");!function(e){function t(e,t,n){var l=Object(j.c)(e,n,!0,!1);l.editable=!0;var a=Object(j.f)(l,n);return l.inputBlockOpen=!0,l.inputBlockText=a,l.hasBeenRun=t,l}function n(e,t){for(var n=t;n>=0;n-=1)if("code"===e[n].cell.data.cell_type)return e[n].cell.id}function l(e){var l=t(Object(j.e)(F(),null),!1,e.prevState.settings),a=Object(c.f)(e.prevState.cellVMs),r=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));r>=0?a.splice(r,0,l):(a.splice(0,0,l),r=0);var o=Object(c.a)(Object(c.a)({},e.prevState),{undoStack:q.a.pushStack(e.prevState.undoStack,e.prevState.cellVMs),cellVMs:a});return e.queueAction(Object(P.c)(s.a.InsertCell,{cell:l.cell,index:r,code:"",codeCellAboveId:n(a,r)})),setTimeout((function(){e.queueAction(V.focusCell(l.cell.id))})),o}function a(e){var l=t(Object(j.e)(F(),null),!1,e.prevState.settings),a=Object(c.f)(e.prevState.cellVMs),r=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId})),o=0;r>=0?(a.splice(r+1,0,l),o=r+1):(a.push(l),r=a.length-2,o=a.length-1);var i=Object(c.a)(Object(c.a)({},e.prevState),{undoStack:q.a.pushStack(e.prevState.undoStack,e.prevState.cellVMs),cellVMs:a});return e.queueAction(Object(P.c)(s.a.InsertCell,{cell:l.cell,index:o,code:"",codeCellAboveId:n(a,r)})),setTimeout((function(){e.queueAction(V.focusCell(l.cell.id))})),i}e.insertAbove=l,e.insertBelow=a,e.insertAboveFirst=function(e){var t=e.prevState.cellVMs.length>0?e.prevState.cellVMs[0].cell.id:void 0;return l(Object(c.a)(Object(c.a)({},e),{payload:{cellId:t}}))},e.addNewCell=function(e){return a(Object(c.a)(Object(c.a)({},e),{payload:{cellId:e.prevState.selectedCellId}}))},e.startCell=function(e){return q.a.updateOrAdd(e,(function(e,n){return t(e,!0,n.settings)}))},e.updateCell=function(e){return q.a.updateOrAdd(e,(function(e,n){return t(e,!0,n.settings)}))},e.finishCell=function(e){return q.a.updateOrAdd(e,(function(e,n){return t(e,!0,n.settings)}))},e.deleteAllCells=function(e){e.queueAction(Object(P.c)(s.a.DeleteAllCells));var t={cell:Object(j.e)(F(),null),editable:!0,inputBlockOpen:!0,inputBlockShow:!0,inputBlockText:"",inputBlockCollapseNeeded:!1,selected:!1,focused:!1,cursorPos:j.a.Current,hasBeenRun:!1,scrollCount:0};return e.queueAction(Object(P.c)(s.a.InsertCell,{cell:t.cell,code:"",index:0,codeCellAboveId:void 0})),Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:[t],undoStack:q.a.pushStack(e.prevState.undoStack,e.prevState.cellVMs),selectedCellId:void 0,focusedCellId:void 0})},e.deleteCell=function(e){var t=e.prevState.cellVMs;if(1===t.length&&t[0].cell.id===e.payload.cellId){var n={cell:Object(j.e)(e.payload.cellId,null),editable:!0,inputBlockOpen:!0,inputBlockShow:!0,inputBlockText:"",inputBlockCollapseNeeded:!1,selected:t[0].selected,focused:t[0].focused,cursorPos:j.a.Current,hasBeenRun:!1,scrollCount:0};return e.queueAction(Object(P.c)(s.a.DeleteCell)),e.queueAction(Object(P.c)(s.a.RemoveCell,{id:e.payload.cellId})),e.queueAction(Object(P.c)(s.a.InsertCell,{cell:n.cell,code:"",index:0,codeCellAboveId:void 0})),Object(c.a)(Object(c.a)({},e.prevState),{undoStack:q.a.pushStack(e.prevState.undoStack,e.prevState.cellVMs),cellVMs:[n]})}if(e.payload.cellId){var l=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));if(l>=0){e.queueAction(Object(P.c)(s.a.DeleteCell)),e.queueAction(Object(P.c)(s.a.RemoveCell,{id:e.payload.cellId}));var a=e.prevState.selectedCellId,r=e.prevState.focusedCellId,o=Object(c.f)(e.prevState.cellVMs.filter((function(t){return t.cell.id!==e.payload.cellId}))),i=l===e.prevState.cellVMs.length-1?l-1:l;return e.prevState.selectedCellId!==e.payload.cellId&&e.prevState.focusedCellId!==e.payload.cellId||i>=0&&(o[i]=Object(c.a)(Object(c.a)({},o[i]),{selected:!0,focused:e.prevState.focusedCellId===e.payload.cellId}),a=o[i].cell.id,r=o[i].focused?o[i].cell.id:void 0),Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:o,selectedCellId:a,focusedCellId:r,undoStack:q.a.pushStack(e.prevState.undoStack,e.prevState.cellVMs),skipNextScroll:!0})}}return e.prevState},e.loadAllCells=function(e){var n=e.payload.cells.map((function(n){return t(n,!1,e.prevState.settings)}));return Object(c.a)(Object(c.a)({},e.prevState),{busy:!1,loadTotal:e.payload.cells.length,undoStack:[],cellVMs:n,loaded:!0})},e.unmount=function(e){return Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:[],undoStack:[],redoStack:[]})}}(N||(N={}));var G,W=n("y18Z"),z=n("Ja+E");!function(e){function t(e){var t=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));if(t>=0&&e.prevState.focusedCellId===e.payload.cellId){var n=Object(c.f)(e.prevState.cellVMs),l=e.prevState.cellVMs[t],a=Object(c.a)(Object(c.a)({},l),{inputBlockText:e.payload.code,focused:!1,cell:Object(c.a)(Object(c.a)({},l.cell),{data:Object(c.a)(Object(c.a)({},l.cell.data),{source:e.payload.code})})});return n[t]=q.a.asCellViewModel(a),Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:n,focusedCellId:void 0})}if(t>=0){n=Object(c.f)(e.prevState.cellVMs),l=e.prevState.cellVMs[t],a=Object(c.a)(Object(c.a)({},l),{inputBlockText:e.payload.code,cell:Object(c.a)(Object(c.a)({},l.cell),{data:Object(c.a)(Object(c.a)({},l.cell.data),{source:e.payload.code})})});return n[t]=a,Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:n})}return e.prevState}function n(e){var t=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));if(t>=0&&e.prevState.selectedCellId===e.payload.cellId){var n=Object(c.f)(e.prevState.cellVMs),l=e.prevState.cellVMs[t],a=Object(c.a)(Object(c.a)({},l),{selected:!1});return n[t]=a,Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:n,selectedCellId:void 0})}return e.prevState}e.focusCell=function(e){if(e.prevState.focusedCellId!==e.payload.cellId){var l=e.prevState,a=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.prevState.focusedCellId}));if(a<0&&(a=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.prevState.selectedCellId}))),a>=0){var r=l.cellVMs[a],o=r.uncomittedText||r.inputBlockText;l=t(Object(c.a)(Object(c.a)({},e),{prevState:l,payload:{cellId:l.cellVMs[a].cell.id,code:o}})),l=n(Object(c.a)(Object(c.a)({},e),{prevState:l,payload:{cellId:l.cellVMs[a].cell.id}}))}var i=Object(c.f)(l.cellVMs),s=i.findIndex((function(t){return t.cell.id===e.payload.cellId}));return s>=0&&(i[s]=Object(c.a)(Object(c.a)({},i[s]),{focused:!0,selected:!0,cursorPos:e.payload.cursorPos})),Object(c.a)(Object(c.a)({},l),{cellVMs:i,focusedCellId:e.payload.cellId,selectedCellId:e.payload.cellId})}return e.prevState},e.unfocusCell=t,e.deselectCell=n,e.selectCell=function(e,l){if(e.payload.cellId!==e.prevState.selectedCellId){var a=e.prevState,r=a.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId})),o="string"==typeof a.focusedCellId&&a.focusedCellId===a.selectedCellId,i="boolean"==typeof l?l:o,s=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.prevState.focusedCellId}));if(s<0&&(s=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.prevState.selectedCellId}))),s>=0){var d=a.cellVMs[s],p=d.uncomittedText||d.inputBlockText;a=t(Object(c.a)(Object(c.a)({},e),{prevState:a,payload:{cellId:a.cellVMs[s].cell.id,code:p}})),a=n(Object(c.a)(Object(c.a)({},e),{prevState:a,payload:{cellId:a.cellVMs[s].cell.id}}))}var u=Object(c.f)(a.cellVMs);return r>=0&&e.payload.cellId!==a.selectedCellId&&(u[r]=Object(c.a)(Object(c.a)({},u[r]),{focused:i,selected:!0,cursorPos:e.payload.cursorPos})),Object(c.a)(Object(c.a)({},a),{cellVMs:u,focusedCellId:i?e.payload.cellId:void 0,selectedCellId:e.payload.cellId})}return e.prevState},e.toggleLineNumbers=function(e){var t=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));if(t>=0){var n=Object(c.f)(e.prevState.cellVMs);return n[t]=Object(c.a)(Object(c.a)({},n[t]),{showLineNumbers:!n[t].showLineNumbers}),Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:n})}return e.prevState},e.toggleOutput=function(e){var t=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));if(t>=0){var n=Object(c.f)(e.prevState.cellVMs);return n[t]=Object(c.a)(Object(c.a)({},n[t]),{hideOutput:!n[t].hideOutput}),Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:n})}return e.prevState},e.updateSettings=function(e){var t=JSON.parse(e.payload),n=Object(z.a)(t),l=t.extraSettings?t.extraSettings.fontFamily:e.prevState.font.family,a=t.extraSettings?t.extraSettings.fontSize:e.prevState.font.size;if(t&&t.extraSettings&&t.extraSettings.theme!==e.prevState.vscodeThemeName){var r=q.a.computeKnownDark(t);e.queueAction(Object(P.c)(W.a.GetCssRequest,{isDark:r})),e.queueAction(Object(P.c)(W.a.GetMonacoThemeRequest,{isDark:r}))}return Object(c.a)(Object(c.a)({},e.prevState),{settings:t,editorOptions:Object(c.a)(Object(c.a)({},n),{lineDecorationsWidth:5}),font:{size:a,family:l}})}}(G||(G={}));var X,H,J,Z,Q=n("PZUy"),Y=n("kYDi"),$=n("BkRI");!function(e){function t(e,t,n,l,a){for(var r=Object(c.f)(e.cellVMs),o=t;o<=n;o+=1){var i=e.cellVMs[o],d=l[o-t],p=new Q.a(e.settings);if(d&&p.stripFirstMarker(d).length>0){var u=$(i.cell.data);u.source=d,"code"===i.cell.data.cell_type?(u.outputs=[],r[o]=q.a.asCellViewModel(Object(c.a)(Object(c.a)({},i),{inputBlockText:d,cell:Object(c.a)(Object(c.a)({},i.cell),{state:w.a.executing,data:u})})),a(Object(P.c)(s.a.ReExecuteCell,{code:d,id:i.cell.id}))):r[o]=q.a.asCellViewModel(Object(c.a)(Object(c.a)({},i),{inputBlockText:d,cell:Object(c.a)(Object(c.a)({},i.cell),{data:u})}))}}return Object(c.a)(Object(c.a)({},e),{cellVMs:r})}function n(e){var n=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));if(n>=0){var l=t(e.prevState,n,n,[e.payload.code],e.queueAction);switch(e.payload.moveOp){case"add":return N.insertBelow(Object(c.a)(Object(c.a)({},e),{prevState:l}));case"select":return n<e.prevState.cellVMs.length-1?G.selectCell(Object(c.a)(Object(c.a)({},e),{prevState:Object(c.a)({},l),payload:Object(c.a)(Object(c.a)({},e.payload),{cellId:e.prevState.cellVMs[n+1].cell.id,cursorPos:j.a.Current})}),!1):l;default:return l}}return e.prevState}function l(e){var n=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));if(n>=0){var l=e.prevState.cellVMs.filter((function(e,t){return t>n})).map((function(e){return Object(d.b)(e.cell.data.source)}));return t(e.prevState,n,n+l.length,Object(c.f)([e.payload.code],l),e.queueAction)}return e.prevState}e.executeAbove=function(e){var n=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));if(n>0){var l=e.prevState.cellVMs.filter((function(e,t){return t<n})).map((function(e){return Object(d.b)(e.cell.data.source)}));return t(e.prevState,0,n-1,l,e.queueAction)}return e.prevState},e.executeCell=n,e.executeCellAndBelow=l,e.executeAllCells=function(e){var t=e.prevState.cellVMs.length>0?e.prevState.cellVMs[0].cell.id:void 0;return t?l(Object(c.a)(Object(c.a)({},e),{payload:{cellId:t,code:Object(d.b)(e.prevState.cellVMs[0].cell.data.source)}})):e.prevState},e.executeSelectedCell=function(e){var t=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.prevState.selectedCellId}));return e.prevState.selectedCellId&&t>=0?n(Object(c.a)(Object(c.a)({},e),{payload:{cellId:e.prevState.selectedCellId,code:Object(d.b)(e.prevState.cellVMs[t].cell.data.source),moveOp:"none"}})):e.prevState},e.clearAllOutputs=function(e){var t=e.prevState.cellVMs.map((function(e){return q.a.asCellViewModel(Object(c.a)(Object(c.a)({},e),{cell:Object(c.a)(Object(c.a)({},e.cell),{data:Object(c.a)(Object(c.a)({},e.cell.data),{outputs:[],execution_count:null})})}))}));return e.queueAction(Object(P.c)(s.a.ClearAllOutputs)),Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:t})},e.changeCellType=function(e){var t=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));if(t>=0){var n=Object(c.f)(e.prevState.cellVMs),l=e.prevState.cellVMs[t],a="code"===l.cell.data.cell_type?"markdown":"code",r=Object(Y.a)(l.cell.data,a);r.source=e.payload.currentCode;var o=Object(c.a)(Object(c.a)({},l),{inputBlockText:e.payload.currentCode,cell:Object(c.a)(Object(c.a)({},l.cell),{data:r})});return n[t]=o,"code"===a?e.queueAction(Object(P.c)(s.a.InsertCell,{cell:n[t].cell,index:t,code:e.payload.currentCode,codeCellAboveId:q.a.firstCodeCellAbove(e.prevState,l.cell.id)})):e.queueAction(Object(P.c)(s.a.RemoveCell,{id:l.cell.id})),G.focusCell(Object(c.a)(Object(c.a)({},e),{prevState:Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:n}),payload:{cellId:e.payload.cellId,cursorPos:j.a.Current}}))}return e.prevState},e.undo=function(e){if(e.prevState.undoStack.length>0){var t=e.prevState.undoStack[e.prevState.undoStack.length-1],n=e.prevState.undoStack.slice(0,e.prevState.undoStack.length-1),l=t.findIndex((function(e){return e.selected})),a=q.a.pushStack(e.prevState.redoStack,e.prevState.cellVMs);return e.queueAction(Object(P.c)(s.a.Undo)),Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:t,undoStack:n,redoStack:a,skipNextScroll:!0,selectedCellId:l>=0?t[l].cell.id:void 0,focusedCellId:l>=0&&t[l].focused?t[l].cell.id:void 0})}return e.prevState},e.redo=function(e){if(e.prevState.redoStack.length>0){var t=e.prevState.redoStack[e.prevState.redoStack.length-1],n=e.prevState.redoStack.slice(0,e.prevState.redoStack.length-1),l=q.a.pushStack(e.prevState.undoStack,e.prevState.cellVMs),a=t.findIndex((function(e){return e.selected}));return e.queueAction(Object(P.c)(s.a.Redo)),Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:t,undoStack:l,redoStack:n,skipNextScroll:!0,selectedCellId:a>=0?t[a].cell.id:void 0,focusedCellId:a>=0&&t[a].focused?t[a].cell.id:void 0})}return e.prevState}}(X||(X={})),(J=H||(H={})).moveCellUp=function(e){var t,n=Object(c.f)(e.prevState.cellVMs),l=n.findIndex((function(t){return t.cell.id===e.payload.cellId}));return l>0?(t=[n[l],n[l-1]],n[l-1]=t[0],n[l]=t[1],e.queueAction(Object(P.c)(s.a.SwapCells,{firstCellId:e.payload.cellId,secondCellId:n[l].cell.id})),Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:n,undoStack:q.a.pushStack(e.prevState.undoStack,e.prevState.cellVMs)})):e.prevState},J.moveCellDown=function(e){var t,n=Object(c.f)(e.prevState.cellVMs),l=n.findIndex((function(t){return t.cell.id===e.payload.cellId}));return l<n.length-1?(t=[n[l],n[l+1]],n[l+1]=t[0],n[l]=t[1],e.queueAction(Object(P.c)(s.a.SwapCells,{firstCellId:e.payload.cellId,secondCellId:n[l].cell.id})),Object(c.a)(Object(c.a)({},e.prevState),{cellVMs:n,undoStack:q.a.pushStack(e.prevState.undoStack,e.prevState.cellVMs)})):e.prevState},J.arrowUp=function(e){var t=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));if(t>0){var n=G.selectCell(Object(c.a)(Object(c.a)({},e),{payload:{cellId:e.prevState.cellVMs[t-1].cell.id,cursorPos:j.a.Bottom}})),l=Object(c.f)(n.cellVMs);return l[t]=q.a.asCellViewModel(Object(c.a)(Object(c.a)({},l[t]),{inputBlockText:e.payload.code,cell:Object(c.a)(Object(c.a)({},l[t].cell),{data:Object(c.a)(Object(c.a)({},l[t].cell.data),{source:e.payload.code})})})),Object(c.a)(Object(c.a)({},n),{cellVMs:l})}return e.prevState},J.arrowDown=function(e){var t=e.prevState.cellVMs.findIndex((function(t){return t.cell.id===e.payload.cellId}));if(t<e.prevState.cellVMs.length-1){var n=G.selectCell(Object(c.a)(Object(c.a)({},e),{payload:{cellId:e.prevState.cellVMs[t+1].cell.id,cursorPos:j.a.Top}})),l=Object(c.f)(n.cellVMs);return l[t]=q.a.asCellViewModel(Object(c.a)(Object(c.a)({},l[t]),{inputBlockText:e.payload.code,cell:Object(c.a)(Object(c.a)({},l[t].cell),{data:Object(c.a)(Object(c.a)({},l[t].cell.data),{source:e.payload.code})})})),Object(c.a)(Object(c.a)({},n),{cellVMs:l})}return e.prevState};var ee=((Z={})[M.a.INSERT_ABOVE]=N.insertAbove,Z[M.a.INSERT_ABOVE_FIRST]=N.insertAboveFirst,Z[M.a.INSERT_BELOW]=N.insertBelow,Z[M.a.FOCUS_CELL]=G.focusCell,Z[M.a.UNFOCUS_CELL]=G.unfocusCell,Z[M.a.ADD_NEW_CELL]=N.addNewCell,Z[M.a.EXECUTE_CELL]=X.executeCell,Z[M.a.EXECUTE_ALL_CELLS]=X.executeAllCells,Z[M.a.EXECUTE_ABOVE]=X.executeAbove,Z[M.a.EXECUTE_CELL_AND_BELOW]=X.executeCellAndBelow,Z[M.a.RESTART_KERNEL]=B.a.restartKernel,Z[M.a.INTERRUPT_KERNEL]=B.a.interruptKernel,Z[M.a.CLEAR_ALL_OUTPUTS]=X.clearAllOutputs,Z[M.a.EXPORT]=K.a.exportCells,Z[M.a.SAVE]=K.a.save,Z[M.a.SHOW_DATA_VIEWER]=K.a.showDataViewer,Z[M.a.SEND_COMMAND]=K.a.sendCommand,Z[M.a.SELECT_CELL]=G.selectCell,Z[M.a.SELECT_KERNEL]=B.a.selectKernel,Z[M.a.SELECT_SERVER]=B.a.selectJupyterURI,Z[M.a.MOVE_CELL_UP]=H.moveCellUp,Z[M.a.MOVE_CELL_DOWN]=H.moveCellDown,Z[M.a.DELETE_CELL]=N.deleteCell,Z[M.a.TOGGLE_LINE_NUMBERS]=G.toggleLineNumbers,Z[M.a.TOGGLE_OUTPUT]=G.toggleOutput,Z[M.a.CHANGE_CELL_TYPE]=X.changeCellType,Z[M.a.UNDO]=X.undo,Z[M.a.REDO]=X.redo,Z[M.a.ARROW_UP]=H.arrowUp,Z[M.a.ARROW_DOWN]=H.arrowDown,Z[M.a.EDIT_CELL]=K.a.editCell,Z[M.a.SHOW_PLOT]=K.a.showPlot,Z[M.a.LINK_CLICK]=K.a.linkClick,Z[M.a.GATHER_CELL]=K.a.gather,Z[M.a.EDITOR_LOADED]=K.a.started,Z[M.a.LOADED_ALL_CELLS]=K.a.loadedAllCells,Z[M.a.UNMOUNT]=N.unmount,Z[P.b.STARTCELL]=N.startCell,Z[P.b.FINISHCELL]=N.finishCell,Z[P.b.UPDATECELL]=N.updateCell,Z[P.b.NOTEBOOKDIRTY]=U.a.notebookDirty,Z[P.b.NOTEBOOKCLEAN]=U.a.notebookClean,Z[P.b.LOADALLCELLS]=N.loadAllCells,Z[P.b.NOTEBOOKRUNALLCELLS]=X.executeAllCells,Z[P.b.NOTEBOOKRUNSELECTEDCELL]=X.executeSelectedCell,Z[P.b.NOTEBOOKADDCELLBELOW]=N.addNewCell,Z[P.b.DOSAVE]=K.a.save,Z[P.b.DELETEALLCELLS]=N.deleteAllCells,Z[P.b.UNDO]=X.undo,Z[P.b.REDO]=X.redo,Z[P.b.STARTPROGRESS]=U.a.startProgress,Z[P.b.STOPPROGRESS]=U.a.stopProgress,Z[P.b.UPDATESETTINGS]=G.updateSettings,Z[P.b.ACTIVATE]=U.a.activate,Z[P.b.RESTARTKERNEL]=B.a.handleRestarted,Z[P.b.GETCSSRESPONSE]=U.a.handleCss,Z[P.b.MONACOREADY]=U.a.monacoReady,Z[P.b.GETMONACOTHEMERESPONSE]=U.a.monacoThemeChange,Z[P.b.UPDATEKERNEL]=B.a.updateStatus,Z[P.b.LOCINIT]=U.a.handleLocInit,Z);var te,ne,le,ae=Object(o.a)(),re=window.inTestMode,oe=!re&&"undefined"!=typeof acquireVsCodeApi,ce=(te=oe,ne=ae,le=re,_.a(te,ne,le,!0,ee)),ie=Object(r.b)(L,V)(D);a.render(l.createElement(r.a,{store:ce},l.createElement(ie,null)),document.getElementById("root"))},"x/JJ":function(e,t,n){(t=e.exports=n("I1BE")(!1)).i(n("9RTN"),""),t.push([e.i,"/* Import common styles and then override them below */\n:root {\n  --right-offset-px: 94px;\n}\n.toolbar-panel-button {\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--override-badge-background, var(--vscode-badge-background));\n  color: var(--override-foreground, var(--vscode-editor-foreground));\n  text-align: center;\n  overflow: hidden;\n  margin-left: 2px;\n  padding: 2px;\n  background-color: transparent;\n  cursor: hand;\n}\n.measure-editor-div {\n  width: 90vw;\n  visibility: hidden;\n  position: absolute;\n}\n.cell-wrapper {\n  margin: 2px 2px 0px 0px;\n  position: relative;\n  min-height: 55px;\n}\n.cell-wrapper-focused {\n  margin: 2px 2px 0px 0px;\n}\n.cell-wrapper-selected {\n  margin: 2px 2px 0px 0px;\n}\n.cell-menu-bar-outer {\n  justify-self: right;\n}\n.cell-output {\n  margin-top: 5px;\n  background: transparent;\n  width: calc(100vw - var(--right-offset-px));\n  overflow-x: scroll;\n  grid-row: 1;\n  grid-column: 3;\n}\n.markdown-cell-output-container {\n  grid-row: 1;\n  grid-column: 3;\n}\n.markdown-cell-output {\n  width: calc(100vw - var(--right-offset-px));\n  overflow-x: scroll;\n}\n.cell-outer {\n  display: grid;\n  grid-template-columns: auto auto 1fr;\n}\n.cell-outer-editable {\n  display: grid;\n  grid-template-columns: auto auto 1fr;\n  margin-top: 0px;\n}\n.cell-state-selector {\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--override-badge-background, var(--vscode-badge-background));\n  color: var(--override-foreground, var(--vscode-editor-foreground));\n  text-align: center;\n  overflow: hidden;\n  margin-left: 2px;\n  padding: 2px;\n  background-color: transparent;\n  cursor: hand;\n}\n.cell-state-selector-option {\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--override-badge-background, var(--vscode-badge-background));\n  color: var(--override-foreground, var(--vscode-editor-foreground));\n  background-color: var(--override-background, var(--vscode-editor-background));\n}\n.code-area {\n  position: relative;\n  width: 100%;\n  padding-right: 8px;\n  margin-bottom: 0px;\n  padding-left: 2px;\n  padding-top: 2px;\n  background: var(--override-widget-background, var(--vscode-notifications-background));\n}\n.markdown-editor-area {\n  position: relative;\n  width: 100%;\n  padding-right: 10px;\n  margin-bottom: 0px;\n  padding-left: 2px;\n  padding-top: 2px;\n  background: var(--override-widget-background, var(--vscode-notifications-background));\n}\n.code-watermark {\n  top: 5px;\n  /* Account for extra padding and border in native editor */\n}\n.cell-input {\n  margin: 2px 10px 0px 0px;\n  grid-column: 3;\n  grid-row: 1;\n  min-width: calc(100% - var(--right-offset-px));\n}\n.content-div {\n  grid-column: 3;\n}\n.controls-div {\n  min-width: 34px;\n  padding-left: 4px;\n  padding-right: 4px;\n  display: block;\n  grid-column: 2;\n  grid-row: 1;\n}\n.navbar-div {\n  grid-column: 1;\n  visibility: hidden;\n  display: grid;\n  grid-template-rows: var(--button-size) var(--button-size) auto;\n}\n.navbar-add-button {\n  align-self: end;\n}\n.execution-count {\n  justify-self: end;\n  margin-bottom: 10px;\n  margin-top: 1px;\n}\n.execution-count-busy-outer {\n  justify-self: end;\n}\n.native-editor-celltoolbar-inner {\n  justify-self: center;\n  grid-column: 1;\n}\n.native-editor-celltoolbar-middle {\n  display: flex;\n  grid-column: 3;\n  grid-row: 2;\n  justify-items: left;\n  background: var(--vscode-notifications-background);\n}\n.native-editor-celltoolbar-divider {\n  background-color: var(--vscode-badge-background);\n  height: 2px;\n}\n.code-toolbar {\n  visibility: visible;\n}\n.markdown-toolbar {\n  visibility: collapse;\n}\n.hover-cell-button {\n  visibility: collapse;\n}\n.cell-wrapper:hover .hover-cell-button {\n  visibility: visible;\n}\n.cell-wrapper-selected .hover-cell-button {\n  visibility: visible;\n}\n.cell-wrapper-focused .hover-cell-button {\n  visibility: visible;\n}\n.delete-cell-button {\n  right: 2px;\n  position: absolute;\n  visibility: collapse;\n}\n.cell-wrapper:hover .navbar-div {\n  visibility: visible;\n}\n.cell-wrapper-selected .navbar-div {\n  visibility: visible;\n}\n.cell-wrapper-focused .navbar-div {\n  visibility: visible;\n}\n.cell-wrapper:hover .markdown-toolbar {\n  visibility: visible;\n}\n.cell-wrapper-selected .markdown-toolbar {\n  visibility: visible;\n}\n.cell-wrapper-focused .markdown-toolbar {\n  visibility: visible;\n}\n.native-editor-flyout-button {\n  width: auto;\n  height: auto;\n  border-color: transparent;\n  background-color: transparent;\n  padding: 0px;\n  margin-left: 4px;\n  margin-right: 0px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  border-width: 0px;\n}\n.native-editor-flyout-button:focus {\n  outline: none;\n}\n.native-editor-cellflyout {\n  position: relative;\n  left: 20px;\n  top: -15px;\n  width: auto;\n  height: auto;\n  padding-top: 2px;\n  padding-right: 2px;\n  z-index: 100;\n}\n.native-editor-cellflyout-selected {\n  background-color: var(--vscode-peekView-border);\n}\n.native-editor-cellflyout-focused {\n  background-color: var(--vscode-editorInfo-foreground);\n}\n.flyout-button-content {\n  color: var(--override-foreground, var(--vscode-editor-foreground));\n}\n.native-button {\n  margin-top: 3px;\n  background: var(--override-background, var(--vscode-editor-background));\n  z-index: 10;\n}\n#toolbar-panel {\n  margin-top: 2px;\n  margin-bottom: 2px;\n  margin-left: 0px;\n  margin-right: 0px;\n}\n#content-panel-div {\n  overflow: hidden;\n}\n/* Fix image buttons that are supposed to be hidden from showing up */\n.flyout-children-hidden .image-button {\n  width: 0px;\n  height: 0px;\n  margin-left: 0px;\n  padding: 0px;\n}\n.add-cell-line {\n  display: flex;\n  justify-content: left;\n  margin-top: 5px;\n  margin-bottom: 0px;\n  margin-left: 5px;\n  margin-right: 5px;\n}\n.add-cell-line:focus-within {\n  outline: 1px solid black;\n}\n.add-cell-line-top {\n  margin-top: 2px;\n  margin-bottom: 0px;\n}\n.add-cell-line-top-force-visible {\n  margin-top: 2px;\n  margin-bottom: 0px;\n}\n.add-cell-line-top .add-cell-line-button {\n  visibility: hidden;\n}\n.add-cell-line-button {\n  border-width: 0px;\n  border-style: solid;\n  text-align: center;\n  line-height: 16px;\n  background-color: transparent;\n  cursor: hand;\n  height: var(--button-size);\n  padding: 0px;\n  display: flex;\n}\n.add-cell-line-button:focus {\n  outline: none;\n}\n.add-cell-line-top:hover .add-cell-line-button {\n  visibility: visible;\n}\n.add-cell-line-button .image-button-image {\n  height: var(--button-size);\n}\n.add-cell-line-button .image-button-image svg {\n  height: var(--button-size);\n}\n.add-cell-line-divider {\n  margin-top: 8px;\n  margin-left: 2px;\n  width: calc(100vw - 40px);\n  border-width: 0px;\n  border-top-color: var(--override-badge-background, var(--vscode-badge-background));\n  border-top-width: 1px;\n  border-style: solid;\n}\n.add-cell-line-divider:hover {\n  cursor: pointer;\n}\n.cell-wrapper-selected .add-cell-line {\n  visibility: visible;\n}\n.cell-wrapper-focused .add-cell-line {\n  visibility: visible;\n}\n/*\nCell Row Container layout\n--------------------------\ncollapse-bar        controls-div        [cell-input, cell-output, markdown-cell-output-container]\n(expanded c-bar)    celltoolbar-middle\n*/\n.cell-row-container {\n  display: grid;\n  grid-template-columns: auto auto 1fr;\n  grid-template-rows: 1fr auto;\n}\n.collapse-bar {\n  grid-column: 1;\n  grid-row-start: 1;\n  grid-row-end: 2;\n  background-color: transparent;\n  max-width: 8px;\n  min-width: 8px;\n}\n.cell-wrapper:hover .collapse-bar {\n  background-color: var(--override-widget-background, var(--vscode-notifications-background));\n}\n.collapse-bar-markdown {\n  margin: 0px 44px 0px 0px;\n}\n.collapse-bar-output {\n  margin: 0px 28px 0px 16px;\n}\n.collapse-bar-selected {\n  background-color: var(--vscode-peekView-border);\n  grid-row-start: 1;\n  grid-row-end: 3;\n}\n.collapse-bar-focused {\n  background: repeating-linear-gradient(-45deg, transparent, transparent 3px, var(--vscode-editorGutter-addedBackground) 3px, var(--vscode-editorGutter-addedBackground) 6px);\n  grid-row-start: 1;\n  grid-row-end: 3;\n}\n.cell-wrapper:hover .collapse-bar-selected {\n  background-color: var(--vscode-peekView-border);\n}\n.cell-wrapper:hover .collapse-bar-focused {\n  background: repeating-linear-gradient(-45deg, transparent, transparent 3px, var(--vscode-editorGutter-addedBackground) 3px, var(--vscode-editorGutter-addedBackground) 6px);\n}\n.add-divider {\n  visibility: hidden;\n  margin: 0px;\n  position: absolute;\n  bottom: 8px;\n}\n.cell-wrapper:hover .add-divider {\n  visibility: hidden;\n  z-index: -100;\n  pointer-events: none;\n}\n.cell-wrapper-selected .add-divider {\n  visibility: hidden;\n  z-index: -100;\n  pointer-events: none;\n}\n.cell-wrapper-focused .add-divider {\n  visibility: hidden;\n  z-index: -100;\n  pointer-events: none;\n}\n.cell-wrapper-selected:hover .add-divider {\n  visibility: hidden;\n  z-index: -100;\n  pointer-events: none;\n}\n.cell-wrapper-focused:hover .add-divider {\n  visibility: hidden;\n  z-index: -100;\n  pointer-events: none;\n}\n.toolbar-menu-bar .image-button {\n  margin-left: 8px;\n}\n",""])}});
//# sourceMappingURL=nativeEditor.js.map